/*! For license information please see main.7d8ad5cb.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{300:function(t,e,r){t.exports=r.p+"static/media/planilha.549edeba.xlsx"},457:function(t,e,r){t.exports=r.p+"static/media/sound.9fd5812c.mp3"},462:function(t,e,r){t.exports=r.p+"static/media/zapsimples.84b97029.png"},463:function(t,e,r){t.exports=r.p+"static/media/chat_notify.2529c259.mp3"},485:function(t,e,r){t.exports=r.p+"static/media/wa-background.2675a051.png"},551:function(t,e,r){t.exports=r(784)},784:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(36),i=r.n(o),c=r(898),u=r(1),l=r(43),s=r(63),f=r(11),h=r(7),d=r(56),p=r(5),m=r(847),v=r(53),y=r(794),g=r(928),b=r(528),E=r(844),w=r(846),x=r(860),O=r(861),L=r(101),j=r(522),k=r(853),S=r(465),_=r.n(S),N=r(464),T=r.n(N),C=r(466),I=r.n(C),A=r(4),P=r(39),M=r(12),G=r(785),F=r(841),R=r(842),D=r(845),W=r(843),q=r(786),Y=r(444),z=r.n(Y),B=r(163),U=r.n(B),H=r(445),V=r.n(H),Q=r(358),K=r.n(Q),J=r(453),X=r.n(J),Z=r(447),$=r.n(Z),tt=r(454),et=r.n(tt),rt=r(446),nt=r.n(rt),at=r(450),ot=r.n(at),it=r(452),ct=r.n(it),ut=r(448),lt=r.n(ut),st=r(449),ft=r.n(st),ht=r(275),dt=r.n(ht),pt=r(451),mt=r.n(pt),vt=r(276),yt=r.n(vt),gt=r(278),bt=r.n(gt),Et=r(277),wt=r.n(Et),xt=r(279),Ot=r.n(xt),Lt=r(274),jt=r.n(Lt),kt=r(355),St=r(442),_t=Object(h.a)(Object(h.a)(Object(h.a)({},{pt:{translations:{signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},login:{title:"Login",form:{email:"Email",password:"Senha"},buttons:{submit:"Entrar",register:"N\xe3o tem um conta? Cadastre-se!"}},companies:{title:"Cadastrar Empresa",form:{name:"Nome da Empresa",plan:"Plano",token:"Token",submit:"Cadastrar",success:"Empresa criada com sucesso!"}},auth:{toasts:{success:"Login efetuado com sucesso!"},token:"Token"},dashboard:{charts:{perDay:{title:"Atendimentos hoje: "}}},connections:{title:"Conex\xf5es",toasts:{deleted:"Conex\xe3o com o WhatsApp exclu\xedda com sucesso!"},confirmationModal:{deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar WhatsApp",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o"}},whatsappModal:{title:{add:"Adicionar WhatsApp",edit:"Editar WhatsApp"},form:{name:"Nome",default:"Padr\xe3o"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"WhatsApp salvo com sucesso."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados ser\xe3o perdidos.",importMessage:"Deseja importar todos os contatos do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato"},table:{name:"Nome",whatsapp:"WhatsApp",email:"Email",actions:"A\xe7\xf5es"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor"},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},queueModal:{title:{add:"Adicionar fila",edit:"Editar fila"},form:{name:"Nome",color:"Cor",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",outOfHoursMessage:"Mensagem de fora de expediente",ratingMessage:"Mensagem de avalia\xe7\xe3o",token:"Token"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},userModal:{title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio"},form:{name:"Nome",email:"Email",password:"Senha",profile:"Perfil"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Usu\xe1rio salvo com sucesso."},scheduleModal:{title:{add:"Novo Agendamento",edit:"Editar Agendamento"},form:{body:"Mensagem",contact:"Contato",sendAt:"Data de Agendamento",sentAt:"Data de Envio"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Agendamento salvo com sucesso."},tagModal:{title:{add:"Nova Tag",edit:"Editar Tag"},form:{name:"Nome",color:"Cor"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Tag salvo com sucesso."},chat:{noTicketMessage:"Selecione um ticket para come\xe7ar a conversar."},ticketsManager:{buttons:{newTicket:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{toasts:{deleted:"O atendimento que voc\xea estava foi deletado."},notification:{message:"Mensagem de"},tabs:{open:{title:"Abertas"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar atendimento e mensagens"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Digite para buscar usu\xe1rios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Selecione uma fila",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Aguardando",assignedHeader:"Atendendo",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum atendimento encontrado com esse status ou termo pesquisado",buttons:{accept:"Aceitar"}},newTicketModal:{title:"Criar Ticket",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",tickets:"Atendimentos",quickMessages:"Respostas R\xe1pidas",contacts:"Contatos",queues:"Filas & Chatbot",tags:"Tags",administration:"Administra\xe7\xe3o",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es",helps:"Ajuda",messagesAPI:"API",schedules:"Agendamentos",campaigns:"Campanhas",annoucements:"Informativos",chats:"Chat Interno"},appBar:{user:{profile:"Perfil",logout:"Sair"}}},messagesAPI:{title:"API",textMessage:{number:"N\xfamero",body:"Mensagem",token:"Token cadastrado"},mediaMessage:{number:"N\xfamero",body:"Nome do arquivo",media:"Arquivo",token:"Token cadastrado"}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},quickMessages:{title:"Respostas R\xe1pidas",buttons:{add:"Nova Resposta"},dialog:{shortcode:"Atalho",message:"Resposta"}},contactLists:{title:"Listas de Contatos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lista"},dialog:{name:"Nome",company:"Empresa",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{deleted:"Registro exclu\xeddo"}},contactListItems:{title:"Contatos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo",lists:"Listas",import:"Importar"},dialog:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida.",importMessage:"Deseja importar os contatos desta planilha? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},campaigns:{title:"Campanhas",searchPlaceholder:"Pesquisa",buttons:{add:"Nova Campanha",contactLists:"Listas de Contatos"},table:{name:"Nome",whatsapp:"Conex\xe3o",contactList:"Lista de Contatos",status:"Status",scheduledAt:"Agendamento",completedAt:"Conclu\xedda",confirmation:"Confirma\xe7\xe3o",actions:"A\xe7\xf5es"},dialog:{new:"Nova Campanha",update:"Editar Campanha",readonly:"Apenas Visualiza\xe7\xe3o",form:{name:"Nome",message1:"Mensagem 1",message2:"Mensagem 2",message3:"Mensagem 3",message4:"Mensagem 4",message5:"Mensagem 5",confirmationMessage1:"Mensagem de Confirma\xe7\xe3o 1",confirmationMessage2:"Mensagem de Confirma\xe7\xe3o 2",confirmationMessage3:"Mensagem de Confirma\xe7\xe3o 3",confirmationMessage4:"Mensagem de Confirma\xe7\xe3o 4",confirmationMessage5:"Mensagem de Confirma\xe7\xe3o 5",messagePlaceholder:"Conte\xfado da mensagem",whatsapp:"Conex\xe3o",status:"Status",scheduledAt:"Agendamento",confirmation:"Confirma\xe7\xe3o",contactList:"Lista de Contato"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar Disparos",restart:"Reiniciar Disparos",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",cancel:"Campanha cancelada",restart:"Campanha reiniciada",deleted:"Registro exclu\xeddo"}},announcements:{title:"Informativos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo Informativo",contactLists:"Listas de Informativos"},table:{priority:"Prioridade",title:"Title",text:"Texto",mediaName:"Arquivo",status:"Status",actions:"A\xe7\xf5es"},dialog:{edit:"Edi\xe7\xe3o de Informativo",add:"Novo Informativo",update:"Editar Informativo",readonly:"Apenas Visualiza\xe7\xe3o",form:{priority:"Prioridade",title:"Title",text:"Texto",mediaPath:"Arquivo",status:"Status"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",deleted:"Registro exclu\xeddo"}},campaignsConfig:{title:"Configura\xe7\xf5es de Campanhas"},queues:{title:"Filas & Chatbot",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar fila"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os atendimentos dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queueSelect:{inputLabel:"Filas"},users:{title:"Usu\xe1rios",table:{name:"Nome",email:"Email",profile:"Perfil",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os atendimento abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},helps:{title:"Central de Ajuda"},schedules:{title:"Agendamentos",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir este Agendamento?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{contact:"Contato",body:"Mensagem",sendAt:"Data de Agendamento",sentAt:"Data de Envio",status:"Status",actions:"A\xe7\xf5es"},buttons:{add:"Novo Agendamento"},toasts:{deleted:"Agendamento exclu\xeddo com sucesso."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Tag?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{name:"Nome",color:"Cor",tickets:"Registros Tagdos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Tag"},toasts:{deleted:"Tag exclu\xeddo com sucesso."}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar"}}},messagesInput:{placeholderOpen:"Digite uma mensagem",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato"},extraInfo:"Outras informa\xe7\xf5es"},ticketOptionsMenu:{schedule:"Agendamento",delete:"Deletar",transfer:"Transferir",registerAppointment:"Observa\xe7\xf5es do Contato",appointmentsModal:{title:"Observa\xe7\xf5es do Contato",textarea:"Observa\xe7\xe3o",placeholder:"Insira aqui a informa\xe7\xe3o que deseja registrar"},confirmationModal:{title:"Deletar o ticket do contato",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao ticket ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila."}}}}),{en:{translations:{signup:{title:"Sign up",toasts:{success:"User created successfully! Please login!",fail:"Error creating user. Check the reported data."},form:{name:"Name",email:"Email",password:"Password"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},auth:{toasts:{success:"Login successfully!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}}},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted sucessfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to read QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connectiing"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your cell phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code read",content:"Click on 'QR CODE' button and read the QR Code with your cell phone to start session"},connected:{title:"Connection established"},timeout:{title:"Connection with cell phone has been lost",content:"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode"}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},form:{name:"Name",default:"Default"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCode:{message:"Read QrCode to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted sucessfully!"},searchPlaceholder:"Search ...",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",importMessage:"Do you want to import all contacts from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactModal:{title:{add:"Add contact",edit:"Edit contact"},form:{mainInfo:"Contact details",extraInfo:"Additional information",name:"Name",number:"Whatsapp number",email:"Email",extraName:"Field name",extraValue:"Value"},buttons:{addExtraInfo:"Add information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},queueModal:{title:{add:"Add queue",edit:"Edit queue"},form:{name:"Name",color:"Color",greetingMessage:"Greeting Message"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},userModal:{title:{add:"Add user",edit:"Edit user"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},chat:{noTicketMessage:"Select a ticket to start chatting."},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The ticket you were on has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Inbox"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages."},buttons:{showAll:"All"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",noOptions:"No user found with this name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Queue",assignedHeader:"Working on",noTicketsTitle:"Nothing here!",noTicketsMessage:"No tickets found with this status or search term.",buttons:{accept:"Accept"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Tickets",contacts:"Contacts",queues:"Queues",administration:"Administration",users:"Users",settings:"Settings"},appBar:{user:{profile:"Profile",logout:"Logout"}}},notifications:{noTickets:"No notifications."},queues:{title:"Queues",table:{name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions"},buttons:{add:"Add queue"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned."}},queueSelect:{inputLabel:"Queues"},users:{title:"Users",table:{name:"Name",email:"Email",profile:"Profile",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted sucessfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Users' open tickets will be moved to queue."}},settings:{success:"Settings saved successfully.",title:"Settings",settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept"}}},messagesInput:{placeholderOpen:"Type a message",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact details",buttons:{edit:"Edit contact"},extraInfo:"Other information"},ticketOptionsMenu:{delete:"Delete",transfer:"Transfer",confirmationModal:{title:"Delete ticket #",titleFrom:"from contact ",message:"Attention! All ticket's related messages will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be reverted."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue."}}}}),{es:{translations:{signup:{title:"Registro",toasts:{success:"\xa1El usuario ha sido creado satisfactoriamente! \xa1Ahora inicia sesi\xf3n!",fail:"Error creando el usuario. Verifica la data reportada."},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Reg\xedstrate",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"}},login:{title:"Inicio de Sesi\xf3n",form:{email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Ingresa",register:"\xbfNo tienes cuenta? \xa1Reg\xedstrate!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n exitoso!"}},dashboard:{charts:{perDay:{title:"Tickets hoy: "}}},connections:{title:"Conexiones",toasts:{deleted:"\xa1La conexi\xf3n de WhatsApp ha sido borrada satisfactoriamente!"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? Este proceso no puede ser revertido.",disconnectTitle:"Desconectar",disconnectMessage:"Est\xe1s seguro? Deber\xe1 volver a leer el c\xf3digo QR"},buttons:{add:"Agrega WhatsApp",disconnect:"Desconectar",tryAgain:"Int\xe9ntalo de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"No se pudo iniciar la sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y vuelva a intentarlo o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando la lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el C\xf3digo QR con su tel\xe9fono celular para iniciar la sesi\xf3n"},connected:{title:"Conexi\xf3n establecida"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono celular",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y que WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima Actualizaci\xf3n",default:"Por Defecto",actions:"Acciones",session:"Sesi\xf3n"}},whatsappModal:{title:{add:"Agrega WhatsApp",edit:"Edita WhatsApp"},form:{name:"Nombre",default:"Por Defecto"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"WhatsApp guardado satisfactoriamente."},qrCode:{message:"L\xe9e el c\xf3digo QR para empezar la sesi\xf3n."},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto borrado satisfactoriamente!"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Borrar",importTitlte:"Importar contactos",deleteMessage:"\xbfEst\xe1s seguro que deseas borrar este contacto? Todos los tickets relacionados se perder\xe1n.",importMessage:"\xbfQuieres importar todos los contactos desde tu tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Correo Electr\xf3nico",actions:"Acciones"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Detalles del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Correo Electr\xf3nico",extraName:"Nombre del Campo",extraValue:"Valor"},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado satisfactoriamente."},queueModal:{title:{add:"Agregar cola",edit:"Editar cola"},form:{name:"Nombre",color:"Color",greetingMessage:"Mensaje de saludo"},buttons:{okAdd:"A\xf1adir",okEdit:"Ahorrar",cancel:"Cancelar"}},userModal:{title:{add:"Agregar usuario",edit:"Editar usuario"},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",profile:"Perfil"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Usuario guardado satisfactoriamente."},chat:{noTicketMessage:"Selecciona un ticket para empezar a chatear."},ticketsManager:{buttons:{newTicket:"Nuevo"}},ticketsQueueSelect:{placeholder:"Linhas"},tickets:{toasts:{deleted:"El ticket en el que estabas ha sido borrado."},notification:{message:"Mensaje de"},tabs:{open:{title:"Bandeja"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar tickets y mensajes."},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",noOptions:"No se encontraron usuarios con ese nombre",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Cola",assignedHeader:"Trabajando en",noTicketsTitle:"\xa1Nada ac\xe1!",noTicketsMessage:"No se encontraron tickets con este estado o t\xe9rmino de b\xfasqueda",buttons:{accept:"Acceptar"}},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escribe para buscar un contacto",add:"A\xf1adir",buttons:{ok:"Guardar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",tickets:"Tickets",contacts:"Contactos",queues:"Linhas",administration:"Administraci\xf3n",users:"Usuarios",settings:"Configuraci\xf3n"},appBar:{user:{profile:"Perfil",logout:"Cerrar Sesi\xf3n"}}},notifications:{noTickets:"Sin notificaciones."},queues:{title:"Linhas",table:{name:"Nombre",color:"Color",greeting:"Mensaje de saludo",actions:"Comportamiento"},buttons:{add:"Agregar cola"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Los tickets en esa cola seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna cola asignada."}},queueSelect:{inputLabel:"Linhas"},users:{title:"Usuarios",table:{name:"Nombre",email:"Correo Electr\xf3nico",profile:"Perfil",actions:"Acciones"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario borrado satisfactoriamente."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Toda la informaci\xf3n del usuario se perder\xe1. Los tickets abiertos de los usuarios se mover\xe1n a la cola."}},settings:{success:"Configuraci\xf3n guardada satisfactoriamente.",title:"Configuraci\xf3n",settings:{userCreation:{name:"Creaci\xf3n de usuarios",options:{enabled:"Habilitado",disabled:"Deshabilitado"}}}},messagesList:{header:{assignedTo:"Asignado a:",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar"}}},messagesInput:{placeholderOpen:"Escribe un mensaje",placeholderClosed:"Vuelva a abrir o acepte este ticket para enviar un mensaje.",signMessage:"Firmar"},contactDrawer:{header:"Detalles del contacto",buttons:{edit:"Editar contacto"},extraInfo:"Otra informaci\xf3n"},ticketOptionsMenu:{delete:"Borrar",transfer:"Transferir",confirmationModal:{title:"\xbfBorrar ticket #",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos una conexi\xf3n de WhatsApp predeterminada.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200best\xe1 inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se pudo verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pudieron descargar los medios de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Vuelva a intentarlo.",ERR_SENDING_WAPP_MSG:"Error al enviar el mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se pudo borrar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n caducada. Inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear el mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear el ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una cola."}}}});kt.a.use(St.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"pt",ns:["translations"],resources:_t});var Nt=r(15),Tt=function(t){var e,r,n=null===(e=t.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error;return n?kt.a.exists("backendErrors.".concat(n))?void f.b.error(kt.a.t("backendErrors.".concat(n)),{toastId:n}):void f.b.error(n,{toastId:n}):Object(Nt.isString)(t)?void f.b.error(t):void f.b.error("An error occurred!")},Ct=r(356),It=r.n(Ct),At=It.a.create({baseURL:"http://localhost:8082",withCredentials:!0}),Pt=It.a.create({baseURL:"http://localhost:8082"}),Mt=At,Gt=r(443),Ft=r.n(Gt);function Rt(t){var e=null;return localStorage.getItem("userId")&&(e=localStorage.getItem("userId")),Ft()("http://localhost:8082",{transports:["websocket","polling","flashsocket"],pingTimeout:18e3,pingInterval:18e3,query:Object(Nt.isObject)(t)?Object(h.a)(Object(h.a)({},t),{},{userId:e}):{userId:e}})}function Dt(){Dt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Wt=function(t,e){if("LOAD_WHATSAPPS"===e.type){var r=e.payload;return Object(M.a)(r)}if("UPDATE_WHATSAPPS"===e.type){var n=e.payload,a=t.findIndex((function(t){return t.id===n.id}));return-1!==a?(t[a]=n,Object(M.a)(t)):[n].concat(Object(M.a)(t))}if("UPDATE_SESSION"===e.type){var o=e.payload,i=t.findIndex((function(t){return t.id===o.id}));return-1!==i?(t[i].status=o.status,t[i].updatedAt=o.updatedAt,t[i].qrcode=o.qrcode,t[i].retries=o.retries,Object(M.a)(t)):Object(M.a)(t)}if("DELETE_WHATSAPPS"===e.type){var c=e.payload,u=t.findIndex((function(t){return t.id===c}));return-1!==u&&t.splice(u,1),Object(M.a)(t)}if("RESET"===e.type)return[]},qt=function(){var t=Object(n.useReducer)(Wt,[]),e=Object(u.a)(t,2),r=e[0],a=e[1],o=Object(n.useState)(!0),i=Object(u.a)(o,2),c=i[0],l=i[1];return Object(n.useEffect)((function(){l(!0),function(){var t=Object(A.a)(Dt().mark((function t(){var e,r;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/whatsapp/?session=0");case 3:e=t.sent,r=e.data,a({type:"LOAD_WHATSAPPS",payload:r}),l(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),l(!1),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-whatsapp"),(function(t){"update"===t.action&&a({type:"UPDATE_WHATSAPPS",payload:t.whatsapp})})),e.on("company-".concat(t,"-whatsapp"),(function(t){"delete"===t.action&&a({type:"DELETE_WHATSAPPS",payload:t.whatsappId})})),e.on("company-".concat(t,"-whatsappSession"),(function(t){"update"===t.action&&a({type:"UPDATE_SESSION",payload:t.session})})),function(){e.disconnect()}}),[]),{whatsApps:r,loading:c}},Yt=Object(n.createContext)(),zt=function(t){var e=t.children,r=qt(),n=r.loading,o=r.whatsApps;return a.a.createElement(Yt.Provider,{value:{whatsApps:o,loading:n}},e)};function Bt(){Bt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Ut=function(){var t=Object(s.g)(),e=Object(n.useState)(!1),r=Object(u.a)(e,2),a=r[0],o=r[1],i=Object(n.useState)(!0),c=Object(u.a)(i,2),l=c[0],h=c[1],d=Object(n.useState)({}),p=Object(u.a)(d,2),m=p[0],v=p[1];return Mt.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers.Authorization="Bearer ".concat(JSON.parse(e)),o(!0)),t}),(function(t){Promise.reject(t)})),Mt.interceptors.response.use((function(t){return t}),function(){var t=Object(A.a)(Bt().mark((function t(e){var r,n,a,i,c;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.config,403!==(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status)||a._retry){t.next=9;break}return a._retry=!0,t.next=5,Mt.post("/auth/refresh_token");case 5:return i=t.sent,(c=i.data)&&(localStorage.setItem("token",JSON.stringify(c.token)),Mt.defaults.headers.Authorization="Bearer ".concat(c.token)),t.abrupt("return",Mt(a));case 9:return 401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),localStorage.removeItem("companyId"),Mt.defaults.headers.Authorization=void 0,o(!1)),t.abrupt("return",Promise.reject(e));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(n.useEffect)((function(){var t=localStorage.getItem("token");Object(A.a)(Bt().mark((function e(){var r,n;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return e.prev=1,e.next=4,Mt.post("/auth/refresh_token");case 4:r=e.sent,n=r.data,Mt.defaults.headers.Authorization="Bearer ".concat(n.token),o(!0),v(n.user),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),Tt(e.t0);case 14:h(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()}),[]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-user"),(function(t){"update"===t.action&&t.user.id===m.id&&v(t.user)})),function(){e.disconnect()}}),[m]),{isAuth:a,user:m,loading:l,handleLogin:function(){var e=Object(A.a)(Bt().mark((function e(r){var n,a,i,c,u,l,s;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,Mt.post("/auth/login",r);case 4:n=e.sent,a=n.data,i=a.user,c=i.companyId,u=i.id,l=i.company,Object(Nt.has)(l,"settings")&&Object(Nt.isArray)(l.settings)&&(s=l.settings.find((function(t){return"campaignsEnabled"===t.key})))&&"true"===s.value&&localStorage.setItem("cshow",null),localStorage.setItem("token",JSON.stringify(a.token)),localStorage.setItem("companyId",c),localStorage.setItem("userId",u),Mt.defaults.headers.Authorization="Bearer ".concat(a.token),v(a.user),o(!0),f.b.success(kt.a.t("auth.toasts.success")),t.push("/tickets"),h(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),Tt(e.t0),h(!1);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),handleLogout:function(){var e=Object(A.a)(Bt().mark((function e(){return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,Mt.delete("/auth/logout");case 4:o(!1),v({}),localStorage.removeItem("token"),localStorage.removeItem("companyId"),localStorage.removeItem("userId"),localStorage.removeItem("cshow"),Mt.defaults.headers.Authorization=void 0,h(!1),t.push("/login"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),Tt(e.t0),h(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),getCurrentUserInfo:function(){var t=Object(A.a)(Bt().mark((function t(){var e,r;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/auth/me");case 3:return e=t.sent,r=e.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),Tt(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()}},Ht=Object(n.createContext)(),Vt=function(t){var e=t.children,r=Ut(),n=r.loading,o=r.user,i=r.isAuth,c=r.handleLogin,u=r.handleLogout;return a.a.createElement(Ht.Provider,{value:{loading:n,user:o,isAuth:i,handleLogin:c,handleLogout:u}},e)},Qt={user:{static:[]},admin:{static:["dashboard:view","drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact","connections-page:actionButtons","connections-page:addConnection","connections-page:editOrDeleteConnection"]}},Kt=function(t){var e=t.role,r=t.perform,n=t.data,a=t.yes,o=t.no;return function(t,e,r){var n=Qt[t];if(!n)return!1;var a=n.static;if(a&&a.includes(e))return!0;var o=n.dynamic;if(o){var i=o[e];return!!i&&i(r)}return!1}(e,r,n)?a():o()};function Jt(){Jt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function Xt(t){var e=t.icon,r=t.primary,n=t.to,o=t.className,i=a.a.useMemo((function(){return a.a.forwardRef((function(t,e){return a.a.createElement(l.b,Object.assign({to:n,ref:e},t))}))}),[n]);return a.a.createElement("li",null,a.a.createElement(G.a,{button:!0,component:i,className:o},e?a.a.createElement(F.a,null,e):null,a.a.createElement(R.a,{primary:r})))}Kt.defaultProps={yes:function(){return null},no:function(){return null}};var Zt=function(t,e){if("LOAD_CHATS"===e.type){var r=e.payload,n=[];return Object(Nt.isArray)(r)&&r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_CHATS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_CHAT"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}return"RESET"===e.type?[]:"CHANGE_CHAT"===e.type?t.map((function(t){return t.id===e.payload.chat.id?e.payload.chat:t})):void 0},$t=function(t){var e=t.drawerClose,r=Object(n.useContext)(Yt).whatsApps,o=Object(n.useContext)(Ht).user,i=Object(n.useState)(!1),c=Object(u.a)(i,2),l=c[0],f=c[1],h=Object(n.useState)(!1),d=Object(u.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(!1),y=Object(u.a)(v,2),g=y[0],b=y[1],x=Object(s.g)(),O=Object(n.useState)(!0),L=Object(u.a)(O,2),j=L[0],k=L[1],S=Object(n.useState)(1),_=Object(u.a)(S,2),N=_[0],T=_[1],C=Object(n.useState)(""),I=Object(u.a)(C,1)[0],M=Object(n.useReducer)(Zt,[]),Y=Object(u.a)(M,2),B=Y[0],H=Y[1];Object(n.useEffect)((function(){H({type:"RESET"}),T(1)}),[I]),Object(n.useEffect)((function(){var t=setTimeout((function(){Q()}),500);return function(){return clearTimeout(t)}}),[I,N]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-chat"),(function(t){"new-message"===t.action&&H({type:"CHANGE_CHAT",payload:t}),"update"===t.action&&H({type:"CHANGE_CHAT",payload:t})})),function(){e.disconnect()}}),[]),Object(n.useEffect)((function(){var t=0;if(B.length>0){var e,r=Object(P.a)(B);try{for(r.s();!(e=r.n()).done;){var n,a=e.value,i=Object(P.a)(a.users);try{for(i.s();!(n=i.n()).done;){var c=n.value;c.userId===o.id&&(t+=c.unreads)}}catch(u){i.e(u)}finally{i.f()}}}catch(u){r.e(u)}finally{r.f()}}k(!(t>0))}),[B,o.id]),Object(n.useEffect)((function(){localStorage.getItem("cshow")&&b(!0)}),[]),Object(n.useEffect)((function(){var t=setTimeout((function(){r.length>0&&(r.filter((function(t){return"qrcode"===t.status||"PAIRING"===t.status||"DISCONNECTED"===t.status||"TIMEOUT"===t.status||"OPENING"===t.status})).length>0?f(!0):f(!1))}),2e3);return function(){return clearTimeout(t)}}),[r]);var Q=function(){var t=Object(A.a)(Jt().mark((function t(){var e,r;return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/chats/",{params:{searchParam:I,pageNumber:N}});case 3:e=t.sent,r=e.data,H({type:"LOAD_CHATS",payload:r.records}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Tt(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{onClick:e},a.a.createElement(Kt,{role:o.profile,perform:"dashboard:view",yes:function(){return a.a.createElement(Xt,{to:"/",primary:"Dashboard",icon:a.a.createElement(z.a,null)})}}),a.a.createElement(Xt,{to:"/connections",primary:kt.a.t("mainDrawer.listItems.connections"),icon:a.a.createElement(W.a,{badgeContent:l?"!":0,color:"error"},a.a.createElement(V.a,null))}),a.a.createElement(Xt,{to:"/tickets",primary:kt.a.t("mainDrawer.listItems.tickets"),icon:a.a.createElement(U.a,null)}),a.a.createElement(Xt,{to:"/quick-messages",primary:kt.a.t("mainDrawer.listItems.quickMessages"),icon:a.a.createElement(nt.a,null)}),a.a.createElement(Xt,{to:"/contacts",primary:kt.a.t("mainDrawer.listItems.contacts"),icon:a.a.createElement($.a,null)}),a.a.createElement(Xt,{to:"/schedules",primary:kt.a.t("mainDrawer.listItems.schedules"),icon:a.a.createElement(lt.a,null)}),a.a.createElement(Xt,{to:"/tags",primary:kt.a.t("mainDrawer.listItems.tags"),icon:a.a.createElement(ft.a,null)}),a.a.createElement(Xt,{to:"/chats",primary:kt.a.t("mainDrawer.listItems.chats"),icon:a.a.createElement(W.a,{color:"secondary",variant:"dot",invisible:j},a.a.createElement(jt.a,null))}),a.a.createElement(Xt,{to:"/helps",primary:kt.a.t("mainDrawer.listItems.helps"),icon:a.a.createElement(ot.a,null)}),a.a.createElement(Kt,{role:o.profile,perform:"drawer-admin-items:view",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,null),a.a.createElement(D.a,{inset:!0},kt.a.t("mainDrawer.listItems.administration")),g&&a.a.createElement(a.a.Fragment,null,a.a.createElement(G.a,{button:!0,onClick:function(){return m((function(t){return!t}))}},a.a.createElement(F.a,null,a.a.createElement(dt.a,null)),a.a.createElement(R.a,{primary:kt.a.t("mainDrawer.listItems.campaigns")}),p?a.a.createElement(mt.a,null):a.a.createElement(yt.a,null)),a.a.createElement(q.a,{style:{paddingLeft:15},in:p,timeout:"auto",unmountOnExit:!0},a.a.createElement(w.a,{component:"div",disablePadding:!0},a.a.createElement(G.a,{onClick:function(){return x.push("/campaigns")},button:!0},a.a.createElement(F.a,null,a.a.createElement(wt.a,null)),a.a.createElement(R.a,{primary:"Listagem"})),a.a.createElement(G.a,{onClick:function(){return x.push("/contact-lists")},button:!0},a.a.createElement(F.a,null,a.a.createElement(bt.a,null)),a.a.createElement(R.a,{primary:"Listas de Contatos"})),a.a.createElement(G.a,{onClick:function(){return x.push("/campaigns-config")},button:!0},a.a.createElement(F.a,null,a.a.createElement(K.a,null)),a.a.createElement(R.a,{primary:"Configura\xe7\xf5es"}))))),o.super&&a.a.createElement(Xt,{to:"/announcements",primary:kt.a.t("mainDrawer.listItems.annoucements"),icon:a.a.createElement(Ot.a,null)}),a.a.createElement(Xt,{to:"/messages-api",primary:kt.a.t("mainDrawer.listItems.messagesAPI"),icon:a.a.createElement(ct.a,null)}),a.a.createElement(Xt,{to:"/users",primary:kt.a.t("mainDrawer.listItems.users"),icon:a.a.createElement(X.a,null)}),a.a.createElement(Xt,{to:"/queues",primary:kt.a.t("mainDrawer.listItems.queues"),icon:a.a.createElement(et.a,null)}),a.a.createElement(Xt,{to:"/settings",primary:kt.a.t("mainDrawer.listItems.settings"),icon:a.a.createElement(K.a,null)}))}}))},te=r(913),ee=r(280),re=r(852),ne=r(281),ae=r.n(ne),oe=r(923),ie=r(924),ce=r(309),ue=r(851),le=r(922),se=r(126),fe=r(848),he=r(849),de=["loading","children"],pe=Object(m.a)((function(t){return{button:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),me=function(t){var e=t.loading,r=t.children,n=Object(se.a)(t,de),o=pe();return a.a.createElement(fe.a,Object.assign({className:o.button,disabled:e},n),r,e&&a.a.createElement(he.a,{size:24,className:o.buttonProgress}))},ve=r(455),ye=["children"],ge=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],be=["a","b","strong","em","u","code","del"],Ee=function(t){var e=t.children,r=Object(se.a)(t,ye);return a.a.createElement("a",Object.assign({},r,{target:"_blank",rel:"noopener noreferrer"}),e)},we=function(t){var e=t.children,r=/\*(.*?)\*/g,n=/~(.*?)~/g;e&&r.test(e)&&(e=e.replace(r,"**$1**")),e&&n.test(e)&&(e=e.replace(n,"~~$1~~"));var o=a.a.useMemo((function(){var t={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:Ee}}};return ge.forEach((function(e){be.includes(e)||(t.overrides[e]=function(t){return t.children||null})})),t}),[]);return e?a.a.createElement(ve.a,{options:o},e):null},xe=r(850);function Oe(){Oe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Le=Object(m.a)((function(t){return{ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},badgeStyle:{color:"white",backgroundColor:ce.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"}}})),je=function(t){var e,r,o,i=t.ticket,c=Le(),l=Object(s.g)(),f=Object(n.useState)(!1),h=Object(u.a)(f,2),m=h[0],v=h[1],y=Object(s.h)().ticketId,g=Object(n.useRef)(!0),b=Object(n.useContext)(Ht).user;Object(n.useEffect)((function(){return function(){g.current=!1}}),[]);var w=function(){var t=Object(A.a)(Oe().mark((function t(e){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.prev=1,t.next=4,Mt.put("/tickets/".concat(e.id),{status:"open",userId:null===b||void 0===b?void 0:b.id});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),v(!1),Tt(t.t0);case 10:g.current&&v(!1),l.push("/tickets/".concat(e.uuid));case 12:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,{key:i.id},a.a.createElement(G.a,{dense:!0,button:!0,onClick:function(t){"pending"!==i.status&&function(t){l.push("/tickets/".concat(t.uuid))}(i)},selected:y&&+y===i.id,className:Object(p.a)(c.ticket,Object(d.a)({},c.pendingTicket,"pending"===i.status))},a.a.createElement(xe.a,{arrow:!0,placement:"right",title:(null===(e=i.queue)||void 0===e?void 0:e.name)||"Sem fila"},a.a.createElement("span",{style:{backgroundColor:(null===(r=i.queue)||void 0===r?void 0:r.color)||"#7C7C7C"},className:c.ticketQueueColor})),a.a.createElement(ue.a,null,a.a.createElement(le.a,{src:null===i||void 0===i||null===(o=i.contact)||void 0===o?void 0:o.profilePicUrl})),a.a.createElement(R.a,{disableTypography:!0,primary:a.a.createElement("span",{className:c.contactNameWrapper},a.a.createElement(L.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},i.contact.name),"closed"===i.status&&a.a.createElement(W.a,{className:c.closedBadge,badgeContent:"closed",color:"primary"}),i.lastMessage&&a.a.createElement(L.a,{className:c.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(oe.a)(Object(ie.a)(i.updatedAt),new Date)?a.a.createElement(a.a.Fragment,null,Object(te.a)(Object(ie.a)(i.updatedAt),"HH:mm")):a.a.createElement(a.a.Fragment,null,Object(te.a)(Object(ie.a)(i.updatedAt),"dd/MM/yyyy")))),secondary:a.a.createElement("span",{className:c.contactNameWrapper},a.a.createElement(L.a,{className:c.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},i.lastMessage?a.a.createElement(we,null,i.lastMessage):a.a.createElement("br",null)),a.a.createElement(W.a,{className:c.newMessagesCount,badgeContent:i.unreadMessages,classes:{badge:c.badgeStyle}}))}),"pending"===i.status&&a.a.createElement(me,{color:"primary",variant:"contained",className:c.acceptButton,size:"small",loading:m,onClick:function(t){return w(i)}},kt.a.t("ticketsList.buttons.accept"))),a.a.createElement(E.a,{variant:"inset",component:"li"}))};function ke(){ke=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Se=function(t){var e=t.searchParam,r=t.tags,a=t.users,o=t.pageNumber,i=t.status,c=t.date,l=t.updatedAt,s=t.showAll,f=t.queueIds,h=t.withUnreadMessages,d=Object(n.useState)(!0),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(!1),g=Object(u.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(u.a)(w,2),O=x[0],L=x[1];return Object(n.useEffect)((function(){v(!0);var t=setTimeout((function(){(function(){var t=Object(A.a)(ke().mark((function t(){var n,u;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/tickets",{params:{searchParam:e,pageNumber:o,tags:r,users:a,status:i,date:c,updatedAt:l,showAll:s,queueIds:f,withUnreadMessages:h}});case 3:n=t.sent,u=n.data,L(u.tickets),E(u.hasMore),v(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),v(!1),Tt(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[e,r,a,o,i,c,l,s,f,h]),{tickets:O,loading:m,hasMore:b}},_e=r(457),Ne=r.n(_e),Te=Object(m.a)((function(t){return{tabContainer:Object(h.a)({overflowY:"auto",maxHeight:350},t.scrollbarStyles),popoverPaper:Object(d.a)({width:"100%",maxWidth:350,marginLeft:t.spacing(2),marginRight:t.spacing(1)},t.breakpoints.down("sm"),{maxWidth:270}),noShadow:{boxShadow:"none !important"}}})),Ce=function(){var t=Te(),e=Object(s.g)(),r=Object(n.useContext)(Ht).user,o=+e.location.pathname.split("/")[2],i=Object(n.useRef)(o),c=Object(n.useRef)(),l=Object(n.useState)(!1),f=Object(u.a)(l,2),h=f[0],d=f[1],p=Object(n.useState)([]),m=Object(u.a)(p,2),v=m[0],y=m[1],g=r.profile,E=r.queues,x=Object(n.useState)([]),O=Object(u.a)(x,2)[1],L=Se({withUnreadMessages:"true"}).tickets,j=Object(ee.a)(Ne.a),k=Object(u.a)(j,1)[0],S=Object(n.useRef)(),_=Object(n.useRef)(e);Object(n.useEffect)((function(){S.current=k,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")}),[k]),Object(n.useEffect)((function(){var t=E.map((function(t){return t.id})),e=L.filter((function(e){return t.indexOf(e.queueId)>-1}));y("user"===g?e:L)}),[L,E,g]),Object(n.useEffect)((function(){i.current=o}),[o]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t}),n=E.map((function(t){return t.id}));return e.on("connect",(function(){return e.emit("joinNotification")})),e.on("company-".concat(t,"-ticket"),(function(t){"updateUnread"!==t.action&&"delete"!==t.action||(y((function(e){var r=e.findIndex((function(e){return e.id===t.ticketId}));return-1!==r?(e.splice(r,1),Object(M.a)(e)):e})),O((function(e){var r=e.findIndex((function(e){return e.tag===String(t.ticketId)}));return-1!==r?(e[r].close(),e.splice(r,1),Object(M.a)(e)):e})))})),e.on("company-".concat(t,"-appMessage"),(function(t){if("create"===t.action&&!t.message.read&&(t.ticket.userId===(null===r||void 0===r?void 0:r.id)||!t.ticket.userId)){var e;if("user"===g&&(-1===n.indexOf(null===(e=t.ticket.queue)||void 0===e?void 0:e.id)||null===t.ticket.queue))return;if(y((function(e){var r=e.findIndex((function(e){return e.id===t.ticket.id}));return-1!==r?(e[r]=t.ticket,Object(M.a)(e)):[t.ticket].concat(Object(M.a)(e))})),t.message.ticketId===i.current&&"visible"===document.visibilityState||t.ticket.userId&&t.ticket.userId!==(null===r||void 0===r?void 0:r.id)||t.ticket.isGroup||t.ticket.chatbot)return;N(t)}})),function(){e.disconnect()}}),[r,g,E]);var N=function(t){var e=t.message,r=t.contact,n=t.ticket,a={body:"".concat(e.body," - ").concat(Object(te.a)(new Date,"HH:mm")),icon:r.profilePicUrl,tag:n.id,renotify:!0},o=new Notification("".concat(kt.a.t("tickets.notification.message")," ").concat(r.name),a);o.onclick=function(t){t.preventDefault(),window.focus(),_.current.push("/tickets/".concat(n.uuid))},O((function(t){var e=t.findIndex((function(t){return t.tag===o.tag}));return-1!==e?(t[e]=o,Object(M.a)(t)):[o].concat(Object(M.a)(t))})),S.current()},T=function(){d(!1)},C=function(t){var e=t.children;return a.a.createElement("div",{onClick:T},e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{onClick:function(){d((function(t){return!t}))},ref:c,"aria-label":"Open Notifications",variant:"contained"},a.a.createElement(W.a,{badgeContent:v.length,color:"secondary"},a.a.createElement(ae.a,null))),a.a.createElement(re.a,{disableScrollLock:!0,open:h,anchorEl:c.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:t.popoverPaper},onClose:T},a.a.createElement(w.a,{dense:!0,className:t.tabContainer},0===v.length?a.a.createElement(G.a,null,a.a.createElement(R.a,null,kt.a.t("notifications.noTickets"))):v.map((function(t){return a.a.createElement(C,{key:t.id},a.a.createElement(je,{ticket:t}))})))))},Ie=r(17),Ae=r(10),Pe=r(857),Me=r(854),Ge=r(858),Fe=r(856),Re=r(855),De=r(796),We=r(797),qe=r(789),Ye=r(927);function ze(){ze=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Be=Object(m.a)((function(t){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),Ue=function(t){var e=t.selectedQueueIds,r=t.onChange,o=Be(),i=Object(n.useState)([]),c=Object(u.a)(i,2),l=c[0],s=c[1];Object(n.useEffect)((function(){Object(A.a)(ze().mark((function t(){var e,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/queue");case 3:e=t.sent,r=e.data,s(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Tt(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[]);return a.a.createElement("div",{style:{marginTop:6}},a.a.createElement(qe.a,{fullWidth:!0,margin:"dense",variant:"outlined"},a.a.createElement(We.a,null,kt.a.t("queueSelect.inputLabel")),a.a.createElement(De.a,{multiple:!0,labelWidth:60,value:e,onChange:function(t){r(t.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(t){return a.a.createElement("div",{className:o.chips},(null===t||void 0===t?void 0:t.length)>0&&t.map((function(t){var e=l.find((function(e){return e.id===t}));return e?a.a.createElement(Ye.a,{key:t,style:{backgroundColor:e.color},variant:"outlined",label:e.name,className:o.chip}):null})))}},l.map((function(t){return a.a.createElement(k.a,{key:t.id,value:t.id},t.name)})))))};function He(){He=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Ve=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:t.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:t.spacing(1),minWidth:120}}})),Qe=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Ie.c().min(5,"Too Short!").max(50,"Too Long!"),email:Ie.c().email("Invalid email").required("Required")}),Ke=function(t){var e=t.open,r=t.onClose,o=t.userId,i=Ve(),c={name:"",email:"",password:"",profile:"user"},l=Object(n.useContext)(Ht).user,s=Object(n.useState)(c),d=Object(u.a)(s,2),p=d[0],m=d[1],v=Object(n.useState)([]),y=Object(u.a)(v,2),g=y[0],b=y[1];Object(n.useEffect)((function(){(function(){var t=Object(A.a)(He().mark((function t(){var e,r,n,a;return He().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Mt.get("/users/".concat(o));case 5:r=t.sent,n=r.data,m((function(t){return Object(h.a)(Object(h.a)({},t),n)})),a=null===(e=n.queues)||void 0===e?void 0:e.map((function(t){return t.id})),b(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),Tt(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}})()()}),[o,e]);var E=function(){r(),m(c)},w=function(){var t=Object(A.a)(He().mark((function t(e){var r;return He().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(h.a)(Object(h.a)({},e),{},{queueIds:g}),t.prev=1,!o){t.next=7;break}return t.next=5,Mt.put("/users/".concat(o),r);case 5:t.next=9;break;case 7:return t.next=9,Mt.post("/users",r);case 9:f.b.success(kt.a.t("userModal.success")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),Tt(t.t0);case 15:E();case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:i.root},a.a.createElement(Me.a,{open:e,onClose:E,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(Re.a,{id:"form-dialog-title"},"".concat(o?kt.a.t("userModal.title.edit"):kt.a.t("userModal.title.add"))),a.a.createElement(Ae.e,{initialValues:p,enableReinitialize:!0,validationSchema:Qe,onSubmit:function(t,e){setTimeout((function(){w(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.isSubmitting;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:e.name&&Boolean(r.name),helperText:e.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("userModal.form.password"),type:"password",name:"password",error:e.password&&Boolean(r.password),helperText:e.password&&r.password,variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("userModal.form.email"),name:"email",error:e.email&&Boolean(r.email),helperText:e.email&&r.email,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(qe.a,{variant:"outlined",className:i.formControl,margin:"dense"},a.a.createElement(Kt,{role:l.profile,perform:"user-modal:editProfile",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{id:"profile-selection-input-label"},kt.a.t("userModal.form.profile")),a.a.createElement(Ae.b,{as:De.a,label:kt.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},a.a.createElement(k.a,{value:"admin"},"Admin"),a.a.createElement(k.a,{value:"user"},"User")))}}))),a.a.createElement(Kt,{role:l.profile,perform:"user-modal:editQueues",yes:function(){return a.a.createElement(Ue,{selectedQueueIds:g,onChange:function(t){return b(t)}})}})),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},kt.a.t("userModal.buttons.cancel")),a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?kt.a.t("userModal.buttons.okEdit"):kt.a.t("userModal.buttons.okAdd")),n&&a.a.createElement(he.a,{size:24,className:i.buttonProgress}))))}))))},Je=r(792),Xe=Object(m.a)((function(t){return{backdrop:{zIndex:t.zIndex.drawer+1,color:"#fff"}}})),Ze=function(){var t=Xe();return a.a.createElement(Je.a,{className:t.backdrop,open:!0},a.a.createElement(he.a,{color:"inherit"}))},$e=r(859),tr=r(314),er=r(31),rr=r.n(er);function nr(){nr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ar=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,maxHeight:300,maxWidth:500,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}}));function or(t){var e,r=t.announcement,n=t.open,o=t.handleClose;return a.a.createElement(Me.a,{open:n,onClose:function(){return o()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(Re.a,{id:"alert-dialog-title"},r.title),a.a.createElement(Fe.a,null,r.mediaPath&&a.a.createElement("div",{style:{border:"1px solid #f1f1f1",margin:"0 auto 20px",textAlign:"center",width:"90%",height:300,backgroundImage:"url(".concat((e=r.mediaPath,"".concat("http://localhost:8082","public/").concat(e)),")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"}}),a.a.createElement($e.a,{id:"alert-dialog-description"},r.text)),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:function(){return o()},color:"primary",autoFocus:!0},"Fechar")))}var ir=function(t,e){if("LOAD_ANNOUNCEMENTS"===e.type){var r=e.payload,n=[];return Object(Nt.isArray)(r)&&r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_ANNOUNCEMENTS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_ANNOUNCEMENT"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]};function cr(){var t=ar(),e=Object(n.useState)(!1),r=Object(u.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(null),l=Object(u.a)(c,2),s=l[0],f=l[1],h=Object(n.useState)(1),d=Object(u.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(!1),y=Object(u.a)(v,2),g=y[0],E=y[1],x=Object(n.useState)(""),O=Object(u.a)(x,1)[0],j=Object(n.useReducer)(ir,[]),k=Object(u.a)(j,2),S=k[0],_=k[1],N=Object(n.useState)(!1),T=Object(u.a)(N,2),C=T[0],I=T[1],P=Object(n.useState)({}),M=Object(u.a)(P,2),F=M[0],D=M[1],q=Object(n.useState)(!1),Y=Object(u.a)(q,2),z=Y[0],B=Y[1];Object(n.useEffect)((function(){_({type:"RESET"}),m(1)}),[O]),Object(n.useEffect)((function(){i(!0);var t=setTimeout((function(){U()}),500);return function(){return clearTimeout(t)}}),[O,p]),Object(n.useEffect)((function(){var t=Rt({companyId:localStorage.getItem("companyId")});return t.on("company-announcement",(function(t){"update"!==t.action&&"create"!==t.action||(_({type:"UPDATE_ANNOUNCEMENTS",payload:t.record}),I(!1)),"delete"===t.action&&_({type:"DELETE_ANNOUNCEMENT",payload:+t.id})})),function(){t.disconnect()}}),[]);var U=function(){var t=Object(A.a)(nr().mark((function t(){var e,r;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/announcements/",{params:{searchParam:O,pageNumber:p}});case 3:e=t.sent,r=e.data,_({type:"LOAD_ANNOUNCEMENTS",payload:r.records}),E(r.hasMore),i(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),H=Boolean(s),V=H?"simple-popover":void 0;return a.a.createElement("div",null,a.a.createElement(or,{announcement:F,open:z,handleClose:function(){return B(!1)}}),a.a.createElement(b.a,{variant:"contained","aria-describedby":V,onClick:function(t){f(t.currentTarget),I(!0)}},a.a.createElement(W.a,{color:"secondary",variant:"dot",invisible:C||S.length<1},a.a.createElement(Ot.a,null))),a.a.createElement(re.a,{id:V,open:H,anchorEl:s,onClose:function(){f(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(tr.a,{variant:"outlined",onScroll:function(t){if(g&&!o){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&m((function(t){return t+1}))}},className:t.mainPaper},a.a.createElement(w.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(Nt.isArray)(S)&&S.map((function(t,e){return a.a.createElement(G.a,{key:e,style:{background:e%2===0?"#ededed":"white",border:"1px solid #eee",borderLeft:(n=t.priority,1===n?"4px solid #b81111":2===n?"4px solid orange":3===n?"4px solid grey":void 0),cursor:"pointer"},onClick:function(){return D(t),B(!0),void f(null)}},t.mediaPath&&a.a.createElement(ue.a,null,a.a.createElement(le.a,{alt:t.mediaName,src:(r=t.mediaPath,"".concat("http://localhost:8082","public/").concat(r))})),a.a.createElement(R.a,{primary:t.title,secondary:a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{component:"span",style:{fontSize:12}},rr()(t.createdAt).format("DD/MM/YYYY")),a.a.createElement("span",{style:{marginTop:5,display:"block"}}),a.a.createElement(L.a,{component:"span",variant:"body2"},t.text))}));var r,n})),Object(Nt.isArray)(S)&&0===S.length&&a.a.createElement(R.a,{primary:"Nenhum registro"})))))}var ur=r(462),lr=r.n(ur);function sr(){return{dateToClient:function(t){return rr()(t).isValid()?rr()(t).format("DD/MM/YYYY"):t},datetimeToClient:function(t){return rr()(t).isValid()?rr()(t).format("DD/MM/YYYY HH:mm"):t},dateToDatabase:function(t){return rr()(t,"DD/MM/YYYY").isValid()?rr()(t).format("YYYY-MM-DD HH:mm:ss"):t}}}var fr=r(463),hr=r.n(fr);function dr(){dr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var pr=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,maxHeight:300,maxWidth:500,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),mr=function(t,e){if("LOAD_CHATS"===e.type){var r=e.payload,n=[];return Object(Nt.isArray)(r)&&r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_CHATS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_CHAT"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}return"RESET"===e.type?[]:"CHANGE_CHAT"===e.type?t.map((function(t){return t.id===e.payload.chat.id?e.payload.chat:t})):void 0};function vr(){var t=pr(),e=Object(n.useContext)(Ht).user,r=Object(n.useState)(!1),o=Object(u.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)(null),s=Object(u.a)(l,2),f=s[0],h=s[1],d=Object(n.useState)(1),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(!1),g=Object(u.a)(y,2),E=g[0],x=g[1],O=Object(n.useState)(""),j=Object(u.a)(O,1)[0],k=Object(n.useReducer)(mr,[]),S=Object(u.a)(k,2),_=S[0],N=S[1],T=Object(n.useState)(!0),C=Object(u.a)(T,2),I=C[0],M=C[1],F=sr().datetimeToClient,D=Object(ee.a)(hr.a),q=Object(u.a)(D,1)[0],Y=Object(n.useRef)();Object(n.useEffect)((function(){Y.current=q,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")}),[q]),Object(n.useEffect)((function(){N({type:"RESET"}),v(1)}),[j]),Object(n.useEffect)((function(){c(!0);var t=setTimeout((function(){z()}),500);return function(){return clearTimeout(t)}}),[j,m]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),r=Rt({companyId:t});return r.on("company-".concat(t,"-chat"),(function(t){"new-message"===t.action&&(N({type:"CHANGE_CHAT",payload:t}),t.newMessage.senderId!==e.id&&(console.log(t),Y.current())),"update"===t.action&&N({type:"CHANGE_CHAT",payload:t})})),function(){r.disconnect()}}),[]),Object(n.useEffect)((function(){var t=0;if(_.length>0){var r,n=Object(P.a)(_);try{for(n.s();!(r=n.n()).done;){var a,o=r.value,i=Object(P.a)(o.users);try{for(i.s();!(a=i.n()).done;){var c=a.value;c.userId===e.id&&(t+=c.unreads)}}catch(u){i.e(u)}finally{i.f()}}}catch(u){n.e(u)}finally{n.f()}}M(!(t>0))}),[_,e.id]);var z=function(){var t=Object(A.a)(dr().mark((function t(){var e,r;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/chats/",{params:{searchParam:j,pageNumber:m}});case 3:e=t.sent,r=e.data,N({type:"LOAD_CHATS",payload:r.records}),x(r.hasMore),c(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),B=Boolean(f),U=B?"simple-popover":void 0;return a.a.createElement("div",null,a.a.createElement(b.a,{"aria-describedby":U,variant:"contained",color:I?"default":"inherit",onClick:function(t){h(t.currentTarget),M(!0)}},a.a.createElement(W.a,{color:"secondary",variant:"dot",invisible:I},a.a.createElement(jt.a,null))),a.a.createElement(re.a,{id:U,open:B,anchorEl:f,onClose:function(){h(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(tr.a,{variant:"outlined",onScroll:function(t){if(E&&!i){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&v((function(t){return t+1}))}},className:t.mainPaper},a.a.createElement(w.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(Nt.isArray)(_)&&_.map((function(t,e){return a.a.createElement(G.a,{key:e,style:{background:e%2===0?"#ededed":"white",border:"1px solid #eee",cursor:"pointer"},onClick:function(){return e=t,void(window.location.href="/chats/".concat(e.uuid));var e},button:!0},a.a.createElement(R.a,{primary:t.lastMessage,secondary:a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{component:"span",style:{fontSize:12}},F(t.updatedAt)),a.a.createElement("span",{style:{marginTop:5,display:"block"}}))}))})),Object(Nt.isArray)(_)&&0===_.length&&a.a.createElement(R.a,{primary:"Nenhum registro"})))))}var yr=Object(m.a)((function(t){return{root:Object(d.a)({display:"flex",height:"100vh"},t.breakpoints.down("sm"),{height:"calc(100vh - 56px)"}),toolbar:{paddingRight:24},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px",minHeight:"48px"},appBar:{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{marginLeft:300,width:"calc(100% - ".concat(300,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,fontSize:14},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:300,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}),appBarSpacer:{minHeight:"48px"},content:Object(h.a)({flex:1,overflow:"auto"},t.scrollbarStyles),container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)},paper:{padding:t.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},containerWithScroll:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),gr=function(t){var e=t.children,r=yr(),o=Object(n.useState)(!1),i=Object(u.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(null),f=Object(u.a)(s,2),h=f[0],d=f[1],m=Object(n.useState)(!1),S=Object(u.a)(m,2),N=S[0],C=S[1],A=Object(n.useContext)(Ht),P=A.handleLogout,M=A.loading,G=Object(n.useState)(!1),F=Object(u.a)(G,2),R=F[0],D=F[1],W=Object(n.useState)("permanent"),q=Object(u.a)(W,2),Y=q[0],z=q[1],B=Object(n.useContext)(Ht).user,U=Object(v.a)(),H=Object(y.a)(U.breakpoints.up("sm"));Object(n.useEffect)((function(){document.body.offsetWidth>600&&D(!0)}),[]),Object(n.useEffect)((function(){document.body.offsetWidth<600?z("temporary"):z("permanent")}),[R]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=localStorage.getItem("userId"),r=Rt({companyId:t});r.on("company-".concat(t,"-auth"),(function(t){t.user.id===+e&&(Tt("Sua conta foi acessada em outro computador."),setTimeout((function(){localStorage.clear(),window.location.reload()}),1e3))})),r.emit("userStatus");var n=setInterval((function(){r.emit("userStatus")}),3e5);return function(){r.disconnect(),clearInterval(n)}}),[]);var V=function(){d(null),C(!1)};return M?a.a.createElement(Ze,null):a.a.createElement("div",{className:r.root},a.a.createElement(g.a,{variant:Y,className:R?r.drawerPaper:r.drawerPaperClose,classes:{paper:Object(p.a)(r.drawerPaper,!R&&r.drawerPaperClose)},open:R},a.a.createElement("div",{className:r.toolbarIcon},a.a.createElement("img",{src:lr.a,style:{margin:"0 auto",height:"50px",width:"100%"},alt:"logo"}),a.a.createElement(b.a,{onClick:function(){return D(!R)}},a.a.createElement(T.a,null))),a.a.createElement(E.a,null),a.a.createElement(w.a,{className:r.containerWithScroll},a.a.createElement($t,{drawerClose:function(){document.body.offsetWidth<600&&D(!1)}})),a.a.createElement(E.a,null)),a.a.createElement(Ke,{open:c,onClose:function(){return l(!1)},userId:null===B||void 0===B?void 0:B.id}),a.a.createElement(x.a,{position:"absolute",className:Object(p.a)(r.appBar,R&&r.appBarShift),color:"primary"},a.a.createElement(O.a,{variant:"dense",className:r.toolbar},a.a.createElement(b.a,{edge:"start",variant:"contained","aria-label":"open drawer",onClick:function(){return D(!R)},className:Object(p.a)(r.menuButton,R&&r.menuButtonHidden)},a.a.createElement(_.a,null)),a.a.createElement(L.a,{component:"h1",variant:"h6",color:"primary",noWrap:!0,className:r.title},H?a.a.createElement(a.a.Fragment,null,"Ol\xe1 ",a.a.createElement("b",null,B.name),", Seja bem-vindo."):B.name),B.id&&a.a.createElement(Ce,null),a.a.createElement(cr,null),a.a.createElement(vr,null),a.a.createElement("div",null,a.a.createElement(b.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){d(t.currentTarget),C(!0)},variant:"contained"},a.a.createElement(I.a,null)),a.a.createElement(j.a,{id:"menu-appbar",anchorEl:h,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:N,onClose:V},a.a.createElement(k.a,{onClick:function(){l(!0),V()}},kt.a.t("mainDrawer.appBar.user.profile")),a.a.createElement(k.a,{onClick:function(){V(),P()}},kt.a.t("mainDrawer.appBar.user.logout")))))),a.a.createElement("main",{className:r.content},a.a.createElement("div",{className:r.appBarSpacer}),e||null))},br=r(879),Er=r(878),wr=r(793),xr=r(362),Or=r.n(xr),Lr=r(239),jr=r.n(Lr),kr=r(483),Sr=r.n(kr),_r=r(484),Nr=r.n(_r),Tr=r(306),Cr=r(308),Ir=r(863),Ar=r(864),Pr=r(868),Mr=r(480),Gr=r(481),Fr=r(113),Rr=r(519),Dr=r(862),Wr=function(t){return a.a.createElement(L.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},t.children)},qr=function(){var t=Object(v.a)(),e=Object(n.useRef)((new Date).toISOString()),r=Se({date:e.current}).tickets,o=Object(n.useState)([{time:"01:00",amount:0},{time:"02:00",amount:0},{time:"03:00",amount:0},{time:"04:00",amount:0},{time:"05:00",amount:0},{time:"06:00",amount:0},{time:"07:00",amount:0},{time:"08:00",amount:0},{time:"09:00",amount:0},{time:"10:00",amount:0},{time:"11:00",amount:0},{time:"12:00",amount:0},{time:"13:00",amount:0},{time:"14:00",amount:0},{time:"15:00",amount:0},{time:"16:00",amount:0},{time:"17:00",amount:0},{time:"18:00",amount:0},{time:"19:00",amount:0},{time:"20:00",amount:0},{time:"21:00",amount:0},{time:"22:00",amount:0},{time:"23:00",amount:0},{time:"00:00",amount:0}]),i=Object(u.a)(o,2),c=i[0],l=i[1];return Object(n.useEffect)((function(){l((function(t){var e=Object(M.a)(t);return e.forEach((function(t){r.forEach((function(e){Object(te.a)(Object(Dr.a)(Object(ie.a)(e.createdAt)),"HH:mm")===t.time&&t.amount++}))})),e}))}),[r]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Wr,null,"".concat(kt.a.t("dashboard.charts.perDay.title")).concat(r.length)),a.a.createElement(Ir.a,null,a.a.createElement(Ar.a,{data:c,barSize:40,width:730,height:250,margin:{top:16,right:16,bottom:0,left:24}},a.a.createElement(Pr.a,{strokeDasharray:"3 3"}),a.a.createElement(Mr.a,{dataKey:"time",stroke:t.palette.text.secondary}),a.a.createElement(Gr.a,{type:"number",allowDecimals:!1,stroke:t.palette.text.secondary},a.a.createElement(Fr.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:t.palette.text.primary}},"Tickets")),a.a.createElement(Rr.a,{dataKey:"amount",fill:t.palette.primary.main}))))},Yr=r(869),zr=r(870),Br=r(871),Ur=Object(m.a)((function(t){return{cardAvatar:{fontSize:"55px",color:Tr.a[500],backgroundColor:"#ffffff",width:t.spacing(7),height:t.spacing(7)},cardTitle:{fontSize:"18px",color:t.palette.text.primary},cardSubtitle:{color:Tr.a[600],fontSize:"14px"}}}));function Hr(t){var e=t.icon,r=t.title,n=t.value,o=t.loading,i=Ur();return o?a.a.createElement(Br.a,{variant:"rect",height:80}):a.a.createElement(Yr.a,null,a.a.createElement(zr.a,{avatar:a.a.createElement(le.a,{className:i.cardAvatar},e),title:a.a.createElement(L.a,{variant:"h6",component:"h2",className:i.cardTitle},r),subheader:a.a.createElement(L.a,{variant:"subtitle1",component:"p",className:i.cardSubtitle},n)}))}var Vr=r(875),Qr=r(877),Kr=r(873),Jr=r(874),Xr=r(876),Zr=r(872),$r=r(307),tn=r(167),en=r.n(tn),rn=r(482),nn=r.n(rn),an=r(929),on=Object(m.a)((function(t){return{on:{color:ce.a[600],fontSize:"20px"},off:{color:$r.a[600],fontSize:"20px"},pointer:{cursor:"pointer"}}}));function cn(t){var e=t.rating,r=null===e?0:Math.trunc(e);return a.a.createElement(an.a,{defaultValue:r,max:3,readOnly:!0})}function un(t){var e=t.loading,r=t.attendants,n=on();return e?a.a.createElement(Br.a,{variant:"rect",height:150}):a.a.createElement(Jr.a,{component:tr.a},a.a.createElement(Vr.a,null,a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,null,"Nome"),a.a.createElement(Kr.a,{align:"center"},"Avalia\xe7\xf5es"),a.a.createElement(Kr.a,{align:"center"},"T.M. de Atendimento"),a.a.createElement(Kr.a,{align:"center"},"Status (Atual)"))),a.a.createElement(Qr.a,null,r.map((function(t,e){return a.a.createElement(Zr.a,{key:e},a.a.createElement(Kr.a,null,t.name),a.a.createElement(Kr.a,{align:"center",title:"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito",className:n.pointer},a.a.createElement(cn,{rating:t.rating})),a.a.createElement(Kr.a,{align:"center"},(r=t.avgSupportTime,rr()().startOf("day").add(r,"minutes").format("HH[h] mm[m]"))),a.a.createElement(Kr.a,{align:"center"},t.online?a.a.createElement(en.a,{className:n.on}):a.a.createElement(nn.a,{className:n.off})));var r})))))}function ln(){ln=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var sn=function(){return{find:function(){var t=Object(A.a)(ln().mark((function t(e){var r,n;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/dashboard",method:"GET",params:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function fn(){fn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var hn=Object(m.a)((function(t){return{container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)},fixedHeightPaper:Object(h.a)({padding:t.spacing(2),display:"flex",flexDirection:"column",height:240,overflowY:"auto"},t.scrollbarStyles),cardAvatar:{fontSize:"55px",color:Tr.a[500],backgroundColor:"#ffffff",width:t.spacing(7),height:t.spacing(7)},cardTitle:{fontSize:"18px",color:Cr.a[700]},cardSubtitle:{color:Tr.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"}}})),dn=function(){var t=hn(),e=Object(n.useState)({}),r=Object(u.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)([]),l=Object(u.a)(c,2),s=l[0],d=l[1],p=Object(n.useState)(1),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)(0),b=Object(u.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(rr()("1","D").format("YYYY-MM-DD")),O=Object(u.a)(x,2),L=O[0],j=O[1],S=Object(n.useState)(rr()().format("YYYY-MM-DD")),_=Object(u.a)(S,2),N=_[0],T=_[1],C=Object(n.useState)(!1),I=Object(u.a)(C,2),P=I[0],M=I[1],G=sn().find;function F(){return(F=Object(A.a)(fn().mark((function t(e){return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(){return(R=Object(A.a)(fn().mark((function t(e){return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(e),1===e?w(0):(j(""),T(""));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return W.apply(this,arguments)}function W(){return(W=Object(A.a)(fn().mark((function t(){var e,r;return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(M(!0),e={},E>0&&(e={days:E}),!Object(Nt.isEmpty)(L)&&rr()(L).isValid()&&(e=Object(h.a)(Object(h.a)({},e),{},{date_from:rr()(L).format("YYYY-MM-DD")})),!Object(Nt.isEmpty)(N)&&rr()(N).isValid()&&(e=Object(h.a)(Object(h.a)({},e),{},{date_to:rr()(N).format("YYYY-MM-DD")})),0!==Object.keys(e).length){t.next=9;break}return f.b.error("Parametrize o filtro"),M(!1),t.abrupt("return");case 9:return t.next=11,G(e);case 11:r=t.sent,i(r.counters),Object(Nt.isArray)(r.attendants)?d(r.attendants):d([]),M(!1);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return rr()().startOf("day").add(t,"minutes").format("HH[h] mm[m]")}return Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(fn().mark((function t(){return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}setTimeout((function(){!function(){t.apply(this,arguments)}()}),1e3)}),[]),a.a.createElement("div",null,a.a.createElement(br.a,{maxWidth:"lg",className:t.container},a.a.createElement(Er.a,{container:!0,spacing:3,justifyContent:"flex-end"},a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement(tr.a,{className:t.fixedHeightPaper},a.a.createElement(qr,null))),a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(qe.a,{className:t.selectContainer},a.a.createElement(We.a,{id:"period-selector-label"},"Tipo de Filtro"),a.a.createElement(De.a,{labelId:"period-selector-label",value:v,onChange:function(t){return function(t){return R.apply(this,arguments)}(t.target.value)}},a.a.createElement(k.a,{value:1},"Filtro por Data"),a.a.createElement(k.a,{value:2},"Filtro por Per\xedodo")),a.a.createElement(wr.a,null,"Selecione o per\xedodo desejado"))),1===v?a.a.createElement(a.a.Fragment,null,a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Pe.a,{label:"Data Inicial",type:"date",value:L,onChange:function(t){return j(t.target.value)},className:t.fullWidth,InputLabelProps:{shrink:!0}})),a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Pe.a,{label:"Data Final",type:"date",value:N,onChange:function(t){return T(t.target.value)},className:t.fullWidth,InputLabelProps:{shrink:!0}}))):a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(qe.a,{className:t.selectContainer},a.a.createElement(We.a,{id:"period-selector-label"},"Per\xedodo"),a.a.createElement(De.a,{labelId:"period-selector-label",id:"period-selector",value:E,onChange:function(t){return function(t){return F.apply(this,arguments)}(t.target.value)}},a.a.createElement(k.a,{value:0},"Nenhum selecionado"),a.a.createElement(k.a,{value:3},"\xdaltimos 3 dias"),a.a.createElement(k.a,{value:7},"\xdaltimos 7 dias"),a.a.createElement(k.a,{value:15},"\xdaltimos 15 dias"),a.a.createElement(k.a,{value:30},"\xdaltimos 30 dias"),a.a.createElement(k.a,{value:60},"\xdaltimos 60 dias"),a.a.createElement(k.a,{value:90},"\xdaltimos 90 dias")),a.a.createElement(wr.a,null,"Selecione o per\xedodo desejado"))),a.a.createElement(Er.a,{item:!0,xs:12,className:t.alignRight},a.a.createElement(me,{loading:P,onClick:function(){return D()},variant:"contained",color:"primary"},"Filtrar")),a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Hr,{icon:a.a.createElement(jr.a,{fontSize:"inherit"}),title:"Atd. Pendentes",value:o.supportPending,loading:P})),a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Hr,{icon:a.a.createElement(jr.a,{fontSize:"inherit"}),title:"Atd. Acontecendo",value:o.supportHappening,loading:P})),a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Hr,{icon:a.a.createElement(Sr.a,{fontSize:"inherit"}),title:"Atd. Realizados",value:o.supportFinished,loading:P})),a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Hr,{icon:a.a.createElement(Nr.a,{fontSize:"inherit"}),title:"Leads",value:o.leads,loading:P})),a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Hr,{icon:a.a.createElement(Or.a,{fontSize:"inherit"}),title:"T.M. de Atendimento",value:q(o.avgSupportTime),loading:P})),a.a.createElement(Er.a,{item:!0,xs:12,sm:6,md:4},a.a.createElement(Hr,{icon:a.a.createElement(Or.a,{fontSize:"inherit"}),title:"T.M. de Espera",value:q(o.avgWaitTime),loading:P})),a.a.createElement(Er.a,{item:!0,xs:12},s.length?a.a.createElement(un,{attendants:s,loading:P}):null))))},pn=r(892),mn=r(70),vn=r.n(mn),yn=r(532),gn=r(917),bn=r(888),En=r(486),wn=r.n(En),xn=r(487),On=r.n(xn),Ln=r(889),jn=r(890),kn=r(880),Sn=r(921),_n=r(48),Nn=r.n(_n);function Tn(){Tn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Cn=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:t.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),In=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:Ie.c().min(8,"Too Short!").max(50,"Too Long!"),email:Ie.c().email("Invalid email")}),An=function(t){var e=t.open,r=t.onClose,o=t.contactId,i=t.initialValues,c=t.onSave,l=Cn(),s=Object(n.useRef)(!0),d={name:"",number:"",email:""},p=Object(n.useState)(d),m=Object(u.a)(p,2),v=m[0],y=m[1];Object(n.useEffect)((function(){return function(){s.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var t=Object(A.a)(Tn().mark((function t(){var e,r;return Tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i&&y((function(t){return Object(h.a)(Object(h.a)({},t),i)})),o){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,Mt.get("/contacts/".concat(o));case 6:e=t.sent,r=e.data,s.current&&y(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Tt(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}})()()}),[o,e,i]);var g=function(){r(),y(d)},E=function(){var t=Object(A.a)(Tn().mark((function t(e){var r,n;return Tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!o){t.next=7;break}return t.next=4,Mt.put("/contacts/".concat(o),e);case 4:g(),t.next=13;break;case 7:return t.next=9,Mt.post("/contacts",e);case 9:r=t.sent,n=r.data,c&&c(n),g();case 13:f.b.success(kt.a.t("contactModal.success")),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),Tt(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:l.root},a.a.createElement(Me.a,{open:e,onClose:g,maxWidth:"lg",scroll:"paper"},a.a.createElement(Re.a,{id:"form-dialog-title"},"".concat(o?kt.a.t("contactModal.title.edit"):kt.a.t("contactModal.title.add"))),a.a.createElement(Ae.e,{initialValues:v,enableReinitialize:!0,validationSchema:In,onSubmit:function(t,e){setTimeout((function(){E(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.values,r=t.errors,n=t.touched,i=t.isSubmitting;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement(L.a,{variant:"subtitle1",gutterBottom:!0},kt.a.t("contactModal.form.mainInfo")),a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(r.name),helperText:n.name&&r.name,variant:"outlined",margin:"dense",className:l.textField}),a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(r.number),helperText:n.number&&r.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),a.a.createElement("div",null,a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(r.email),helperText:n.email&&r.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),a.a.createElement(L.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},kt.a.t("contactModal.form.extraInfo")),a.a.createElement(Ae.c,{name:"extraInfo"},(function(t){var r=t.push,n=t.remove;return a.a.createElement(a.a.Fragment,null,e.extraInfo&&e.extraInfo.length>0&&e.extraInfo.map((function(t,e){return a.a.createElement("div",{className:l.extraAttr,key:"".concat(e,"-info")},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(e,"].name"),variant:"outlined",margin:"dense",className:l.textField}),a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(e,"].value"),variant:"outlined",margin:"dense",className:l.textField}),a.a.createElement(b.a,{size:"small",onClick:function(){return n(e)}},a.a.createElement(Nn.a,null)))})),a.a.createElement("div",{className:l.extraAttr},a.a.createElement(fe.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:function(){return r({name:"",value:""})}},"+ ".concat(kt.a.t("contactModal.buttons.addExtraInfo")))))}))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:g,color:"secondary",disabled:i,variant:"outlined"},kt.a.t("contactModal.buttons.cancel")),a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:l.btnWrapper},"".concat(o?kt.a.t("contactModal.buttons.okEdit"):kt.a.t("contactModal.buttons.okAdd")),i&&a.a.createElement(he.a,{size:24,className:l.buttonProgress}))))}))))};function Pn(){Pn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Mn=Object(kn.a)({trim:!0}),Gn=function(t){var e,r=t.modalOpen,o=t.onClose,i=t.initialContact,c=Object(n.useState)([]),l=Object(u.a)(c,2),s=l[0],d=l[1],p=Object(n.useState)(!1),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)(""),b=Object(u.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(null),O=Object(u.a)(x,2),L=O[0],j=O[1],S=Object(n.useState)(""),_=Object(u.a)(S,2),N=_[0],T=_[1],C=Object(n.useState)({}),I=Object(u.a)(C,2),P=I[0],M=I[1],G=Object(n.useState)(!1),F=Object(u.a)(G,2),D=F[0],W=F[1],q=Object(n.useContext)(Ht).user;Object(n.useEffect)((function(){void 0!==(null===i||void 0===i?void 0:i.id)&&(d([i]),j(i))}),[i]),Object(n.useEffect)((function(){if(r&&!(E.length<3)){y(!0);var t=setTimeout((function(){(function(){var t=Object(A.a)(Pn().mark((function t(){var e,r;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("contacts",{params:{searchParam:E}});case 3:e=t.sent,r=e.data,d(r.contacts),y(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),y(!1),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}y(!1)}),[E,r]);var Y=function(){o(),w(""),j(null)},z=function(){var t=Object(A.a)(Pn().mark((function t(e){var r,n,a;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(""!==N||"admin"===q.profile){t.next=5;break}return f.b.error("Selecione uma fila"),t.abrupt("return");case 5:return y(!0),t.prev=6,r=""!==N?N:null,t.next=10,Mt.post("/tickets",{contactId:e,queueId:r,userId:q.id,status:"open"});case 10:n=t.sent,a=n.data,o(a),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6),Tt(t.t0);case 18:y(!1);case 19:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e){return t.apply(this,arguments)}}(),B=function(t,e){var r=Mn(t,e);return""!==e.inputValue&&!v&&E.length>=3&&r.push({name:"".concat(e.inputValue)}),r},U=function(t){return t.number?"".concat(t.name," - ").concat(t.number):"".concat(kt.a.t("newTicketModal.add")," ").concat(t.name)},H=function(t){return t.number?"".concat(t.name," - ").concat(t.number):"".concat(t.name)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(An,{open:D,initialValues:P,onClose:function(){W(!1)},onSave:function(t){z(t.id)}}),a.a.createElement(Me.a,{open:r,onClose:Y},a.a.createElement(Re.a,{id:"form-dialog-title"},kt.a.t("newTicketModal.title")),a.a.createElement(Fe.a,{dividers:!0},a.a.createElement(Er.a,{style:{width:300},container:!0,spacing:2},void 0===i||void 0===i.id?a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Sn.a,{fullWidth:!0,options:s,loading:v,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:H,renderOption:U,filterOptions:B,onChange:function(t,e){return function(t,e){(null===e||void 0===e?void 0:e.number)?j(e):(null===e||void 0===e?void 0:e.name)&&(M({name:e.name}),W(!0))}(0,e)},renderInput:function(t){return a.a.createElement(Pe.a,Object.assign({},t,{label:kt.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:function(t){return w(t.target.value)},onKeyPress:function(t){!v&&L&&"Enter"===t.key&&z(L.id)},InputProps:Object(h.a)(Object(h.a)({},t.InputProps),{},{endAdornment:a.a.createElement(a.a.Fragment,null,v?a.a.createElement(he.a,{color:"inherit",size:20}):null,t.InputProps.endAdornment)})}))}})):null,a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(De.a,{fullWidth:!0,displayEmpty:!0,variant:"outlined",value:N,onChange:function(t){T(t.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(){return""===N?"Selecione uma fila":q.queues.find((function(t){return t.id===N})).name}},(null===(e=q.queues)||void 0===e?void 0:e.length)>0&&q.queues.map((function(t,e){return a.a.createElement(k.a,{dense:!0,key:e,value:t.id},a.a.createElement(R.a,{primary:t.name}))})))))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:Y,color:"secondary",disabled:v,variant:"outlined"},kt.a.t("newTicketModal.buttons.cancel")),a.a.createElement(me,{variant:"contained",type:"button",disabled:!L,onClick:function(){return z(L.id)},color:"primary",loading:v},kt.a.t("newTicketModal.buttons.ok")))))},Fn=r(887),Rn=r(914),Dn=Object(n.createContext)(),Wn=function(t){var e=t.children,r=Object(n.useState)({id:null,code:null}),o=Object(u.a)(r,2),i=o[0],c=o[1],l=Object(s.g)();return Object(n.useEffect)((function(){null!==i.id&&l.push("/tickets/".concat(i.uuid))}),[i]),a.a.createElement(Dn.Provider,{value:{currentTicket:i,setCurrentTicket:c}},e)},qn=r(918),Yn=r(364),zn=r.n(Yn),Bn=r(363),Un=r.n(Bn),Hn=r(881),Vn=r(882),Qn=r(883),Kn=r(884),Jn=r(885),Xn=r(886),Zn=r(518);function $n(){$n=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ta=Object(m.a)((function(t){return{messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}})),ea=function(t){var e=t.imageUrl,r=ta(),o=Object(n.useState)(!0),i=Object(u.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(""),f=Object(u.a)(s,2),h=f[0],d=f[1];return Object(n.useEffect)((function(){e&&function(){var t=Object(A.a)($n().mark((function t(){var r,n,a,o;return $n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.get(e,{responseType:"blob"});case 2:r=t.sent,n=r.data,a=r.headers,o=window.URL.createObjectURL(new Blob([n],{type:a["content-type"]})),d(o),l(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e]),a.a.createElement(Zn.a,{className:r.messageMedia,smallSrcSet:c?e:h,medium:c?e:h,large:c?e:h,alt:"image"})},ra=function(t){var e=t.title,r=t.children,n=t.open,o=t.onClose,i=t.onConfirm;return a.a.createElement(Me.a,{open:n,onClose:function(){return o(!1)},"aria-labelledby":"confirm-dialog"},a.a.createElement(Re.a,{id:"confirm-dialog"},e),a.a.createElement(Fe.a,{dividers:!0},a.a.createElement(L.a,null,r)),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{variant:"contained",onClick:function(){return o(!1)},color:"default"},kt.a.t("confirmationModal.buttons.cancel")),a.a.createElement(fe.a,{variant:"contained",onClick:function(){o(!1),i()},color:"secondary"},kt.a.t("confirmationModal.buttons.confirm"))))},na=Object(n.createContext)(),aa=function(t){var e=t.children,r=Object(n.useState)(null),o=Object(u.a)(r,2),i=o[0],c=o[1];return a.a.createElement(na.Provider,{value:{replyingMessage:i,setReplyingMessage:c}},e)};function oa(){oa=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ia=function(t){var e=t.message,r=t.menuOpen,o=t.handleClose,i=t.anchorEl,c=Object(n.useContext)(na).setReplyingMessage,l=Object(n.useState)(!1),s=Object(u.a)(l,2),f=s[0],h=s[1],d=function(){var t=Object(A.a)(oa().mark((function t(){return oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/messages/".concat(e.id));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Tt(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(ra,{title:kt.a.t("messageOptionsMenu.confirmationModal.title"),open:f,onClose:h,onConfirm:d},kt.a.t("messageOptionsMenu.confirmationModal.message")),a.a.createElement(j.a,{anchorEl:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},e.fromMe&&a.a.createElement(k.a,{onClick:function(t){h(!0),o()}},kt.a.t("messageOptionsMenu.delete")),a.a.createElement(k.a,{onClick:function(){c(e),o()}},kt.a.t("messageOptionsMenu.reply"))))},ca=r(485),ua=r.n(ca);function la(){la=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var sa=Object(m.a)((function(t){return{messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:300,minHeight:200},messagesList:Object(h.a)({backgroundImage:"url(".concat(ua.a,")"),display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 20px 20px",overflowY:"scroll"},t.scrollbarStyles),circleLoading:{color:ce.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#ffffff",color:"#303030",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"#f0f0f0",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#dcf8c6",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"#cfe9ba",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:ce.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10}}})),fa=function(t,e){if("LOAD_MESSAGES"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(n,Object(M.a)(t))}if("ADD_MESSAGE"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?t[o]=a:t.push(a),Object(M.a)(t)}if("UPDATE_MESSAGE"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i.id}));return-1!==c&&(t[c]=i),Object(M.a)(t)}if("RESET"===e.type)return[]},ha=function(t){var e=t.ticket,r=t.ticketId,o=t.isGroup,i=sa(),c=Object(n.useReducer)(fa,[]),l=Object(u.a)(c,2),s=l[0],f=l[1],h=Object(n.useState)(1),m=Object(u.a)(h,2),v=m[0],y=m[1],g=Object(n.useState)(!1),w=Object(u.a)(g,2),x=w[0],O=w[1],L=Object(n.useState)(!1),j=Object(u.a)(L,2),k=j[0],S=j[1],_=Object(n.useRef)(),N=Object(n.useState)({}),T=Object(u.a)(N,2),C=T[0],I=T[1],P=Object(n.useState)(null),M=Object(u.a)(P,2),G=M[0],F=M[1],R=Boolean(G),D=Object(n.useRef)(r);Object(n.useEffect)((function(){f({type:"RESET"}),y(1),D.current=r}),[r]),Object(n.useEffect)((function(){S(!0);var t=setTimeout((function(){(function(){var t=Object(A.a)(la().mark((function t(){var e,n;return la().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==r){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Mt.get("/messages/"+r,{params:{pageNumber:v}});case 5:e=t.sent,n=e.data,D.current===r&&(f({type:"LOAD_MESSAGES",payload:n.messages}),O(n.hasMore),S(!1)),1===v&&n.messages.length>1&&W(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),S(!1),Tt(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){clearTimeout(t)}}),[v,r]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),r=Rt({companyId:t});return r.on("connect",(function(){return r.emit("joinChatBox","".concat(e.id))})),r.on("company-".concat(t,"-appMessage"),(function(t){"create"===t.action&&(f({type:"ADD_MESSAGE",payload:t.message}),W()),"update"===t.action&&f({type:"UPDATE_MESSAGE",payload:t.message})})),function(){r.disconnect()}}),[r,e]);var W=function(){_.current&&_.current.scrollIntoView({})},q=function(t,e){F(t.currentTarget),I(e)},Y=function(t){return"image"===t.mediaType?a.a.createElement(ea,{imageUrl:t.mediaUrl}):"audio"===t.mediaType?a.a.createElement("audio",{controls:!0},a.a.createElement("source",{src:t.mediaUrl,type:"audio/ogg"})):"video"===t.mediaType?a.a.createElement("video",{className:i.messageMedia,src:t.mediaUrl,controls:!0}):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:i.downloadMedia},a.a.createElement(fe.a,{startIcon:a.a.createElement(Hn.a,null),color:"primary",variant:"outlined",target:"_blank",href:t.mediaUrl},"Download")),a.a.createElement(E.a,null))},z=function(t,e){if(0===e)return a.a.createElement("span",{className:i.dailyTimestamp,key:"timestamp-".concat(t.id)},a.a.createElement("div",{className:i.dailyTimestampText},Object(te.a)(Object(ie.a)(s[e].createdAt),"dd/MM/yyyy")));if(e<s.length-1){var r=Object(ie.a)(s[e].createdAt),n=Object(ie.a)(s[e-1].createdAt);if(!Object(oe.a)(r,n))return a.a.createElement("span",{className:i.dailyTimestamp,key:"timestamp-".concat(t.id)},a.a.createElement("div",{className:i.dailyTimestampText},Object(te.a)(Object(ie.a)(s[e].createdAt),"dd/MM/yyyy")))}return e===s.length-1?a.a.createElement("div",{key:"ref-".concat(t.createdAt),ref:_,style:{float:"left",clear:"both"}}):void 0},B=function(t,e){if(e<s.length&&e>0&&s[e].fromMe!==s[e-1].fromMe)return a.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(t.id)})},U=function(t){var e,r,n,o,c;return a.a.createElement("div",{className:Object(p.a)(i.quotedContainerLeft,Object(d.a)({},i.quotedContainerRight,t.fromMe))},a.a.createElement("span",{className:Object(p.a)(i.quotedSideColorLeft,Object(d.a)({},i.quotedSideColorRight,null===(e=t.quotedMsg)||void 0===e?void 0:e.fromMe))}),a.a.createElement("div",{className:i.quotedMsg},!(null===(r=t.quotedMsg)||void 0===r?void 0:r.fromMe)&&a.a.createElement("span",{className:i.messageContactName},null===(n=t.quotedMsg)||void 0===n||null===(o=n.contact)||void 0===o?void 0:o.name),null===(c=t.quotedMsg)||void 0===c?void 0:c.body))};return a.a.createElement("div",{className:i.messagesListWrapper},a.a.createElement(ia,{message:C,anchorEl:G,menuOpen:R,handleClose:function(t){F(null)}}),a.a.createElement("div",{id:"messagesList",className:i.messagesList,onScroll:function(t){if(x){var e=t.currentTarget.scrollTop;0===e&&(document.getElementById("messagesList").scrollTop=1),k||e<50&&y((function(t){return t+1}))}}},s.length>0?s.length>0?s.map((function(t,e){var r,n,c;return t.fromMe?a.a.createElement(a.a.Fragment,{key:t.id},z(t,e),B(t,e),a.a.createElement("div",{className:i.messageRight,title:t.queueId&&(null===(r=t.queue)||void 0===r?void 0:r.name)},a.a.createElement(b.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:t.isDeleted,className:i.messageActionsButton,onClick:function(e){return q(e,t)}},a.a.createElement(Jn.a,null)),t.mediaUrl&&Y(t),a.a.createElement("div",{className:Object(p.a)(i.textContentItem,Object(d.a)({},i.textContentItemDeleted,t.isDeleted))},t.isDeleted&&a.a.createElement(Xn.a,{color:"disabled",fontSize:"small",className:i.deletedIcon}),t.quotedMsg&&U(t),a.a.createElement(we,null,t.body),a.a.createElement("span",{className:i.timestamp},Object(te.a)(Object(ie.a)(t.createdAt),"HH:mm"),function(t){return 0===t.ack?a.a.createElement(Vn.a,{fontSize:"small",className:i.ackIcons}):1===t.ack?a.a.createElement(Qn.a,{fontSize:"small",className:i.ackIcons}):2===t.ack?a.a.createElement(Kn.a,{fontSize:"small",className:i.ackIcons}):3===t.ack||4===t.ack?a.a.createElement(Kn.a,{fontSize:"small",className:i.ackDoneAllIcon}):void 0}(t))))):a.a.createElement(a.a.Fragment,{key:t.id},z(t,e),B(t,e),a.a.createElement("div",{className:i.messageLeft,title:t.queueId&&(null===(n=t.queue)||void 0===n?void 0:n.name)},a.a.createElement(b.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:t.isDeleted,className:i.messageActionsButton,onClick:function(e){return q(e,t)}},a.a.createElement(Jn.a,null)),o&&a.a.createElement("span",{className:i.messageContactName},null===(c=t.contact)||void 0===c?void 0:c.name),t.mediaUrl&&Y(t),a.a.createElement("div",{className:i.textContentItem},t.quotedMsg&&U(t),a.a.createElement(we,null,t.body),a.a.createElement("span",{className:i.timestamp},Object(te.a)(Object(ie.a)(t.createdAt),"HH:mm")))))})):a.a.createElement("div",null,"Say hello to your new contact!"):[]),k&&a.a.createElement("div",null,a.a.createElement(he.a,{className:i.circleLoading})))},da=Object(m.a)((function(t){return{ticketHeader:{display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}})),pa=function(){var t=da();return a.a.createElement(Yr.a,{square:!0,className:t.ticketHeader},a.a.createElement(zr.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:a.a.createElement(Br.a,{animation:"wave",variant:"circle"},a.a.createElement(le.a,{alt:"contact_image"})),title:a.a.createElement(Br.a,{animation:"wave",width:80}),subheader:a.a.createElement(Br.a,{animation:"wave",width:140})}))},ma=Object(m.a)((function(t){return{ticketHeader:{display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}})),va=function(t){var e=t.loading,r=t.children,n=ma();return a.a.createElement(a.a.Fragment,null,e?a.a.createElement(pa,null):a.a.createElement(Yr.a,{square:!0,className:n.ticketHeader},r))},ya=function(t){var e=t.contact,r=t.ticket,o=t.onClick,i=r.user,c=Object(n.useState)(""),l=Object(u.a)(c,2),s=l[0],f=l[1],h=Object(n.useState)(""),d=Object(u.a)(h,2),p=d[0],m=d[1];return Object(n.useEffect)((function(){if(e&&(m(e.name),document.body.offsetWidth<600&&e.name.length>10)){var t=e.name.substring(0,10)+"...";m(t)}i&&e&&(f("".concat(kt.a.t("messagesList.header.assignedTo")," ").concat(i.name)),document.body.offsetWidth<600&&f("".concat(i.name)))}),[]),a.a.createElement(zr.a,{onClick:o,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:a.a.createElement(le.a,{src:e.profilePicUrl,alt:"contact_image"}),title:"".concat(p," #").concat(r.id),subheader:r.user&&"".concat(s)})};function ga(){ga=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ba=Object(m.a)((function(t){return{root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:0}}}));function Ea(t){var e=t.open,r=t.handleClose,o=t.ticketId,i=Object(s.g)(),c=ba(),l=Object(n.useContext)(Ht).user,d=Object(n.useState)(!1),p=Object(u.a)(d,2)[1],m=Object(n.useState)(!0),v=Object(u.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)({}),E=Object(u.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)({}),L=Object(u.a)(O,2),j=L[0],k=L[1];Object(n.useEffect)((function(){var t=null;return e&&(g(!0),t=setTimeout((function(){(function(){var t=Object(A.a)(ga().mark((function t(){var e,r,n,a,c;return ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/tickets/"+o);case 3:if(e=t.sent,r=e.data,n=r.queueId,a=l.queues,c=l.profile,void 0!==a.find((function(t){return t.id===n}))||"admin"===c){t.next=12;break}return f.b.error("Acesso n\xe3o permitido"),i.push("/tickets"),t.abrupt("return");case 12:x(r.contact),k(r),g(!1),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),g(!1),Tt(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(){return t.apply(this,arguments)}})()()}),500)),function(){null!==t&&clearTimeout(t)}}),[o,l,i,e]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),r=null;return e&&((r=Rt({companyId:t})).on("connect",(function(){return r.emit("joinChatBox","".concat(j.id))})),r.on("company-".concat(t,"-ticket"),(function(t){"update"===t.action&&k(t.ticket),"delete"===t.action&&(f.b.success("Ticket deleted sucessfully."),i.push("/tickets"))})),r.on("company-".concat(t,"-contact"),(function(t){"update"===t.action&&x((function(e){var r;return e.id===(null===(r=t.contact)||void 0===r?void 0:r.id)?Object(h.a)(Object(h.a)({},e),t.contact):e}))}))),function(){null!==r&&r.disconnect()}}),[o,j,i,e]);var S=function(){p(!0)};return a.a.createElement(Me.a,{maxWidth:"md",onClose:r,open:e},a.a.createElement(va,{loading:y},function(){if(void 0!==j.user)return a.a.createElement(ya,{contact:w,ticket:j,onClick:S})}()),a.a.createElement(aa,null,a.a.createElement(Rn.a,{className:c.root},a.a.createElement(ha,{ticket:j,ticketId:j.id,isGroup:j.isGroup}))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:r,color:"primary"},"Fechar")))}function wa(){wa=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var xa=Object(m.a)((function(t){return{ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},badgeStyle:{color:"white",backgroundColor:ce.a[500],right:20},acceptButton:{position:"absolute",right:"108px"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},ticketInfo:{textAlign:"right"}}})),Oa=function(t){var e,r,o,i=t.ticket,c=xa(),l=Object(s.g)(),f=Object(n.useState)(!1),h=Object(u.a)(f,2),m=h[0],v=h[1],y=Object(n.useState)(null),g=Object(u.a)(y,2),b=g[0],w=g[1],x=Object(n.useState)(!1),O=Object(u.a)(x,2),j=O[0],k=O[1],S=Object(s.h)().ticketId,_=Object(n.useRef)(!0),N=Object(n.useContext)(Dn).setCurrentTicket,T=Object(n.useContext)(Ht).user,C=T.profile;Object(n.useEffect)((function(){return i.userId&&i.user&&w(i.user.name),function(){_.current=!1}}),[]);var I=function(){var t=Object(A.a)(wa().mark((function t(e){return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.prev=1,t.next=4,Mt.put("/tickets/".concat(e),{status:"open",userId:null===T||void 0===T?void 0:T.id});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),v(!1),Tt(t.t0);case 10:_.current&&v(!1),l.push("/tickets/".concat(i.uuid));case 12:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,{key:i.id},a.a.createElement(Ea,{open:j,handleClose:function(){return k(!1)},ticketId:i.id}),a.a.createElement(G.a,{dense:!0,button:!0,onClick:function(t){"pending"!==i.status&&function(t){var e=Object(qn.a)(),r=t.id,n=t.uuid;N({id:r,uuid:n,code:e})}(i)},selected:S&&+S===i.id,className:Object(p.a)(c.ticket,Object(d.a)({},c.pendingTicket,"pending"===i.status))},a.a.createElement(xe.a,{arrow:!0,placement:"right",title:(null===(e=i.queue)||void 0===e?void 0:e.name)||"Sem fila"},a.a.createElement("span",{style:{backgroundColor:(null===(r=i.queue)||void 0===r?void 0:r.color)||"#7C7C7C"},className:c.ticketQueueColor})),a.a.createElement(ue.a,null,a.a.createElement(le.a,{src:null===i||void 0===i||null===(o=i.contact)||void 0===o?void 0:o.profilePicUrl})),a.a.createElement(R.a,{disableTypography:!0,primary:a.a.createElement("span",{className:c.contactNameWrapper},a.a.createElement(L.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},i.contact.name)),secondary:a.a.createElement("span",{className:c.contactNameWrapper},a.a.createElement(L.a,{className:c.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},i.lastMessage?a.a.createElement(we,null,i.lastMessage):a.a.createElement("br",null)),a.a.createElement(W.a,{className:c.newMessagesCount,badgeContent:i.unreadMessages,classes:{badge:c.badgeStyle}}))}),"pending"===i.status&&a.a.createElement(me,{color:"primary",variant:"contained",className:c.acceptButton,size:"small",loading:m,onClick:function(t){return I(i.id)}},kt.a.t("ticketsList.buttons.accept")),a.a.createElement(Fn.a,null,"closed"===i.status&&a.a.createElement(W.a,{className:c.closedBadge,badgeContent:"closed",color:"primary"}),i.lastMessage&&a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{className:c.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(oe.a)(Object(ie.a)(i.updatedAt),new Date)?a.a.createElement(a.a.Fragment,null,Object(te.a)(Object(ie.a)(i.updatedAt),"HH:mm")):a.a.createElement(a.a.Fragment,null,Object(te.a)(Object(ie.a)(i.updatedAt),"dd/MM/yyyy"))),a.a.createElement("br",null),a.a.createElement(Rn.a,{className:c.ticketInfo},b?a.a.createElement(a.a.Fragment,null,"admin"===C&&a.a.createElement(xe.a,{title:"Espiar Conversa"},a.a.createElement(Un.a,{onClick:function(){return k(!0)},fontSize:"small",style:{color:Tr.a[700],cursor:"pointer",marginRight:5}})),i.chatbot&&a.a.createElement(xe.a,{title:"Chatbot"},a.a.createElement(zn.a,{fontSize:"small",style:{color:Tr.a[700],marginRight:5}})),a.a.createElement(xe.a,{title:"Atribuido \xe0 ".concat(b)},a.a.createElement(U.a,{fontSize:"small",style:{color:Tr.a[700]}}))):a.a.createElement(a.a.Fragment,null,i.chatbot&&a.a.createElement(xe.a,{title:"Chatbot"},a.a.createElement(zn.a,{fontSize:"small",style:{color:Tr.a[700],marginRight:5}})),"admin"===C&&a.a.createElement(xe.a,{title:"Espiar Conversa"},a.a.createElement(Un.a,{onClick:function(){return k(!0)},fontSize:"small",style:{color:Tr.a[700],cursor:"pointer",marginRight:5}}))))))),a.a.createElement(E.a,{variant:"inset",component:"li"}))},La=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(G.a,{dense:!0},a.a.createElement(ue.a,null,a.a.createElement(Br.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(R.a,{primary:a.a.createElement(Br.a,{animation:"wave",height:20,width:60}),secondary:a.a.createElement(Br.a,{animation:"wave",height:20,width:90})})),a.a.createElement(E.a,{variant:"inset"}),a.a.createElement(G.a,{dense:!0},a.a.createElement(ue.a,null,a.a.createElement(Br.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(R.a,{primary:a.a.createElement(Br.a,{animation:"wave",height:20,width:70}),secondary:a.a.createElement(Br.a,{animation:"wave",height:20,width:120})})),a.a.createElement(E.a,{variant:"inset"}),a.a.createElement(G.a,{dense:!0},a.a.createElement(ue.a,null,a.a.createElement(Br.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(R.a,{primary:a.a.createElement(Br.a,{animation:"wave",height:20,width:60}),secondary:a.a.createElement(Br.a,{animation:"wave",height:20,width:90})})),a.a.createElement(E.a,{variant:"inset"}))},ja=Object(m.a)((function(t){return{ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:Object(h.a)(Object(h.a)({flex:1,maxHeight:"100%",overflowY:"scroll"},t.scrollbarStyles),{},{borderTop:"2px solid rgba(0, 0, 0, 0.12)"}),ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),ka=function(t,e){if("LOAD_TICKETS"===e.type)return e.payload.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?(t[r]=e,e.unreadMessages>0&&t.unshift(t.splice(r,1)[0])):t.push(e)})),Object(M.a)(t);if("RESET_UNREAD"===e.type){var r=e.payload,n=t.findIndex((function(t){return t.id===r}));return-1!==n&&(t[n].unreadMessages=0),Object(M.a)(t)}if("UPDATE_TICKET"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?t[o]=a:t.unshift(a),Object(M.a)(t)}if("UPDATE_TICKET_UNREAD_MESSAGES"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i.id}));return-1!==c?(t[c]=i,t.unshift(t.splice(c,1)[0])):t.unshift(i),Object(M.a)(t)}if("UPDATE_TICKET_CONTACT"===e.type){var u=e.payload,l=t.findIndex((function(t){return t.contactId===u.id}));return-1!==l&&(t[l].contact=u),Object(M.a)(t)}if("DELETE_TICKET"===e.type){var s=e.payload,f=t.findIndex((function(t){return t.id===s}));return-1!==f&&t.splice(f,1),Object(M.a)(t)}return"RESET"===e.type?[]:void 0},Sa=function(t){var e=t.status,r=t.searchParam,o=t.tags,i=t.users,c=t.showAll,l=t.selectedQueueIds,s=t.updateCount,f=t.style,h=ja(),d=Object(n.useState)(1),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useReducer)(ka,[]),g=Object(u.a)(y,2),b=g[0],E=g[1],x=Object(n.useContext)(Ht).user,O=x.profile,L=x.queues;Object(n.useEffect)((function(){E({type:"RESET"}),v(1)}),[e,r,E,c,o,i,l]);var j=Se({pageNumber:m,searchParam:r,status:e,showAll:c,tags:JSON.stringify(o),users:JSON.stringify(i),queueIds:JSON.stringify(l)}),k=j.tickets,S=j.hasMore,_=j.loading;Object(n.useEffect)((function(){var t=L.map((function(t){return t.id})),e=k.filter((function(e){return t.indexOf(e.queueId)>-1}));E("user"===O?{type:"LOAD_TICKETS",payload:e}:{type:"LOAD_TICKETS",payload:k})}),[k,e,r,L,O]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),r=Rt({companyId:t}),n=function(t){return(!t.userId||t.userId===(null===x||void 0===x?void 0:x.id)||c)&&(!t.queueId||l.indexOf(t.queueId)>-1)};return r.on("connect",(function(){e?r.emit("joinTickets",e):r.emit("joinNotification")})),r.on("company-".concat(t,"-ticket"),(function(t){var e;"updateUnread"===t.action&&E({type:"RESET_UNREAD",payload:t.ticketId}),"update"===t.action&&n(t.ticket)&&E({type:"UPDATE_TICKET",payload:t.ticket}),"update"===t.action&&((e=t.ticket).queueId&&-1===l.indexOf(e.queueId))&&E({type:"DELETE_TICKET",payload:t.ticket.id}),"delete"===t.action&&E({type:"DELETE_TICKET",payload:t.ticketId})})),r.on("company-".concat(t,"-appMessage"),(function(t){var e,r=L.map((function(t){return t.id}));("user"!==O||-1!==r.indexOf(null===(e=t.ticket.queue)||void 0===e?void 0:e.id)&&null!==t.ticket.queue)&&"create"===t.action&&n(t.ticket)&&E({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:t.ticket})})),r.on("company-".concat(t,"-contact"),(function(t){"update"===t.action&&E({type:"UPDATE_TICKET_CONTACT",payload:t.contact})})),function(){r.disconnect()}}),[e,c,x,l,o,i,O,L]),Object(n.useEffect)((function(){"function"===typeof s&&s(b.length)}),[b]);return a.a.createElement(tr.a,{className:h.ticketsListWrapper,style:f},a.a.createElement(tr.a,{square:!0,name:"closed",elevation:0,className:h.ticketsList,onScroll:function(t){if(S&&!_){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&v((function(t){return t+1}))}}},a.a.createElement(w.a,{style:{paddingTop:0}},0!==b.length||_?a.a.createElement(a.a.Fragment,null,b.map((function(t){return a.a.createElement(Oa,{ticket:t,key:t.id})}))):a.a.createElement("div",{className:h.noTicketsDiv},a.a.createElement("span",{className:h.noTicketsTitle},kt.a.t("ticketsList.noTicketsTitle")),a.a.createElement("p",{className:h.noTicketsText},kt.a.t("ticketsList.noTicketsMessage"))),_&&a.a.createElement(La,null))))},_a=["children","value","name"],Na=function(t){var e=t.children,r=t.value,n=t.name,o=Object(se.a)(t,_a);return r===n?a.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),a.a.createElement(a.a.Fragment,null,e)):null},Ta=r(919),Ca=function(t){var e=t.userQueues,r=t.selectedQueueIds,n=void 0===r?[]:r,o=t.onChange;return a.a.createElement("div",{style:{width:120,marginTop:-4}},a.a.createElement(qe.a,{fullWidth:!0,margin:"dense"},a.a.createElement(De.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:n,onChange:function(t){o(t.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(){return kt.a.t("ticketsQueueSelect.placeholder")}},(null===e||void 0===e?void 0:e.length)>0&&e.map((function(t){return a.a.createElement(k.a,{dense:!0,key:t.id,value:t.id},a.a.createElement(Ta.a,{style:{color:t.color},size:"small",color:"primary",checked:n.indexOf(t.id)>-1}),a.a.createElement(R.a,{primary:t.name}))})))))};function Ia(){Ia=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function Aa(t){var e=t.onFiltered,r=Object(n.useState)([]),o=Object(u.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)([]),s=Object(u.a)(l,2),f=s[0],h=s[1];Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(Ia().mark((function t(){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var d=function(){var t=Object(A.a)(Ia().mark((function t(){var e,r;return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/tags/list");case 3:e=t.sent,r=e.data,c(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Tt(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(A.a)(Ia().mark((function t(r){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(r),e(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(Rn.a,{style:{padding:10}},a.a.createElement(Sn.a,{multiple:!0,size:"small",options:i,value:f,onChange:function(t,e,r){return p(e)},getOptionLabel:function(t){return t.name},renderTags:function(t,e){return t.map((function(t,r){return a.a.createElement(Ye.a,Object.assign({variant:"outlined",style:{backgroundColor:t.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:t.name},e({index:r}),{size:"small"}))}))},renderInput:function(t){return a.a.createElement(Pe.a,Object.assign({},t,{variant:"outlined",placeholder:"Filtro por Tags"}))}}))}function Pa(){Pa=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function Ma(t){var e=t.onFiltered,r=t.initialUsers,o=Object(n.useState)([]),i=Object(u.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)([]),f=Object(u.a)(s,2),h=f[0],d=f[1];Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){d([]),Array.isArray(r)&&Array.isArray(c)&&c.length>0&&m(r)}),[r,c]);var p=function(){var t=Object(A.a)(Pa().mark((function t(){var e,r,n;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/users/list");case 3:e=t.sent,r=e.data,n=r.map((function(t){return{id:t.id,name:t.name}})),l(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Tt(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(A.a)(Pa().mark((function t(r){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d(r),e(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(Rn.a,{style:{padding:"0px 10px 10px"}},a.a.createElement(Sn.a,{multiple:!0,size:"small",options:c,value:h,onChange:function(t,e,r){return m(e)},getOptionLabel:function(t){return t.name},getOptionSelected:function(t,e){return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)||(null===t||void 0===t?void 0:t.name.toLowerCase())===(null===e||void 0===e?void 0:e.name.toLowerCase())},renderTags:function(t,e){return t.map((function(t,r){return a.a.createElement(Ye.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:t.name},e({index:r}),{size:"small"}))}))},renderInput:function(t){return a.a.createElement(Pe.a,Object.assign({},t,{variant:"outlined",placeholder:"Filtro por Users"}))}}))}var Ga=Object(m.a)((function(t){return{ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{flex:"none",backgroundColor:"#eee"},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:8},tab:{minWidth:120,width:120},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fafafa",padding:t.spacing(1)},serachInputWrapper:{flex:1,background:"#fff",display:"flex",borderRadius:40,padding:4,marginRight:t.spacing(1)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},badge:{right:"-10px"},show:{display:"block"},hide:{display:"none !important"}}})),Fa=function(){var t,e=Ga(),r=Object(s.g)(),o=Object(n.useState)(""),i=Object(u.a)(o,2),c=i[0],l=i[1],f=Object(n.useState)("open"),h=Object(u.a)(f,2),d=h[0],p=h[1],m=Object(n.useState)("open"),v=Object(u.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(!1),E=Object(u.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)(!1),L=Object(u.a)(O,2),j=L[0],k=L[1],S=Object(n.useRef)(),_=Object(n.useContext)(Ht).user,N=_.profile,T=Object(n.useState)(0),C=Object(u.a)(T,2),I=C[0],A=C[1],P=Object(n.useState)(0),M=Object(u.a)(P,2),G=M[0],F=M[1],R=_.queues.map((function(t){return t.id})),D=Object(n.useState)(R||[]),q=Object(u.a)(D,2),Y=q[0],z=q[1],B=Object(n.useState)([]),U=Object(u.a)(B,2),H=U[0],V=U[1],Q=Object(n.useState)([]),K=Object(u.a)(Q,2),J=K[0],X=K[1];Object(n.useEffect)((function(){"ADMIN"===_.profile.toUpperCase()&&k(!0)}),[]),Object(n.useEffect)((function(){"search"===d&&S.current.focus()}),[d]);var Z=function(t){if(y!==t)return{width:0,height:0}};return a.a.createElement(tr.a,{elevation:0,variant:"outlined",className:e.ticketsWrapper},a.a.createElement(Gn,{modalOpen:w,onClose:function(t){console.log("ticket",t),function(t){x(!1),void 0!==t&&void 0!==t.uuid&&r.push("/tickets/".concat(t.uuid))}(t)}}),a.a.createElement(tr.a,{elevation:0,square:!0,className:e.tabsHeader},a.a.createElement(gn.a,{value:d,onChange:function(t,e){p(e)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon label tabs example"},a.a.createElement(bn.a,{value:"open",icon:a.a.createElement(wn.a,null),label:kt.a.t("tickets.tabs.open.title"),classes:{root:e.tab}}),a.a.createElement(bn.a,{value:"closed",icon:a.a.createElement(On.a,null),label:kt.a.t("tickets.tabs.closed.title"),classes:{root:e.tab}}),a.a.createElement(bn.a,{value:"search",icon:a.a.createElement(vn.a,null),label:kt.a.t("tickets.tabs.search.title"),classes:{root:e.tab}}))),a.a.createElement(tr.a,{square:!0,elevation:0,className:e.ticketOptionsBox},"search"===d?a.a.createElement("div",{className:e.serachInputWrapper},a.a.createElement(vn.a,{className:e.searchIcon}),a.a.createElement(yn.a,{className:e.searchInput,inputRef:S,placeholder:kt.a.t("tickets.search.placeholder"),type:"search",onChange:function(e){var r=e.target.value.toLowerCase();if(clearTimeout(t),""===r)return l(r),void p("open");t=setTimeout((function(){l(r)}),500)}})):a.a.createElement(a.a.Fragment,null,a.a.createElement(fe.a,{variant:"outlined",color:"primary",onClick:function(){return x(!0)}},kt.a.t("ticketsManager.buttons.newTicket")),a.a.createElement(Kt,{role:_.profile,perform:"tickets-manager:showall",yes:function(){return a.a.createElement(Ln.a,{label:kt.a.t("tickets.buttons.showAll"),labelPlacement:"start",control:a.a.createElement(jn.a,{size:"small",checked:j,onChange:function(){return k((function(t){return!t}))},name:"showAllTickets",color:"primary"})})}})),a.a.createElement(Ca,{style:{marginLeft:6},selectedQueueIds:Y,userQueues:null===_||void 0===_?void 0:_.queues,onChange:function(t){return z(t)}})),a.a.createElement(Na,{value:d,name:"open",className:e.ticketsWrapper},a.a.createElement(gn.a,{value:y,onChange:function(t,e){g(e)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},a.a.createElement(bn.a,{label:a.a.createElement(W.a,{className:e.badge,badgeContent:I,color:"primary"},kt.a.t("ticketsList.assignedHeader")),value:"open"}),a.a.createElement(bn.a,{label:a.a.createElement(W.a,{className:e.badge,badgeContent:G,color:"secondary"},kt.a.t("ticketsList.pendingHeader")),value:"pending"})),a.a.createElement(tr.a,{className:e.ticketsWrapper},a.a.createElement(Sa,{status:"open",showAll:j,selectedQueueIds:Y,updateCount:function(t){return A(t)},style:Z("open")}),a.a.createElement(Sa,{status:"pending",selectedQueueIds:Y,updateCount:function(t){return F(t)},style:Z("pending")}))),a.a.createElement(Na,{value:d,name:"closed",className:e.ticketsWrapper},a.a.createElement(Sa,{status:"closed",showAll:!0,selectedQueueIds:Y})),a.a.createElement(Na,{value:d,name:"search",className:e.ticketsWrapper},a.a.createElement(Aa,{onFiltered:function(t){var e=t.map((function(t){return t.id}));V(e)}}),"admin"===N&&a.a.createElement(Ma,{onFiltered:function(t){var e=t.map((function(t){return t.id}));X(e)}}),a.a.createElement(Sa,{searchParam:c,showAll:!0,tags:H,users:J,selectedQueueIds:Y})))},Ra=r(488),Da=r.n(Ra),Wa=r(891),qa=r(489),Ya=r.n(qa),za=function(t){var e=t.classes;return a.a.createElement("div",{className:e.content},a.a.createElement(tr.a,{square:!0,variant:"outlined",className:e.contactHeader},a.a.createElement(Er.a,{container:!0},a.a.createElement(Er.a,{item:!0},a.a.createElement(Br.a,{animation:"wave",variant:"circle",width:60,height:60,className:e.contactAvatar})),a.a.createElement(Er.a,{item:!0},a.a.createElement(Br.a,{animation:"wave",height:25,width:90}),a.a.createElement(Br.a,{animation:"wave",height:25,width:80}),a.a.createElement(Br.a,{animation:"wave",height:25,width:80})))),a.a.createElement(tr.a,{square:!0,className:e.contactDetails},a.a.createElement(L.a,{variant:"subtitle1"},kt.a.t("contactDrawer.extraInfo")),a.a.createElement(tr.a,{square:!0,variant:"outlined",className:e.contactExtraInfo},a.a.createElement(Br.a,{animation:"wave",height:20,width:60}),a.a.createElement(Br.a,{animation:"wave",height:20,width:160})),a.a.createElement(tr.a,{square:!0,variant:"outlined",className:e.contactExtraInfo},a.a.createElement(Br.a,{animation:"wave",height:20,width:60}),a.a.createElement(Br.a,{animation:"wave",height:20,width:160})),a.a.createElement(tr.a,{square:!0,variant:"outlined",className:e.contactExtraInfo},a.a.createElement(Br.a,{animation:"wave",height:20,width:60}),a.a.createElement(Br.a,{animation:"wave",height:20,width:160}))))};function Ba(){Ba=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Ua=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:t.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textCenter:{backgroundColor:"red"}}})),Ha=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:Ie.c().min(8,"Too Short!").max(50,"Too Long!"),email:Ie.c().email("Invalid email")});function Va(t){var e=t.initialContact,r=t.onSave,o=t.onCancel,i=Ua(),c=Object(n.useState)(e),l=Object(u.a)(c,2),s=l[0],h=l[1];Object(n.useEffect)((function(){h(e)}),[e]);var d=function(){var t=Object(A.a)(Ba().mark((function t(e){var n,a;return Ba().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!s.id){t.next=6;break}return t.next=4,Mt.put("/contacts/".concat(s.id),e);case 4:t.next=11;break;case 6:return t.next=8,Mt.post("/contacts",e);case 8:n=t.sent,a=n.data,r&&r(a);case 11:f.b.success(kt.a.t("contactModal.success")),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),Tt(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(Ae.e,{initialValues:s,enableReinitialize:!0,validationSchema:Ha,onSubmit:function(t,e){setTimeout((function(){d(t),e.setSubmitting(!1)}),400)}},(function(t){t.values;var e=t.errors,r=t.touched,n=t.isSubmitting;return a.a.createElement(Ae.d,null,a.a.createElement(Er.a,{container:!0,spacing:1},a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:r.name&&Boolean(e.name),helperText:r.name&&e.name,variant:"outlined",margin:"dense",className:i.textField,fullWidth:!0})),a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.number"),name:"number",error:r.number&&Boolean(e.number),helperText:r.number&&e.number,placeholder:"5513912344321",variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.email"),name:"email",error:r.email&&Boolean(e.email),helperText:r.email&&e.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),a.a.createElement(Er.a,{item:!0,xs:12,spacing:1},a.a.createElement(Er.a,{container:!0,spacing:1},a.a.createElement(Er.a,{xs:6,item:!0},a.a.createElement(fe.a,{onClick:o,color:"secondary",disabled:n,variant:"outlined",fullWidth:!0},kt.a.t("contactModal.buttons.cancel"))),a.a.createElement(Er.a,{classes:i.textCenter,xs:6,item:!0},a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper,fullWidth:!0},s.id?"".concat(kt.a.t("contactModal.buttons.okEdit")):"".concat(kt.a.t("contactModal.buttons.okAdd")),n&&a.a.createElement(he.a,{size:24,className:i.buttonProgress})))))))}))}var Qa=r(298),Ka=r.n(Qa),Ja=Object(m.a)((function(t){return{inline:{width:"100%"}}}));function Xa(t){var e=t.note,r=t.deleteItem,n=Ja();return a.a.createElement(G.a,{alignItems:"flex-start"},a.a.createElement(ue.a,null,a.a.createElement(le.a,{alt:e.user.name,src:"/static/images/avatar/1.jpg"})),a.a.createElement(R.a,{primary:a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{component:"span",variant:"body2",className:n.inline,color:"textPrimary"},e.note)),secondary:a.a.createElement(a.a.Fragment,null,e.user.name,", ",rr()(e.createdAt).format("DD/MM/YY HH:mm"))}),a.a.createElement(Fn.a,null,a.a.createElement(b.a,{onClick:function(){r(e)},edge:"end","aria-label":"delete"},a.a.createElement(Ka.a,null))))}function Za(){Za=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var $a=function(){return{saveNote:function(){var t=Object(A.a)(Za().mark((function t(e){var r,n;return Za().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/ticket-notes",method:"POST",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteNote:function(){var t=Object(A.a)(Za().mark((function t(e){var r,n;return Za().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/ticket-notes/".concat(e),method:"DELETE"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),listNotes:function(){var t=Object(A.a)(Za().mark((function t(e){var r,n;return Za().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/ticket-notes/list",method:"GET",params:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function to(){to=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var eo=Object(m.a)((function(t){return{root:{"& .MuiTextField-root":{margin:t.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:t.palette.background.paper,overflow:"auto"},inline:{width:"100%"}}})),ro=Ie.b().shape({note:Ie.c().min(2,"Too Short!").required("Required")});function no(t){var e=t.ticket,r=e.id,o=e.contactId,i=eo(),c=Object(n.useState)({note:""}),l=Object(u.a)(c,2),s=l[0],d=l[1],p=Object(n.useState)(!1),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)(!1),b=Object(u.a)(g,2),E=b[0],x=b[1],O=Object(n.useState)({}),L=Object(u.a)(O,2),j=L[0],k=L[1],S=Object(n.useState)([]),_=Object(u.a)(S,2),N=_[0],T=_[1],C=$a(),I=C.saveNote,P=C.deleteNote,M=C.listNotes;Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(to().mark((function t(){return to().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(),t.next=3,q();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var G=function(){d({note:""}),y(!1)},F=function(t){d({note:t.target.value})},R=function(){var t=Object(A.a)(to().mark((function t(e){return to().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,t.next=4,I(Object(h.a)(Object(h.a)({},e),{},{ticketId:r,contactId:o}));case 4:return t.next=6,q();case 6:d({note:""}),f.b.success("Observa\xe7\xe3o adicionada com sucesso!"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),f.b.error(t.t0);case 13:y(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),D=function(t){k(t),x(!0)},W=function(){var t=Object(A.a)(to().mark((function t(){return to().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,t.next=4,P(j.id);case 4:return t.next=6,q();case 6:k({}),f.b.success("Observa\xe7\xe3o exclu\xedda com sucesso!"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),f.b.error(t.t0);case 13:y(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=Object(A.a)(to().mark((function t(){var e;return to().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,t.next=4,M({ticketId:r,contactId:o});case 4:e=t.sent,T(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),f.b.error(t.t0);case 11:y(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(ra,{title:"Excluir Registro",open:E,onClose:x,onConfirm:W},"Deseja realmente excluir este registro?"),a.a.createElement(Ae.e,{initialValues:s,enableReinitialize:!0,validationSchema:ro,onSubmit:function(t,e){setTimeout((function(){R(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.setErrors;return a.a.createElement(Ae.d,null,a.a.createElement(Er.a,{container:!0,spacing:2},a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Ae.b,{as:Pe.a,name:"note",rows:3,label:kt.a.t("ticketOptionsMenu.appointmentsModal.textarea"),placeholder:kt.a.t("ticketOptionsMenu.appointmentsModal.placeholder"),multiline:!0,error:e.note&&Boolean(r.note),helperText:e.note&&r.note,variant:"outlined",onChange:F,fullWidth:!0})),N.length>0&&a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(w.a,{className:i.list},N.map((function(t){return a.a.createElement(Xa,{note:t,key:t.id,deleteItem:D})})))),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Er.a,{container:!0,spacing:2},a.a.createElement(Er.a,{xs:6,item:!0},a.a.createElement(fe.a,{onClick:function(){d(""),n({})},color:"primary",variant:"outlined",fullWidth:!0},"Cancelar")),a.a.createElement(Er.a,{xs:6,item:!0},a.a.createElement(me,{loading:v,color:"primary",type:"submit",variant:"contained",autoFocus:!0,fullWidth:!0},"Salvar"))))))})))}var ao=Object(m.a)((function(t){return{drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee",alignItems:"center",padding:t.spacing(0,1),minHeight:"73px",justifyContent:"flex-start"},content:Object(h.a)({display:"flex",backgroundColor:"#eee",flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",overflowY:"scroll"},t.scrollbarStyles),contactAvatar:{margin:15,width:100,height:100},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}})),oo=function(t){var e,r=t.open,o=t.handleDrawerClose,i=t.contact,c=t.ticket,l=t.loading,s=ao(),f=Object(n.useState)(!1),h=Object(u.a)(f,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(u.a)(m,2),y=v[0],E=v[1];return Object(n.useEffect)((function(){E(!1)}),[r,i]),a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a,{className:s.drawer,variant:"persistent",anchor:"right",open:r,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:s.drawerPaper}},a.a.createElement("div",{className:s.header},a.a.createElement(b.a,{onClick:o},a.a.createElement(Da.a,null)),a.a.createElement(L.a,{style:{justifySelf:"center"}},kt.a.t("contactDrawer.header"))),l?a.a.createElement(za,{classes:s}):a.a.createElement("div",{className:s.content},a.a.createElement(tr.a,{square:!0,variant:"outlined",className:s.contactHeader},a.a.createElement(zr.a,{onClick:function(){},style:{cursor:"pointer",width:"100%"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:a.a.createElement(le.a,{src:i.profilePicUrl,alt:"contact_image",style:{width:60,height:60}}),title:a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{onClick:function(){return E(!0)}},i.name,a.a.createElement(Ya.a,{style:{fontSize:16,marginLeft:5}}))),subheader:a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{style:{fontSize:12}},a.a.createElement(Wa.a,{href:"tel:".concat(i.number)},i.number)),a.a.createElement(L.a,{style:{fontSize:12}},a.a.createElement(Wa.a,{href:"mailto:".concat(i.email)},i.email)))}),a.a.createElement(fe.a,{variant:"outlined",color:"primary",onClick:function(){return p(!y)},style:{fontSize:12}},kt.a.t("contactDrawer.buttons.edit")),i.id&&y&&a.a.createElement(Va,{initialContact:i,onCancel:function(){return E(!1)}})),a.a.createElement(tr.a,{square:!0,variant:"outlined",className:s.contactDetails},a.a.createElement(L.a,{variant:"subtitle1",style:{marginBottom:10}},kt.a.t("ticketOptionsMenu.appointmentsModal.title")),a.a.createElement(no,{ticket:c})),a.a.createElement(tr.a,{square:!0,variant:"outlined",className:s.contactDetails},a.a.createElement(An,{open:d,onClose:function(){return p(!1)},contactId:i.id}),a.a.createElement(L.a,{variant:"subtitle1"},kt.a.t("contactDrawer.extraInfo")),null===i||void 0===i||null===(e=i.extraInfo)||void 0===e?void 0:e.map((function(t){return a.a.createElement(tr.a,{key:t.id,square:!0,variant:"outlined",className:s.contactExtraInfo},a.a.createElement(We.a,null,t.name),a.a.createElement(L.a,{component:"div",noWrap:!0,style:{paddingTop:2}},a.a.createElement(we,null,t.value)))}))))))},io=(r(735),r(515)),co=r(490),uo=r.n(co),lo=r(210),so=r.n(lo),fo=r(491),ho=r.n(fo),po=r(240),mo=r.n(po),vo=r(496),yo=r.n(vo),go=r(495),bo=r.n(go),Eo=r(494),wo=r.n(Eo),xo=r(493),Oo=r.n(xo),Lo=r(492),jo=r.n(Lo),ko=Object(m.a)((function(t){return{timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}})),So=function(){var t=ko(),e=Object(n.useState)({minutes:0,seconds:0}),r=Object(u.a)(e,2),o=r[0],i=r[1];Object(n.useEffect)((function(){var t=setInterval((function(){return i((function(t){return 59===t.seconds?Object(h.a)(Object(h.a)({},t),{},{minutes:t.minutes+1,seconds:0}):Object(h.a)(Object(h.a)({},t),{},{seconds:t.seconds+1})}))}),1e3);return function(){clearInterval(t)}}),[]);var c=function(t){return t<10?"0"+t:t};return a.a.createElement("div",{className:t.timerBox},a.a.createElement("span",null,"".concat(c(o.minutes),":").concat(c(o.seconds))))};function _o(){_o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var No=function(){return{save:function(){var t=Object(A.a)(_o().mark((function t(e){var r,n;return _o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/quick-messages",method:"POST",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),update:function(){var t=Object(A.a)(_o().mark((function t(e){var r,n;return _o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/quick-messages/".concat(e.id),method:"PUT",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteRecord:function(){var t=Object(A.a)(_o().mark((function t(e){var r,n;return _o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/quick-messages/".concat(e),method:"DELETE"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),list:function(){var t=Object(A.a)(_o().mark((function t(e){var r,n;return _o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/quick-messages/list",method:"GET",params:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},To=["InputLabelProps","InputProps"];function Co(){Co=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Io=new uo.a({bitRate:128}),Ao=Object(m.a)((function(t){return{mainWrapper:{background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},newMessageBox:{background:"#eee",width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:"#fff",display:"flex",borderRadius:20,flex:1},messageInput:{paddingLeft:10,flex:1,border:"none"},sendMessageIcons:{color:"grey"},uploadInput:{display:"none"},viewMediaInputWrapper:{display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"#eee",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:ce.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:ce.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500}}})),Po=function(t){var e=t.disabled,r=t.showEmoji,n=t.setShowEmoji,o=t.handleAddEmoji,i=Ao();return a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{"aria-label":"emojiPicker",component:"span",disabled:e,onClick:function(t){return n((function(t){return!t}))}},a.a.createElement(ho.a,{className:i.sendMessageIcons})),r?a.a.createElement("div",{className:i.emojiBox},a.a.createElement(io.a,{perLine:16,showPreview:!1,showSkinTones:!1,onSelect:o})):null)},Mo=function(t){var e=t.width,r=t.setSignMessage,n=t.signMessage;return Object(pn.b)("md",e)?a.a.createElement(Ln.a,{style:{marginRight:7,color:"gray"},label:kt.a.t("messagesInput.signMessage"),labelPlacement:"start",control:a.a.createElement(jn.a,{size:"small",checked:n,onChange:function(t){r(t.target.checked)},name:"showAllTickets",color:"primary"})}):null},Go=function(t){var e=t.handleChangeMedias,r=t.disableOption,n=Ao();return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:r(),className:n.uploadInput,onChange:e}),a.a.createElement("label",{htmlFor:"upload-button"},a.a.createElement(b.a,{"aria-label":"upload",component:"span",disabled:r()},a.a.createElement(so.a,{className:n.sendMessageIcons}))))},Fo=function(t){var e=t.inputMessage,r=t.loading,n=t.recording,o=t.ticketStatus,i=t.handleSendMessage,c=t.handleCancelAudio,u=t.handleUploadAudio,l=t.handleStartRecording,s=Ao();return e?a.a.createElement(b.a,{"aria-label":"sendMessage",component:"span",onClick:i,disabled:r},a.a.createElement(mo.a,{className:s.sendMessageIcons})):n?a.a.createElement("div",{className:s.recorderWrapper},a.a.createElement(b.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:r,onClick:c},a.a.createElement(jo.a,{className:s.cancelAudioIcon})),r?a.a.createElement("div",null,a.a.createElement(he.a,{className:s.audioLoading})):a.a.createElement(So,null),a.a.createElement(b.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:u,disabled:r},a.a.createElement(Oo.a,{className:s.sendAudioIcon}))):a.a.createElement(b.a,{"aria-label":"showRecorder",component:"span",disabled:r||"open"!==o,onClick:l},a.a.createElement(wo.a,{className:s.sendMessageIcons}))},Ro=function(t){var e=t.loading,r=t.inputRef,o=t.ticketStatus,i=t.inputMessage,c=t.setInputMessage,l=t.handleSendMessage,s=t.handleInputPaste,f=t.disableOption,h=Ao(),d=Object(n.useState)([]),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)([]),g=Object(u.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)(!1),x=Object(u.a)(w,2),O=x[0],L=x[1],j=Object(n.useContext)(Ht).user,k=No().list;Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(Co().mark((function t(){var e,r,n;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("companyId"),t.next=3,k({companyId:e,userId:j.id});case 3:r=t.sent,n=r.map((function(t){var e=t.message;return Object(Nt.isString)(e)&&e.length>35&&(e=t.message.substring(0,35)+"..."),{value:t.message,label:"/".concat(t.shortcode," - ").concat(e)}})),v(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){if(Object(Nt.isString)(i)&&!Object(Nt.isEmpty)(i)&&i.length>1){var t=i.charAt(0);L(t.indexOf("/")>-1);var e=m.filter((function(t){return t.label.indexOf(i)>-1}));E(e)}else L(!1)}),[i]);var S=function(t){t&&(t.focus(),r.current=t)};return a.a.createElement("div",{className:h.messageInputWrapper},a.a.createElement(Sn.a,{freeSolo:!0,open:O,id:"grouped-demo",value:i,options:b,closeIcon:null,getOptionLabel:function(t){return Object(Nt.isObject)(t)?t.label:t},onChange:function(t,e){Object(Nt.isObject)(e)&&Object(Nt.has)(e,"value")&&(c(e.value),setTimeout((function(){r.current.scrollTop=r.current.scrollHeight}),200))},onInputChange:function(t,e,r){"input"===r&&c(t.target.value)},onPaste:function(t){"open"===o&&s(t)},onKeyPress:function(t){e||t.shiftKey||"Enter"===t.key&&l()},style:{width:"100%"},renderInput:function(t){t.InputLabelProps,t.InputProps;var e=Object(se.a)(t,To);return a.a.createElement(yn.a,Object.assign({},t.InputProps,e,{disabled:f(),inputRef:S,placeholder:"open"===o?kt.a.t("messagesInput.placeholderOpen"):kt.a.t("messagesInput.placeholderClosed"),multiline:!0,className:h.messageInput,maxRows:5}))}}))},Do=Object(pn.a)()((function(t){var e,r=t.ticketStatus,o=t.ticketId,i=Ao(),c=Object(n.useState)([]),l=Object(u.a)(c,2),s=l[0],f=l[1],h=Object(n.useState)(""),m=Object(u.a)(h,2),v=m[0],y=m[1],g=Object(n.useState)(!1),E=Object(u.a)(g,2),w=E[0],x=E[1],O=Object(n.useState)(!1),L=Object(u.a)(O,2),j=L[0],k=L[1],S=Object(n.useState)(!1),_=Object(u.a)(S,2),N=_[0],T=_[1],C=Object(n.useRef)(),I=Object(n.useContext)(na),P=I.setReplyingMessage,M=I.replyingMessage,G=Object(n.useContext)(Ht).user,F=function(t,e){var r=Object(n.useState)((function(){try{var r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(n){return Tt(n),e}})),a=Object(u.a)(r,2),o=a[0],i=a[1];return[o,function(e){try{var r=e instanceof Function?e(o):e;i(r),localStorage.setItem(t,JSON.stringify(r))}catch(n){Tt(n)}}]}("signOption",!0),R=Object(u.a)(F,2),D=R[0],W=R[1];Object(n.useEffect)((function(){C.current.focus()}),[M]),Object(n.useEffect)((function(){return C.current.focus(),function(){y(""),x(!1),f([]),P(null)}}),[o,P]);var q=function(){var t=Object(A.a)(Co().mark((function t(e){var r;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),e.preventDefault(),(r=new FormData).append("fromMe",!0),s.forEach((function(t){r.append("medias",t),r.append("body",t.name)})),t.prev=5,t.next=8,Mt.post("/messages/".concat(o),r);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),Tt(t.t0);case 13:k(!1),f([]);case 15:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(A.a)(Co().mark((function t(){var e;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==v.trim()){t.next=2;break}return t.abrupt("return");case 2:return k(!0),e={read:1,fromMe:!0,mediaUrl:"",body:D?"*".concat(null===G||void 0===G?void 0:G.name,":*\n").concat(v.trim()):v.trim(),quotedMsg:M},t.prev=4,t.next=7,Mt.post("/messages/".concat(o),e);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),Tt(t.t0);case 12:y(""),x(!1),k(!1),P(null);case 16:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=Object(A.a)(Co().mark((function t(){return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.prev=1,t.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:return t.next=6,Io.start();case 6:T(!0),k(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),Tt(t.t0),k(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(A.a)(Co().mark((function t(){var e,r,n,a,i;return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.prev=1,t.next=4,Io.stop().getMp3();case 4:if(e=t.sent,r=Object(u.a)(e,2),!((n=r[1]).size<1e4)){t.next=11;break}return k(!1),T(!1),t.abrupt("return");case 11:return a=new FormData,i="audio-record-site-".concat((new Date).getTime(),".mp3"),a.append("medias",n,i),a.append("body",i),a.append("fromMe",!0),t.next=18,Mt.post("/messages/".concat(o),a);case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),Tt(t.t0);case 23:T(!1),k(!1);case 25:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(){return t.apply(this,arguments)}}(),U=function(){var t=Object(A.a)(Co().mark((function t(){return Co().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Io.stop().getMp3();case 3:T(!1),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),H=function(){return j||N||"open"!==r};return s.length>0?a.a.createElement(tr.a,{elevation:0,square:!0,className:i.viewMediaInputWrapper},a.a.createElement(b.a,{"aria-label":"cancel-upload",component:"span",onClick:function(t){return f([])}},a.a.createElement(yo.a,{className:i.sendMessageIcons})),j?a.a.createElement("div",null,a.a.createElement(he.a,{className:i.circleLoading})):a.a.createElement("span",null,null===(e=s[0])||void 0===e?void 0:e.name),a.a.createElement(b.a,{"aria-label":"send-upload",component:"span",onClick:q,disabled:j},a.a.createElement(mo.a,{className:i.sendMessageIcons}))):a.a.createElement(tr.a,{square:!0,elevation:0,className:i.mainWrapper},M&&function(t){var e;return a.a.createElement("div",{className:i.replyginMsgWrapper},a.a.createElement("div",{className:i.replyginMsgContainer},a.a.createElement("span",{className:Object(p.a)(i.replyginContactMsgSideColor,Object(d.a)({},i.replyginSelfMsgSideColor,!t.fromMe))}),a.a.createElement("div",{className:i.replyginMsgBody},!t.fromMe&&a.a.createElement("span",{className:i.messageContactName},null===(e=t.contact)||void 0===e?void 0:e.name),t.body)),a.a.createElement(b.a,{"aria-label":"showRecorder",component:"span",disabled:j||"open"!==r,onClick:function(){return P(null)}},a.a.createElement(bo.a,{className:i.sendMessageIcons})))}(M),a.a.createElement("div",{className:i.newMessageBox},a.a.createElement(Po,{disabled:H(),handleAddEmoji:function(t){var e=t.native;y((function(t){return t+e}))},showEmoji:w,setShowEmoji:x}),a.a.createElement(Go,{disableOption:H,handleChangeMedias:function(t){if(t.target.files){var e=Array.from(t.target.files);f(e)}}}),a.a.createElement(Mo,{width:t.width,setSignMessage:W,signMessage:D}),a.a.createElement(Ro,{loading:j,inputRef:C,ticketStatus:r,inputMessage:v,setInputMessage:y,handleSendMessage:Y,handleInputPaste:function(t){t.clipboardData.files[0]&&f([t.clipboardData.files[0]])},disableOption:H}),a.a.createElement(Fo,{inputMessage:v,loading:j,recording:N,ticketStatus:r,handleSendMessage:Y,handleCancelAudio:U,handleUploadAudio:B,handleStartRecording:z})))})),Wo=r(517),qo=r(894),Yo=r(893),zo=r(895);function Bo(){Bo=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Uo=function(){return{findAll:function(){var t=Object(A.a)(Bo().mark((function t(){var e,r;return Bo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.get("/queue");case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}};function Ho(){Ho=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Vo=Object(m.a)((function(t){return{maxWidth:{width:"100%"}}})),Qo=Object(kn.a)({trim:!0}),Ko=function(t){var e=t.modalOpen,r=t.onClose,o=t.ticketid,i=Object(s.g)(),c=Object(n.useState)([]),l=Object(u.a)(c,2),f=l[0],d=l[1],p=Object(n.useState)([]),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(u.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(u.a)(x,2),L=O[0],j=O[1],S=Object(n.useState)(""),_=Object(u.a)(S,2),N=_[0],T=_[1],C=Object(n.useState)(null),I=Object(u.a)(C,2),P=I[0],M=I[1],G=Object(n.useState)(""),F=Object(u.a)(G,2),R=F[0],D=F[1],W=Vo(),q=Uo().findAll,Y=Object(n.useRef)(!0);Object(n.useEffect)((function(){return function(){Y.current=!1}}),[]),Object(n.useEffect)((function(){Y.current&&function(){var t=Object(A.a)(Ho().mark((function t(){var e;return Ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q();case 2:e=t.sent,w(e),y(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){if(e&&!(N.length<3)){var t=setTimeout((function(){j(!0),function(){var t=Object(A.a)(Ho().mark((function t(){var e,r;return Ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/users/",{params:{searchParam:N}});case 3:e=t.sent,r=e.data,d(r.users),j(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),j(!1),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()()}),500);return function(){return clearTimeout(t)}}j(!1)}),[N,e]);var z=function(){r(),T(""),M(null)},B=function(){var t=Object(A.a)(Ho().mark((function t(e){var r;return Ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),o){t.next=3;break}return t.abrupt("return");case 3:if(R&&""!==R){t.next=5;break}return t.abrupt("return");case 5:return j(!0),t.prev=6,r={},P&&(r.userId=P.id),R&&null!==R&&(r.queueId=R,P||(r.status="pending",r.userId=null)),t.next=12,Mt.put("/tickets/".concat(o),r);case 12:i.push("/tickets"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(6),j(!1),Tt(t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(Me.a,{open:e,onClose:z,maxWidth:"lg",scroll:"paper"},a.a.createElement("form",{onSubmit:B},a.a.createElement(Re.a,{id:"form-dialog-title"},kt.a.t("transferTicketModal.title")),a.a.createElement(Fe.a,{dividers:!0},a.a.createElement(Sn.a,{style:{width:300,marginBottom:20},getOptionLabel:function(t){return"".concat(t.name)},onChange:function(t,e){M(e),null!=e&&Array.isArray(e.queues)?y(e.queues):(y(E),D(""))},options:f,filterOptions:Qo,freeSolo:!0,autoHighlight:!0,noOptionsText:kt.a.t("transferTicketModal.noOptions"),loading:L,renderInput:function(t){return a.a.createElement(Pe.a,Object.assign({},t,{label:kt.a.t("transferTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:function(t){return T(t.target.value)},InputProps:Object(h.a)(Object(h.a)({},t.InputProps),{},{endAdornment:a.a.createElement(a.a.Fragment,null,L?a.a.createElement(he.a,{color:"inherit",size:20}):null,t.InputProps.endAdornment)})}))}}),a.a.createElement(qe.a,{variant:"outlined",className:W.maxWidth},a.a.createElement(We.a,null,kt.a.t("transferTicketModal.fieldQueueLabel")),a.a.createElement(De.a,{value:R,onChange:function(t){return D(t.target.value)},label:kt.a.t("transferTicketModal.fieldQueuePlaceholder")},v.map((function(t){return a.a.createElement(k.a,{key:t.id,value:t.id},t.name)}))))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:z,color:"secondary",disabled:L,variant:"outlined"},kt.a.t("transferTicketModal.buttons.cancel")),a.a.createElement(me,{variant:"contained",type:"submit",color:"primary",loading:L},kt.a.t("transferTicketModal.buttons.ok")))))};function Jo(){Jo=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Xo=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:t.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:t.spacing(1),minWidth:120}}})),Zo=Ie.b().shape({body:Ie.c().min(5,"Mensagem muito curta").required("Obrigat\xf3rio"),contactId:Ie.a().required("Obrigat\xf3rio"),sendAt:Ie.c().required("Obrigat\xf3rio")}),$o=function(t){var e=t.open,r=t.onClose,o=t.scheduleId,i=t.contactId,c=t.cleanContact,l=t.reload,d=Xo(),p=Object(s.g)(),m=Object(n.useContext)(Ht).user,v={body:"",contactId:"",sendAt:rr()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),sentAt:""},y={id:"",name:""},g=Object(n.useState)(v),b=Object(u.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(y),O=Object(u.a)(x,2),L=O[0],j=O[1],k=Object(n.useState)([y]),S=Object(u.a)(k,2),_=S[0],N=S[1];Object(n.useEffect)((function(){if(i&&_.length){var t=_.find((function(t){return t.id===i}));t&&j(t)}}),[i,_]),Object(n.useEffect)((function(){var t=m.companyId;if(e)try{Object(A.a)(Jo().mark((function e(){var r,n,a,c,u;return Jo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.get("/contacts/list",{params:{companyId:t}});case 2:if(r=e.sent,n=r.data,a=n.map((function(t){return{id:t.id,name:t.name}})),Object(Nt.isArray)(a)&&N([{id:"",name:""}].concat(Object(M.a)(a))),i&&w((function(t){return Object(h.a)(Object(h.a)({},t),{},{contactId:i})})),o){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,Mt.get("/schedules/".concat(o));case 11:c=e.sent,u=c.data,w((function(t){return Object(h.a)(Object(h.a)(Object(h.a)({},t),u),{},{sendAt:rr()(u.sendAt).format("YYYY-MM-DDTHH:mm")})})),j(u.contact);case 15:case"end":return e.stop()}}),e)})))()}catch(r){Tt(r)}}),[o,i,e,m]);var T=function(){r(),w(v)},C=function(){var t=Object(A.a)(Jo().mark((function t(e){var r;return Jo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(h.a)(Object(h.a)({},e),{},{userId:m.id}),t.prev=1,!o){t.next=7;break}return t.next=5,Mt.put("/schedules/".concat(o),r);case 5:t.next=9;break;case 7:return t.next=9,Mt.post("/schedules",r);case 9:f.b.success(kt.a.t("scheduleModal.success")),"function"==typeof l&&l(),i&&"function"===typeof c&&(c(),p.push("/schedules")),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),Tt(t.t0);case 17:j(y),w(v),T();case 20:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:d.root},a.a.createElement(Me.a,{open:e,onClose:T,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(Re.a,{id:"form-dialog-title"},"ERRO"===E.status?"Erro de Envio":"Mensagem ".concat(Object(Nt.capitalize)(E.status))),a.a.createElement(Ae.e,{initialValues:E,enableReinitialize:!0,validationSchema:Zo,onSubmit:function(t,e){setTimeout((function(){C(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.isSubmitting;t.values;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement("div",{className:d.multFieldLine},a.a.createElement(qe.a,{variant:"outlined",fullWidth:!0},a.a.createElement(Sn.a,{fullWidth:!0,value:L,options:_,onChange:function(t,e){var r=e?e.id:"";w(Object(h.a)(Object(h.a)({},E),{},{contactId:r})),j(e||y)},getOptionLabel:function(t){return t.name},getOptionSelected:function(t,e){return e.id===t.id},renderInput:function(t){return a.a.createElement(Pe.a,Object.assign({},t,{variant:"outlined",placeholder:"Contato"}))}}))),a.a.createElement("br",null),a.a.createElement("div",{className:d.multFieldLine},a.a.createElement(Ae.b,{as:Pe.a,rows:9,multiline:!0,label:kt.a.t("scheduleModal.form.body"),name:"body",error:e.body&&Boolean(r.body),helperText:e.body&&r.body,variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement("br",null),a.a.createElement("div",{className:d.multFieldLine},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("scheduleModal.form.sendAt"),type:"datetime-local",name:"sendAt",InputLabelProps:{shrink:!0},error:e.sendAt&&Boolean(r.sendAt),helperText:e.sendAt&&r.sendAt,variant:"outlined",fullWidth:!0}))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:T,color:"secondary",disabled:n,variant:"outlined"},kt.a.t("scheduleModal.buttons.cancel")),(null===E.sentAt||""===E.sentAt)&&a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:d.btnWrapper},"".concat(o?kt.a.t("scheduleModal.buttons.okEdit"):kt.a.t("scheduleModal.buttons.okAdd")),n&&a.a.createElement(he.a,{size:24,className:d.buttonProgress}))))}))))};function ti(){ti=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ei=function(t){var e=t.ticket,r=t.menuOpen,o=t.handleClose,i=t.anchorEl,c=Object(n.useState)(!1),l=Object(u.a)(c,2),s=l[0],f=l[1],h=Object(n.useState)(!1),d=Object(u.a)(h,2),p=d[0],m=d[1],v=Object(n.useRef)(!0),y=Object(n.useContext)(Ht).user,g=Object(n.useState)(!1),b=Object(u.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(null),O=Object(u.a)(x,2),L=O[0],S=O[1];Object(n.useEffect)((function(){return function(){v.current=!1}}),[]);var _=function(){var t=Object(A.a)(ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/tickets/".concat(e.id));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Tt(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),N=function(t){f(!0),o()};return a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{id:"menu-appbar",anchorEl:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},a.a.createElement(k.a,{onClick:function(){o(),S(e.contact.id),w(!0)}},kt.a.t("ticketOptionsMenu.schedule")),a.a.createElement(k.a,{onClick:function(t){m(!0),o()}},kt.a.t("ticketOptionsMenu.transfer")),a.a.createElement(Kt,{role:y.profile,perform:"ticket-options:deleteTicket",yes:function(){return a.a.createElement(k.a,{onClick:N},kt.a.t("ticketOptionsMenu.delete"))}})),a.a.createElement(ra,{title:"".concat(kt.a.t("ticketOptionsMenu.confirmationModal.title")).concat(e.id," ").concat(kt.a.t("ticketOptionsMenu.confirmationModal.titleFrom")," ").concat(e.contact.name,"?"),open:s,onClose:f,onConfirm:_},kt.a.t("ticketOptionsMenu.confirmationModal.message")),a.a.createElement(Ko,{modalOpen:p,onClose:function(){v.current&&m(!1)},ticketid:e.id}),a.a.createElement($o,{open:E,onClose:function(){w(!1),S(null)},"aria-labelledby":"form-dialog-title",contactId:L}))},ri=r(497),ni=r.n(ri);function ai(){ai=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var oi=Object(m.a)((function(t){return{actionButtons:{marginRight:6,flex:"none",alignSelf:"center",marginLeft:"auto","& > *":{margin:t.spacing(.5)}}}})),ii=function(t){var e=t.ticket,r=oi(),o=Object(s.g)(),i=Object(n.useState)(null),c=Object(u.a)(i,2),l=c[0],f=c[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Boolean(l),g=Object(n.useContext)(Ht).user,E=Object(n.useContext)(Dn).setCurrentTicket,w=Object(Wo.a)({palette:{primary:ce.a}}),x=function(){var t=Object(A.a)(ai().mark((function t(r,n,a){return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.prev=1,t.next=4,Mt.put("/tickets/".concat(e.id),{status:n,userId:a||null});case 4:v(!1),"open"===n?E(Object(h.a)(Object(h.a)({},e),{},{code:"#open"})):(E({id:null,code:null}),o.push("/tickets")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),v(!1),Tt(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r,n){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:r.actionButtons},"closed"===e.status&&a.a.createElement(me,{loading:m,startIcon:a.a.createElement(Yo.a,null),size:"small",onClick:function(t){return x(t,"open",null===g||void 0===g?void 0:g.id)}},kt.a.t("messagesList.header.buttons.reopen")),"open"===e.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement(xe.a,{title:kt.a.t("messagesList.header.buttons.return")},a.a.createElement(b.a,{onClick:function(t){return x(t,"pending",null)}},a.a.createElement(ni.a,null))),a.a.createElement(qo.a,{theme:w},a.a.createElement(xe.a,{title:kt.a.t("messagesList.header.buttons.resolve")},a.a.createElement(b.a,{onClick:function(t){return x(t,"closed",null===g||void 0===g?void 0:g.id)},color:"primary"},a.a.createElement(en.a,null)))),a.a.createElement(b.a,{onClick:function(t){f(t.currentTarget)}},a.a.createElement(zo.a,null)),a.a.createElement(ei,{ticket:e,anchorEl:l,menuOpen:y,handleClose:function(t){f(null)}})),"pending"===e.status&&a.a.createElement(me,{loading:m,size:"small",variant:"contained",color:"primary",onClick:function(t){return x(t,"open",null===g||void 0===g?void 0:g.id)}},kt.a.t("messagesList.header.buttons.accept")))};function ci(){ci=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function ui(t){var e=t.ticket,r=Object(n.useState)([]),o=Object(u.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)([]),s=Object(u.a)(l,2),f=s[0],h=s[1],d=Object(n.useRef)(!0);Object(n.useEffect)((function(){return function(){d.current=!1}}),[]),Object(n.useEffect)((function(){d.current&&m().then((function(){Array.isArray(e.tags)?h(e.tags):h([])}))}),[e]);var p=function(){var t=Object(A.a)(ci().mark((function t(e){var r,n;return ci().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.post("/tags",e);case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),Tt(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(A.a)(ci().mark((function t(){var e,r;return ci().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/tags/list");case 3:e=t.sent,r=e.data,c(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Tt(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(A.a)(ci().mark((function t(e){var r,n;return ci().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.post("/tags/sync",e);case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),Tt(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(A.a)(ci().mark((function t(r,n){var a,o,i,c,u;return ci().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],"create-option"!==n){t.next=30;break}if(!Object(Nt.isArray)(r)){t.next=26;break}o=Object(P.a)(r),t.prev=4,o.s();case 6:if((i=o.n()).done){t.next=18;break}if(c=i.value,!Object(Nt.isString)(c)){t.next=15;break}return t.next=11,p({name:c});case 11:u=t.sent,a.push(u),t.next=16;break;case 15:a.push(c);case 16:t.next=6;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(4),o.e(t.t0);case 23:return t.prev=23,o.f(),t.finish(23);case 26:return t.next=28,m();case 28:t.next=31;break;case 30:a=r;case 31:return h(a),t.next=34,v({ticketId:e.id,tags:a});case 34:case"end":return t.stop()}}),t,null,[[4,20,23,26]])})));return function(e,r){return t.apply(this,arguments)}}();return a.a.createElement(tr.a,{style:{padding:12}},a.a.createElement(Sn.a,{multiple:!0,size:"small",options:i,value:f,freeSolo:!0,onChange:function(t,e,r){return y(e,r)},getOptionLabel:function(t){return t.name},renderTags:function(t,e){return t.map((function(t,r){return a.a.createElement(Ye.a,Object.assign({variant:"outlined",style:{backgroundColor:t.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:t.name},e({index:r}),{size:"small"}))}))},renderInput:function(t){return a.a.createElement(Pe.a,Object.assign({},t,{variant:"outlined",placeholder:"Tags"}))},PaperComponent:function(t){var e=t.children;return a.a.createElement(tr.a,{style:{width:400,marginLeft:12}},e)}}))}function li(){li=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var si=Object(m.a)((function(t){return{root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:0}}})),fi=function(){var t=Object(s.h)().ticketId,e=Object(s.g)(),r=si(),o=Object(n.useContext)(Ht).user,i=Object(n.useState)(!1),c=Object(u.a)(i,2),l=c[0],m=c[1],v=Object(n.useState)(!0),y=Object(u.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)({}),w=Object(u.a)(E,2),x=w[0],O=w[1],L=Object(n.useState)({}),j=Object(u.a)(L,2),k=j[0],S=j[1];Object(n.useEffect)((function(){b(!0);var r=setTimeout((function(){(function(){var r=Object(A.a)(li().mark((function r(){var n,a,i,c,u;return li().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Mt.get("/tickets/u/"+t);case 3:if(n=r.sent,a=n.data,i=a.queueId,c=o.queues,u=o.profile,void 0!==c.find((function(t){return t.id===i}))||"admin"===u){r.next=12;break}return f.b.error("Acesso n\xe3o permitido"),e.push("/tickets"),r.abrupt("return");case 12:O(a.contact),S(a),b(!1),r.next=21;break;case 17:r.prev=17,r.t0=r.catch(0),b(!1),Tt(r.t0);case 21:case"end":return r.stop()}}),r,null,[[0,17]])})));return function(){return r.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(r)}}),[t,o,e]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),r=Rt({companyId:t});return r.on("connect",(function(){return r.emit("joinChatBox","".concat(k.id))})),r.on("company-".concat(t,"-ticket"),(function(t){"update"===t.action&&S(t.ticket),"delete"===t.action&&(f.b.success("Ticket deleted sucessfully."),e.push("/tickets"))})),r.on("company-".concat(t,"-contact"),(function(t){"update"===t.action&&O((function(e){var r;return e.id===(null===(r=t.contact)||void 0===r?void 0:r.id)?Object(h.a)(Object(h.a)({},e),t.contact):e}))})),function(){r.disconnect()}}),[t,k,e]);var _=function(){m(!0)};return a.a.createElement("div",{className:r.root,id:"drawer-container"},a.a.createElement(tr.a,{variant:"outlined",elevation:0,className:Object(p.a)(r.mainWrapper,Object(d.a)({},r.mainWrapperShift,l))},a.a.createElement(va,{loading:g},function(){if(void 0!==k.user)return a.a.createElement(ya,{contact:x,ticket:k,onClick:_})}(),a.a.createElement(ii,{ticket:k})),a.a.createElement(tr.a,null,a.a.createElement(ui,{ticket:k})),a.a.createElement(aa,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(ha,{ticket:k,ticketId:k.id,isGroup:k.isGroup}),a.a.createElement(Do,{ticketId:k.id,ticketStatus:k.status})))),a.a.createElement(oo,{open:l,handleDrawerClose:function(){m(!1)},contact:x,loading:g,ticket:k}))},hi=Object(m.a)((function(t){return{chatContainer:{flex:1,padding:t.spacing(4),height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},messagesWrapper:{display:"flex",height:"100%",flexDirection:"column"},welcomeMsg:{backgroundColor:"#eee",display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center"}}})),di=function(){var t=hi(),e=Object(s.h)().ticketId;return a.a.createElement("div",{className:t.chatContainer},a.a.createElement("div",{className:t.chatPapper},a.a.createElement(Er.a,{container:!0,spacing:0},a.a.createElement(Er.a,{item:!0,xs:4,className:t.contactsWrapper},a.a.createElement(Fa,null)),a.a.createElement(Er.a,{item:!0,xs:8,className:t.messagesWrapper},e?a.a.createElement(a.a.Fragment,null,a.a.createElement(fi,null)):a.a.createElement(tr.a,{square:!0,variant:"outlined",className:t.welcomeMsg},a.a.createElement("span",null,kt.a.t("chat.noTicketMessage")))))))},pi=r(896),mi=r(897),vi=r(498),yi=r.n(vi),gi=r(521),bi=Object(gi.a)(tr.a)({height:"calc(100% - 48px)",display:"grid",gridTemplateRows:"56px 1fr"}),Ei=Object(m.a)((function(t){return{header:{},content:{overflow:"auto"},placeholderContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:"#eee"},placeholderItem:{}}})),wi=function(t){var e=Ei(),r=Object(s.h)().ticketId,o=Object(n.useState)(0),i=Object(u.a)(o,2),c=i[0],l=i[1],f=Object(n.useContext)(Dn),h=f.currentTicket,d=f.setCurrentTicket;Object(n.useEffect)((function(){return null!==h.id&&d({id:h.id,code:"#open"}),r||l(1),function(){d({id:null,code:null})}}),[]),Object(n.useEffect)((function(){null!==h.id&&l(0)}),[h]);return a.a.createElement(bi,null,a.a.createElement(Rn.a,{className:e.header},a.a.createElement(pi.a,{value:c,onChange:function(t,e){l(e)},showLabels:!0,className:e.root},a.a.createElement(mi.a,{label:"Ticket",icon:a.a.createElement(ae.a,null)}),a.a.createElement(mi.a,{label:"Atendimentos",icon:a.a.createElement(yi.a,null)}))),a.a.createElement(Rn.a,{className:e.content},0===c?r?a.a.createElement(fi,null):a.a.createElement(Rn.a,{className:e.placeholderContainer},a.a.createElement("div",{className:e.placeholderItem},kt.a.t("chat.noTicketMessage")),a.a.createElement("br",null),a.a.createElement(fe.a,{onClick:function(){return l(1)},variant:"contained",color:"primary"},"Selecionar Ticket")):a.a.createElement(Fa,null)))};var xi=Object(pn.a)()((function(t){return Object(pn.b)("md",t.width)?a.a.createElement(di,null):a.a.createElement(wi,null)})),Oi=r(499),Li=r.n(Oi),ji=r(500),ki=r.n(ji);function Si(){Si=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var _i=Object(m.a)((function(t){return{paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(3)},submit:{margin:t.spacing(3,0,2)}}})),Ni=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Ie.c().min(5,"Too Short!").max(50,"Too Long!"),email:Ie.c().email("Invalid email").required("Required")}),Ti=function(){var t=_i(),e=Object(s.g)(),r=null,o=Li.a.parse(window.location.search);void 0!==o.companyId&&(r=o.companyId);var i={name:"",email:"",password:"",token:"",companyId:r},h=Object(n.useState)(i),d=Object(u.a)(h,1)[0],p=function(){var t=Object(A.a)(Si().mark((function t(r){return Si().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==d.companyId){t.next=3;break}throw new Error("Empresa n\xe3o identificada!");case 3:return t.next=5,Pt.post("/auth/signup",r);case 5:f.b.success(kt.a.t("signup.toasts.success")),e.push("/login"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Tt(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(br.a,{component:"main",maxWidth:"xs"},a.a.createElement(c.a,null),a.a.createElement("div",{className:t.paper},a.a.createElement(le.a,{className:t.avatar},a.a.createElement(ki.a,null)),a.a.createElement(L.a,{component:"h1",variant:"h5"},kt.a.t("signup.title")),a.a.createElement(Ae.e,{initialValues:d,enableReinitialize:!0,validationSchema:Ni,onSubmit:function(t,e){setTimeout((function(){p(t),e.setSubmitting(!1)}),400)}},(function(e){var r=e.touched,n=e.errors;e.isSubmitting;return a.a.createElement(Ae.d,{className:t.form},a.a.createElement(Er.a,{container:!0,spacing:2},a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement(Ae.b,{as:Pe.a,autoComplete:"name",name:"name",error:r.name&&Boolean(n.name),helperText:r.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:kt.a.t("signup.form.name"),autoFocus:!0})),a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement(Ae.b,{as:Pe.a,variant:"outlined",fullWidth:!0,id:"email",label:kt.a.t("signup.form.email"),name:"email",error:r.email&&Boolean(n.email),helperText:r.email&&n.email,autoComplete:"email"})),a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement(Ae.b,{as:Pe.a,variant:"outlined",fullWidth:!0,name:"password",error:r.password&&Boolean(n.password),helperText:r.password&&n.password,label:kt.a.t("signup.form.password"),type:"password",id:"password",autoComplete:"current-password"})),a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement(Ae.b,{as:Pe.a,variant:"outlined",fullWidth:!0,id:"token",label:kt.a.t("auth.token"),name:"token",autoComplete:"token"}))),a.a.createElement(fe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},kt.a.t("signup.buttons.submit")),a.a.createElement(Er.a,{container:!0,justify:"flex-end"},a.a.createElement(Er.a,{item:!0},a.a.createElement(Wa.a,{href:"#",variant:"body2",component:l.b,to:"/login"},kt.a.t("signup.buttons.login")))))}))),a.a.createElement(Rn.a,{mt:5}))},Ci=Object(m.a)((function(t){return{paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(1)},submit:{margin:t.spacing(3,0,2)}}})),Ii=function(){var t=Ci(),e=Object(n.useState)({email:"",password:""}),r=Object(u.a)(e,2),o=r[0],i=r[1],l=Object(n.useContext)(Ht).handleLogin,s=function(t){i(Object(h.a)(Object(h.a)({},o),{},Object(d.a)({},t.target.name,t.target.value)))};return a.a.createElement(br.a,{component:"main",maxWidth:"xs"},a.a.createElement(c.a,null),a.a.createElement("div",{className:t.paper},a.a.createElement("div",null,a.a.createElement("img",{style:{margin:"0 auto",height:"80px",width:"100%"},src:"https://mirandamoveis.com/wp-content/uploads/2019/01/logo-whatsapp-fundo-transparente-icone.png",alt:"UnkChat"})),a.a.createElement(L.a,{component:"h1",variant:"h5"},kt.a.t("login.title")),a.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault(),l(o)}},a.a.createElement(Pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:kt.a.t("login.form.email"),name:"email",value:o.email,onChange:s,autoComplete:"email",autoFocus:!0}),a.a.createElement(Pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:kt.a.t("login.form.password"),type:"password",id:"password",value:o.password,onChange:s,autoComplete:"current-password"}),a.a.createElement(fe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},kt.a.t("login.buttons.submit")))),a.a.createElement(Rn.a,{mt:8}))},Ai=r(899),Pi=r(900),Mi=r(901),Gi=r(902),Fi=r(903),Ri=r(904),Di=r(905),Wi=Object(m.a)((function(t){return{mainContainer:{flex:1,padding:t.spacing(2),height:"calc(100% - 48px)"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}})),qi=function(t){var e=t.children,r=Wi();return a.a.createElement(br.a,{className:r.mainContainer},a.a.createElement("div",{className:r.contentWrapper},e))},Yi=Object(m.a)((function(t){return{contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}})),zi=function(t){var e=t.children,r=Yi();return a.a.createElement("div",{className:r.contactsHeader},e)},Bi=Object(m.a)((function(t){return{MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:t.spacing(1)}}}})),Ui=function(t){var e=t.children,r=Bi();return a.a.createElement("div",{className:r.MainHeaderButtonsWrapper},e)};function Hi(t){return a.a.createElement(L.a,{variant:"h5",color:"primary",gutterBottom:!0},t.children)}var Vi=Object(m.a)((function(t){return{customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Qi=function(t){var e=t.avatar,r=t.columns,n=Vi();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Zr.a,null,e&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Kr.a,{style:{paddingRight:0}},a.a.createElement(Br.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(Kr.a,null,a.a.createElement(Br.a,{animation:"wave",height:30,width:80}))),Array.from({length:r},(function(t,e){return a.a.createElement(Kr.a,{align:"center",key:e},a.a.createElement("div",{className:n.customTableCell},a.a.createElement(Br.a,{align:"center",animation:"wave",height:30,width:80})))}))))};function Ki(){Ki=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Ji=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:t.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Xi=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),Zi=a.a.memo((function(t){var e=t.open,r=t.onClose,o=t.whatsAppId,i=Ji(),c={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",provider:"beta"},l=Object(n.useState)(c),s=Object(u.a)(l,2),d=s[0],p=s[1],m=Object(n.useState)([]),v=Object(u.a)(m,2),y=v[0],g=v[1];Object(n.useEffect)((function(){(function(){var t=Object(A.a)(Ki().mark((function t(){var e,r,n,a;return Ki().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Mt.get("whatsapp/".concat(o,"?session=0"));case 5:r=t.sent,n=r.data,p(n),a=null===(e=n.queues)||void 0===e?void 0:e.map((function(t){return t.id})),g(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),Tt(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}})()()}),[o]);var b=function(){var t=Object(A.a)(Ki().mark((function t(e){var r;return Ki().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(delete(r=Object(h.a)(Object(h.a)({},e),{},{queueIds:y})).queues,delete r.session,t.prev=3,!o){t.next=9;break}return t.next=7,Mt.put("/whatsapp/".concat(o),r);case 7:t.next=11;break;case 9:return t.next=11,Mt.post("/whatsapp",r);case 11:f.b.success(kt.a.t("whatsappModal.success")),E(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),Tt(t.t0);case 18:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){r(),p(c)};return a.a.createElement("div",{className:i.root},a.a.createElement(Me.a,{open:e,onClose:E,maxWidth:"sm",fullWidth:!0,scroll:"paper"},a.a.createElement(Re.a,null,o?kt.a.t("whatsappModal.title.edit"):kt.a.t("whatsappModal.title.add")),a.a.createElement(Ae.e,{initialValues:d,enableReinitialize:!0,validationSchema:Xi,onSubmit:function(t,e){setTimeout((function(){b(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.values,r=t.touched,n=t.errors,c=t.isSubmitting;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:r.name&&Boolean(n.name),helperText:r.name&&n.name,variant:"outlined",margin:"dense",className:i.textField})),a.a.createElement(Er.a,{style:{paddingTop:15},item:!0},a.a.createElement(Ln.a,{control:a.a.createElement(Ae.b,{as:jn.a,color:"primary",name:"isDefault",checked:e.isDefault}),label:kt.a.t("whatsappModal.form.default")})))),a.a.createElement("div",null,a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:r.greetingMessage&&Boolean(n.greetingMessage),helperText:r.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("queueModal.form.complationMessage"),type:"complationMessage",multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:r.complationMessage&&Boolean(n.complationMessage),helperText:r.complationMessage&&n.complationMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:r.outOfHoursMessage&&Boolean(n.outOfHoursMessage),helperText:r.outOfHoursMessage&&n.outOfHoursMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("queueModal.form.ratingMessage"),type:"ratingMessage",multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:r.ratingMessage&&Boolean(n.ratingMessage),helperText:r.ratingMessage&&n.ratingMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("queueModal.form.token"),type:"token",fullWidth:!0,name:"token",variant:"outlined",margin:"dense"})),a.a.createElement(Ue,{selectedQueueIds:y,onChange:function(t){return g(t)}})),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:E,color:"secondary",disabled:c,variant:"outlined"},kt.a.t("whatsappModal.buttons.cancel")),a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:c,variant:"contained",className:i.btnWrapper},o?kt.a.t("whatsappModal.buttons.okEdit"):kt.a.t("whatsappModal.buttons.okAdd"),c&&a.a.createElement(he.a,{size:24,className:i.buttonProgress}))))}))))})),$i=r(501),tc=r.n($i);function ec(){ec=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var rc=a.a.memo((function(t){var e=t.open,r=t.onClose,o=t.whatsAppId,i=Object(n.useState)(""),c=Object(u.a)(i,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){(function(){var t=Object(A.a)(ec().mark((function t(){var e,r;return ec().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Mt.get("/whatsapp/".concat(o));case 5:e=t.sent,r=e.data,s(r.qrcode),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}})()()}),[o]),Object(n.useEffect)((function(){if(o){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-whatsappSession"),(function(t){"update"===t.action&&t.session.id===o&&s(t.session.qrcode),"update"===t.action&&""===t.session.qrcode&&r()})),function(){e.disconnect()}}}),[o,r]),a.a.createElement(Me.a,{open:e,onClose:r,maxWidth:"lg",scroll:"paper"},a.a.createElement(Fe.a,null,a.a.createElement(tr.a,{elevation:0},a.a.createElement(L.a,{color:"primary",gutterBottom:!0},kt.a.t("qrCode.message")),l?a.a.createElement(tc.a,{value:l,size:256}):a.a.createElement("span",null,"Waiting for QR Code"))))}));function nc(){nc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ac=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:t.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:ce.a[500]}}})),oc=function(t){var e=t.title,r=t.content,n=t.children,o=ac();return a.a.createElement(xe.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{gutterBottom:!0,color:"inherit"},e),r&&a.a.createElement(L.a,null,r))},n)},ic=function(){var t=ac(),e=Object(n.useContext)(Ht).user,r=Object(n.useContext)(Yt),o=r.whatsApps,i=r.loading,c=Object(n.useState)(!1),l=Object(u.a)(c,2),s=l[0],h=l[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(null),g=Object(u.a)(y,2),E=g[0],w=g[1],x=Object(n.useState)(!1),O=Object(u.a)(x,2),L=O[0],j=O[1],k={action:"",title:"",message:"",whatsAppId:"",open:!1},S=Object(n.useState)(k),_=Object(u.a)(S,2),N=_[0],T=_[1],C=function(){var t=Object(A.a)(nc().mark((function t(e){return nc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.post("/whatsappsession/".concat(e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Tt(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(A.a)(nc().mark((function t(e){return nc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.put("/whatsappsession/".concat(e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Tt(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){w(null),h(!0)},M=Object(n.useCallback)((function(){h(!1),w(null)}),[w,h]),G=Object(n.useCallback)((function(){w(null),v(!1)}),[v,w]),F=function(t,e){"disconnect"===t&&T({action:t,title:kt.a.t("connections.confirmationModal.disconnectTitle"),message:kt.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:e}),"delete"===t&&T({action:t,title:kt.a.t("connections.confirmationModal.deleteTitle"),message:kt.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:e}),j(!0)},R=function(){var t=Object(A.a)(nc().mark((function t(){return nc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("disconnect"!==N.action){t.next=9;break}return t.prev=1,t.next=4,Mt.delete("/whatsappsession/".concat(N.whatsAppId));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),Tt(t.t0);case 9:if("delete"!==N.action){t.next=19;break}return t.prev=10,t.next=13,Mt.delete("/whatsapp/".concat(N.whatsAppId));case 13:f.b.success(kt.a.t("connections.toasts.deleted")),t.next=19;break;case 16:t.prev=16,t.t1=t.catch(10),Tt(t.t1);case 19:T(k);case 20:case"end":return t.stop()}}),t,null,[[1,6],[10,16]])})));return function(){return t.apply(this,arguments)}}(),D=function(t){return a.a.createElement(a.a.Fragment,null,"qrcode"===t.status&&a.a.createElement(fe.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return function(t){w(t),v(!0)}(t)}},kt.a.t("connections.buttons.qrcode")),"DISCONNECTED"===t.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement(fe.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return C(t.id)}},kt.a.t("connections.buttons.tryAgain"))," ",a.a.createElement(fe.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return I(t.id)}},kt.a.t("connections.buttons.newQr"))),("CONNECTED"===t.status||"PAIRING"===t.status||"TIMEOUT"===t.status)&&a.a.createElement(fe.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){F("disconnect",t.id)}},kt.a.t("connections.buttons.disconnect")),"OPENING"===t.status&&a.a.createElement(fe.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},kt.a.t("connections.buttons.connecting")))};return a.a.createElement(qi,null,a.a.createElement(ra,{title:N.title,open:L,onClose:j,onConfirm:R},N.message),a.a.createElement(rc,{open:m,onClose:G,whatsAppId:!s&&(null===E||void 0===E?void 0:E.id)}),a.a.createElement(Zi,{open:s,onClose:M,whatsAppId:!m&&(null===E||void 0===E?void 0:E.id)}),a.a.createElement(zi,null,a.a.createElement(Hi,null,kt.a.t("connections.title")),a.a.createElement(Ui,null,a.a.createElement(Kt,{role:e.profile,perform:"connections-page:addConnection",yes:function(){return a.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:P},kt.a.t("connections.buttons.add"))}}))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined"},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center"},kt.a.t("connections.table.name")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("connections.table.status")),a.a.createElement(Kt,{role:e.profile,perform:"connections-page:actionButtons",yes:function(){return a.a.createElement(Kr.a,{align:"center"},kt.a.t("connections.table.session"))}}),a.a.createElement(Kr.a,{align:"center"},kt.a.t("connections.table.lastUpdate")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("connections.table.default")),a.a.createElement(Kt,{role:e.profile,perform:"connections-page:editOrDeleteConnection",yes:function(){return a.a.createElement(Kr.a,{align:"center"},kt.a.t("connections.table.actions"))}}))),a.a.createElement(Qr.a,null,i?a.a.createElement(Qi,null):a.a.createElement(a.a.Fragment,null,(null===o||void 0===o?void 0:o.length)>0&&o.map((function(r){return a.a.createElement(Zr.a,{key:r.id},a.a.createElement(Kr.a,{align:"center"},r.name),a.a.createElement(Kr.a,{align:"center"},function(e){return a.a.createElement("div",{className:t.customTableCell},"DISCONNECTED"===e.status&&a.a.createElement(oc,{title:kt.a.t("connections.toolTips.disconnected.title"),content:kt.a.t("connections.toolTips.disconnected.content")},a.a.createElement(Ai.a,{color:"secondary"})),"OPENING"===e.status&&a.a.createElement(he.a,{size:24,className:t.buttonProgress}),"qrcode"===e.status&&a.a.createElement(oc,{title:kt.a.t("connections.toolTips.qrcode.title"),content:kt.a.t("connections.toolTips.qrcode.content")},a.a.createElement(Pi.a,null)),"CONNECTED"===e.status&&a.a.createElement(oc,{title:kt.a.t("connections.toolTips.connected.title")},a.a.createElement(Mi.a,{style:{color:ce.a[500]}})),("TIMEOUT"===e.status||"PAIRING"===e.status)&&a.a.createElement(oc,{title:kt.a.t("connections.toolTips.timeout.title"),content:kt.a.t("connections.toolTips.timeout.content")},a.a.createElement(Gi.a,{color:"secondary"})))}(r)),a.a.createElement(Kt,{role:e.profile,perform:"connections-page:actionButtons",yes:function(){return a.a.createElement(Kr.a,{align:"center"},D(r))}}),a.a.createElement(Kr.a,{align:"center"},Object(te.a)(Object(ie.a)(r.updatedAt),"dd/MM/yy HH:mm")),a.a.createElement(Kr.a,{align:"center"},r.isDefault&&a.a.createElement("div",{className:t.customTableCell},a.a.createElement(Fi.a,{style:{color:ce.a[500]}}))),a.a.createElement(Kt,{role:e.profile,perform:"connections-page:editOrDeleteConnection",yes:function(){return a.a.createElement(Kr.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){w(t),h(!0)}(r)}},a.a.createElement(Ri.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(t){F("delete",r.id)}},a.a.createElement(Di.a,null)))}}))})))))))},cc=r(365),uc=Object(m.a)((function(t){return{root:{width:"100%"},fullWidth:{width:"100%"},textfield:{width:"100%"},row:{paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},control:{paddingRight:t.spacing(1),paddingLeft:t.spacing(1)},buttonContainer:{textAlign:"right",padding:t.spacing(1)}}}));var lc=function(t){var e=t.initialValues,r=t.onSubmit,o=t.loading,i=t.labelSaveButton,c=uc(),l=Object(n.useState)([{weekday:"Segunda-feira",weekdayEn:"monday",startTime:"",endTime:""},{weekday:"Ter\xe7a-feira",weekdayEn:"tuesday",startTime:"",endTime:""},{weekday:"Quarta-feira",weekdayEn:"wednesday",startTime:"",endTime:""},{weekday:"Quinta-feira",weekdayEn:"thursday",startTime:"",endTime:""},{weekday:"Sexta-feira",weekdayEn:"friday",startTime:"",endTime:""},{weekday:"S\xe1bado",weekdayEn:"saturday",startTime:"",endTime:""},{weekday:"Domingo",weekdayEn:"sunday",startTime:"",endTime:""}]),s=Object(u.a)(l,2),f=s[0],h=s[1];Object(n.useEffect)((function(){Object(Nt.isArray)(e)&&e.length>0&&h(e)}),[e]);var d=function(t){r(t)};return a.a.createElement(Ae.e,{enableReinitialize:!0,className:c.fullWidth,initialValues:{schedules:f},onSubmit:function(t){var e=t.schedules;return setTimeout((function(){d(e)}),500)}},(function(t){var e=t.values;return a.a.createElement(Ae.d,{className:c.fullWidth},a.a.createElement(Ae.c,{name:"schedules",render:function(t){return a.a.createElement(Er.a,{spacing:4,container:!0},e.schedules.map((function(t,e){return a.a.createElement(Er.a,{key:e,xs:12,md:4,item:!0},a.a.createElement(Er.a,{container:!0},a.a.createElement(Er.a,{className:c.control,xs:12,item:!0},a.a.createElement(Ae.a,{as:Pe.a,label:"Dia da Semana",name:"schedules[".concat(e,"].weekday"),disabled:!0,variant:"outlined",className:c.fullWidth,margin:"dense"})),a.a.createElement(Er.a,{className:c.control,xs:12,md:6,item:!0},a.a.createElement(Ae.a,{label:"Hora de Inicial",name:"schedules[".concat(e,"].startTime")},(function(t){var e=t.field;return a.a.createElement(cc.a,Object.assign({},e,{variant:"outlined",margin:"dense",customInput:Pe.a,format:"##:##",className:c.fullWidth}))}))),a.a.createElement(Er.a,{className:c.control,xs:12,md:6,item:!0},a.a.createElement(Ae.a,{label:"Hora de Final",name:"schedules[".concat(e,"].endTime")},(function(t){var e=t.field;return a.a.createElement(cc.a,Object.assign({},e,{variant:"outlined",margin:"dense",customInput:Pe.a,format:"##:##",className:c.fullWidth}))})))))})))}}),a.a.createElement("div",{className:c.buttonContainer},a.a.createElement(me,{loading:o,type:"submit",color:"primary",variant:"contained"},null!==i&&void 0!==i?i:"Salvar")))}))};function sc(){sc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var fc=function(){var t=function(){var t=Object(A.a)(sc().mark((function t(e){var r,n;return sc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/companies",method:"POST",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e=function(){var t=Object(A.a)(sc().mark((function t(e){var r,n;return sc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/companies",method:"GET"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(A.a)(sc().mark((function t(e){var r,n;return sc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/companies/list",method:"GET"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=Object(A.a)(sc().mark((function t(e){var r,n;return sc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/companies/".concat(e),method:"GET"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{save:t,update:function(){var t=Object(A.a)(sc().mark((function t(e){var r,n;return sc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/companies/".concat(e.id),method:"PUT",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=Object(A.a)(sc().mark((function t(e){var r,n;return sc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/companies/".concat(e),method:"DELETE"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),list:r,find:n,findAll:e,updateSchedules:function(){var t=Object(A.a)(sc().mark((function t(e){var r,n;return sc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/companies/".concat(e.id,"/schedules"),method:"PUT",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function hc(){hc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var dc=function(){return{getPlanList:function(){var t=Object(A.a)(hc().mark((function t(e){var r,n;return hc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pt.request({url:"/plans/list",method:"GET",params:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),list:function(){var t=Object(A.a)(hc().mark((function t(e){var r,n;return hc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/plans/all",method:"GET",params:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),save:function(){var t=Object(A.a)(hc().mark((function t(e){var r,n;return hc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/plans",method:"POST",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),update:function(){var t=Object(A.a)(hc().mark((function t(e){var r,n;return hc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/plans/".concat(e.id),method:"PUT",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=Object(A.a)(hc().mark((function t(e){var r,n;return hc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/plans/".concat(e),method:"DELETE"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function pc(){pc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var mc=Object(m.a)((function(t){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),vc=function(t){var e=t.selectedQueueIds,r=t.companyId,o=t.onChange,i=mc(),c=Object(n.useState)([]),l=Object(u.a)(c,2),s=l[0],f=l[1];Object(n.useEffect)((function(){Object(A.a)(pc().mark((function t(){var e,n;return pc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/queue",{params:{companyId:r}});case 3:e=t.sent,n=e.data,f(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Tt(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[r]);return a.a.createElement("div",{style:{marginTop:6}},a.a.createElement(qe.a,{fullWidth:!0,margin:"dense",variant:"outlined"},a.a.createElement(We.a,null,kt.a.t("queueSelect.inputLabel")),a.a.createElement(De.a,{multiple:!0,labelWidth:60,value:e,onChange:function(t){o(t.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(t){return a.a.createElement("div",{className:i.chips},(null===t||void 0===t?void 0:t.length)>0&&t.map((function(t){var e=s.find((function(e){return e.id===t}));return e?a.a.createElement(Ye.a,{key:t,style:{backgroundColor:e.color},variant:"outlined",label:e.name,className:i.chip}):null})))}},s.map((function(t){return a.a.createElement(k.a,{key:t.id,value:t.id},t.name)})))))};function yc(){yc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var gc=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:t.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:t.spacing(1),minWidth:120}}})),bc=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Ie.c().min(5,"Too Short!").max(50,"Too Long!"),email:Ie.c().email("Invalid email").required("Required")}),Ec=function(t){var e=t.open,r=t.onClose,o=t.userId,i=t.companyId,c=gc(),l={name:"",email:"",password:"",profile:"user"},s=Object(n.useContext)(Ht).user,d=Object(n.useState)(l),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)([]),g=Object(u.a)(y,2),b=g[0],E=g[1];Object(n.useEffect)((function(){(function(){var t=Object(A.a)(yc().mark((function t(){var r,n,a,i;return yc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=16;break}return t.prev=3,t.next=6,Mt.get("/users/".concat(o));case 6:n=t.sent,a=n.data,v((function(t){return Object(h.a)(Object(h.a)({},t),a)})),i=null===(r=a.queues)||void 0===r?void 0:r.map((function(t){return t.id})),E(i),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),Tt(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}})()()}),[o,e]);var w=function(){r(),v(l)},x=function(){var t=Object(A.a)(yc().mark((function t(e){var r;return yc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(h.a)(Object(h.a)({},e),{},{companyId:i,queueIds:b}),t.prev=1,!o){t.next=7;break}return t.next=5,Mt.put("/users/".concat(o),r);case 5:t.next=9;break;case 7:return t.next=9,Mt.post("/users",r);case 9:f.b.success(kt.a.t("userModal.success")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),Tt(t.t0);case 15:w();case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:c.root},a.a.createElement(Me.a,{open:e,onClose:w,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(Re.a,{id:"form-dialog-title"},"".concat(o?kt.a.t("userModal.title.edit"):kt.a.t("userModal.title.add"))),a.a.createElement(Ae.e,{initialValues:m,enableReinitialize:!0,validationSchema:bc,onSubmit:function(t,e){setTimeout((function(){x(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.isSubmitting;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:e.name&&Boolean(r.name),helperText:e.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("userModal.form.password"),type:"password",name:"password",error:e.password&&Boolean(r.password),helperText:e.password&&r.password,variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("userModal.form.email"),name:"email",error:e.email&&Boolean(r.email),helperText:e.email&&r.email,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(qe.a,{variant:"outlined",className:c.formControl,margin:"dense"},a.a.createElement(Kt,{role:s.profile,perform:"user-modal:editProfile",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{id:"profile-selection-input-label"},kt.a.t("userModal.form.profile")),a.a.createElement(Ae.b,{as:De.a,label:kt.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},a.a.createElement(k.a,{value:"admin"},"Admin"),a.a.createElement(k.a,{value:"user"},"User")))}}))),a.a.createElement(Kt,{role:s.profile,perform:"user-modal:editQueues",yes:function(){return a.a.createElement(vc,{companyId:i,selectedQueueIds:b,onChange:function(t){return E(t)}})}})),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:w,color:"secondary",disabled:n,variant:"outlined"},kt.a.t("userModal.buttons.cancel")),a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?kt.a.t("userModal.buttons.okEdit"):kt.a.t("userModal.buttons.okAdd")),n&&a.a.createElement(he.a,{size:24,className:c.buttonProgress}))))}))))};function wc(){wc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var xc=Object(m.a)((function(t){return{root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:t.spacing(2)},fullWidth:{width:"100%"},tableContainer:Object(h.a)({width:"100%",overflowX:"scroll"},t.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},control:{paddingRight:t.spacing(1),paddingLeft:t.spacing(1)},buttonContainer:{textAlign:"right",padding:t.spacing(1)}}}));function Oc(t){var e=t.onSubmit,r=t.onDelete,o=t.onCancel,i=t.initialValue,c=t.loading,l=xc(),s=Object(n.useState)([]),d=Object(u.a)(s,2),p=d[0],m=d[1],v=Object(n.useState)(!1),y=Object(u.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)({}),w=Object(u.a)(E,2),x=w[0],O=w[1],L=Object(n.useState)(Object(h.a)({name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""},i)),j=Object(u.a)(L,2),S=j[0],_=j[1],N=dc().list;Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(wc().mark((function t(){var e;return wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:e=t.sent,m(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){_((function(t){return rr()(i).isValid()&&(i.dueDate=rr()(i.dueDate).format("YYYY-MM-DD")),Object(h.a)(Object(h.a)({},t),i)}))}),[i]);var T=function(){var t=Object(A.a)(wc().mark((function t(r){return wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==r.dueDate&&!1!==rr()(r.dueDate).isValid()||(r.dueDate=null),e(r),_(Object(h.a)(Object(h.a)({},i),{},{dueDate:""}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(A.a)(wc().mark((function t(){var e,r;return wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/users/list",{params:{companyId:i.id}});case 3:e=t.sent,r=e.data,Object(Nt.isArray)(r)&&r.length&&O(Object(Nt.head)(r)),b(!0),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),f.b.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ec,{userId:x.id,companyId:i.id,open:g,onClose:function(){O({}),b(!1)}}),a.a.createElement(Ae.e,{enableReinitialize:!0,className:l.fullWidth,initialValues:S,onSubmit:function(t,e){var r=e.resetForm;return setTimeout((function(){T(t),r()}),500)}},(function(t,e){return a.a.createElement(Ae.d,{className:l.fullWidth},a.a.createElement(Er.a,{spacing:2,justifyContent:"flex-end",container:!0},a.a.createElement(Er.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"Nome",name:"name",variant:"outlined",className:l.fullWidth,margin:"dense"})),a.a.createElement(Er.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"E-mail",name:"email",variant:"outlined",className:l.fullWidth,margin:"dense",required:!0})),a.a.createElement(Er.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"Telefone",name:"phone",variant:"outlined",className:l.fullWidth,margin:"dense"})),a.a.createElement(Er.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(qe.a,{margin:"dense",variant:"outlined",fullWidth:!0},a.a.createElement(We.a,{htmlFor:"plan-selection"},"Plano"),a.a.createElement(Ae.b,{as:De.a,id:"plan-selection",label:"Plano",labelId:"plan-selection-label",name:"planId",margin:"dense",required:!0},p.map((function(t,e){return a.a.createElement(k.a,{key:e,value:t.id},t.name)}))))),a.a.createElement(Er.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(qe.a,{margin:"dense",variant:"outlined",fullWidth:!0},a.a.createElement(We.a,{htmlFor:"status-selection"},"Status"),a.a.createElement(Ae.b,{as:De.a,id:"status-selection",label:"Status",labelId:"status-selection-label",name:"status",margin:"dense"},a.a.createElement(k.a,{value:!0},"Sim"),a.a.createElement(k.a,{value:!1},"N\xe3o")))),a.a.createElement(Er.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(qe.a,{margin:"dense",variant:"outlined",fullWidth:!0},a.a.createElement(We.a,{htmlFor:"status-selection"},"Campanhas"),a.a.createElement(Ae.b,{as:De.a,id:"campaigns-selection",label:"Campanhas",labelId:"campaigns-selection-label",name:"campaignsEnabled",margin:"dense"},a.a.createElement(k.a,{value:!0},"Habilitadas"),a.a.createElement(k.a,{value:!1},"Desabilitadas")))),a.a.createElement(Er.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(qe.a,{variant:"outlined",fullWidth:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"Data de Vencimento",type:"date",name:"dueDate",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"dense"}))),a.a.createElement(Er.a,{xs:12,sm:6,md:2,item:!0},a.a.createElement(qe.a,{margin:"dense",variant:"outlined",fullWidth:!0},a.a.createElement(We.a,{htmlFor:"recorrencia-selection"},"Recorr\xeancia"),a.a.createElement(Ae.b,{as:De.a,label:"Recorr\xeancia",labelId:"recorrencia-selection-label",id:"recurrence",name:"recurrence",margin:"dense"},a.a.createElement(k.a,{value:"MENSAL"},"Mensal"),a.a.createElement(k.a,{value:"BIMESTRAL"},"Bimestral"),a.a.createElement(k.a,{value:"TRIMESTRAL"},"Trimestral"),a.a.createElement(k.a,{value:"SEMESTRAL"},"Semestral"),a.a.createElement(k.a,{value:"ANUAL"},"Anual")))),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Er.a,{justifyContent:"flex-end",spacing:1,container:!0},a.a.createElement(Er.a,{xs:4,md:1,item:!0},a.a.createElement(me,{className:l.fullWidth,style:{marginTop:7},loading:c,onClick:function(){return o()},variant:"contained"},"Limpar")),void 0!==S.id?a.a.createElement(a.a.Fragment,null,a.a.createElement(Er.a,{xs:6,md:1,item:!0},a.a.createElement(me,{style:{marginTop:7},className:l.fullWidth,loading:c,onClick:function(){return r(S)},variant:"contained",color:"secondary"},"Excluir")),a.a.createElement(Er.a,{xs:6,md:2,item:!0},a.a.createElement(me,{style:{marginTop:7},className:l.fullWidth,loading:c,onClick:function(){return function(){var t=Object(h.a)({},S);if(""!==t.dueDate&&null!==t.dueDate)switch(t.recurrence){case"MENSAL":t.dueDate=rr()(t.dueDate).add(1,"month").format("YYYY-MM-DD");break;case"BIMESTRAL":t.dueDate=rr()(t.dueDate).add(2,"month").format("YYYY-MM-DD");break;case"TRIMESTRAL":t.dueDate=rr()(t.dueDate).add(3,"month").format("YYYY-MM-DD");break;case"SEMESTRAL":t.dueDate=rr()(t.dueDate).add(6,"month").format("YYYY-MM-DD");break;case"ANUAL":t.dueDate=rr()(t.dueDate).add(12,"month").format("YYYY-MM-DD")}_(t)}()},variant:"contained",color:"primary"},"+ Vencimento")),a.a.createElement(Er.a,{xs:6,md:1,item:!0},a.a.createElement(me,{style:{marginTop:7},className:l.fullWidth,loading:c,onClick:function(){return C()},variant:"contained",color:"primary"},"Usu\xe1rio"))):null,a.a.createElement(Er.a,{xs:6,md:1,item:!0},a.a.createElement(me,{className:l.fullWidth,style:{marginTop:7},loading:c,type:"submit",variant:"contained",color:"primary"},"Salvar"))))))})))}function Lc(t){var e=t.records,r=t.onSelect,n=xc(),o=sr().dateToClient,i=function(t){if(rr()(t.dueDate).isValid()){var e=rr()(),r=rr()(t.dueDate).diff(e,"days");if(5===r)return{backgroundColor:"#fffead"};if(r>=-3&&r<=4)return{backgroundColor:"#f7cc8f"};if(-4===r)return{backgroundColor:"#fa8c8c"}}return{}};return a.a.createElement(tr.a,{className:n.tableContainer},a.a.createElement(Vr.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center",style:{width:"1%"}},"#"),a.a.createElement(Kr.a,{align:"left"},"Nome"),a.a.createElement(Kr.a,{align:"left"},"E-mail"),a.a.createElement(Kr.a,{align:"left"},"Telefone"),a.a.createElement(Kr.a,{align:"left"},"Plano"),a.a.createElement(Kr.a,{align:"left"},"Campanhas"),a.a.createElement(Kr.a,{align:"left"},"Status"),a.a.createElement(Kr.a,{align:"left"},"Criada Em"),a.a.createElement(Kr.a,{align:"left"},"Vencimento"))),a.a.createElement(Qr.a,null,e.map((function(t,e){return a.a.createElement(Zr.a,{style:i(t),key:e},a.a.createElement(Kr.a,{align:"center",style:{width:"1%"}},a.a.createElement(b.a,{onClick:function(){return r(t)},"aria-label":"delete"},a.a.createElement(Ri.a,null))),a.a.createElement(Kr.a,{align:"left"},t.name||"-"),a.a.createElement(Kr.a,{align:"left"},t.email||"-"),a.a.createElement(Kr.a,{align:"left"},t.phone||"-"),a.a.createElement(Kr.a,{align:"left"},function(t){return null!==t.planId?t.plan.name:"-"}(t)),a.a.createElement(Kr.a,{align:"left"},function(t){if(Object(Nt.has)(t,"settings")&&Object(Nt.isArray)(t.settings)&&t.settings.length>0){var e=t.settings.find((function(t){return"campaignsEnabled"===t.key}));if(e)return"true"===e.value?"Habilitadas":"Desabilitadas"}return"Desabilitadas"}(t)),a.a.createElement(Kr.a,{align:"left"},function(t){return!1===t.status?"N\xe3o":"Sim"}(t)),a.a.createElement(Kr.a,{align:"left"},o(t.createdAt)),a.a.createElement(Kr.a,{align:"left"},o(t.dueDate),a.a.createElement("br",null),a.a.createElement("span",null,t.recurrence)))})))))}function jc(){var t=xc(),e=fc(),r=e.list,o=e.save,i=e.update,c=e.remove,l=Object(n.useState)(!1),s=Object(u.a)(l,2),d=s[0],p=s[1],m=Object(n.useState)(!1),v=Object(u.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""}),L=Object(u.a)(O,2),j=L[0],k=L[1];Object(n.useEffect)((function(){S()}),[]);var S=function(){var t=Object(A.a)(wc().mark((function t(){var e;return wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.prev=1,t.next=4,r();case 4:e=t.sent,x(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),f.b.error("N\xe3o foi poss\xedvel carregar a lista de registros");case 11:g(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(A.a)(wc().mark((function t(e){return wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g(!0),t.prev=1,void 0===e.id){t.next=7;break}return t.next=5,i(e);case 5:t.next=9;break;case 7:return t.next=9,o(e);case 9:return t.next=11,S();case 11:T(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente");case 18:g(!1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(A.a)(wc().mark((function t(){return wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.prev=1,t.next=4,c(j.id);case 4:return t.next=6,S();case 6:T(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o");case 13:g(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),T=function(){k((function(t){return Object(h.a)(Object(h.a)({},t),{},{name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""})}))};return a.a.createElement(tr.a,{className:t.mainPaper,elevation:0},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Oc,{initialValue:j,onDelete:function(){p(!0)},onSubmit:_,onCancel:T,loading:y})),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Lc,{records:w,onSelect:function(t){var e=!1,r=t.settings.find((function(t){return t.key.indexOf("campaignsEnabled")>-1}));r&&(e="true"===r.value||"enabled"===r.value),k((function(r){return Object(h.a)(Object(h.a)({},r),{},{id:t.id,name:t.name||"",phone:t.phone||"",email:t.email||"",planId:t.planId||"",status:!1!==t.status,campaignsEnabled:e,dueDate:t.dueDate||"",recurrence:t.recurrence||""})}))}}))),a.a.createElement(ra,{title:"Exclus\xe3o de Registro",open:d,onClose:function(){return p(!1)},onConfirm:function(){return N()}},"Deseja realmente excluir esse registro?"))}function kc(){kc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Sc=Object(m.a)((function(t){return{root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:t.spacing(2)},fullWidth:{width:"100%"},tableContainer:Object(h.a)({width:"100%",overflowX:"scroll"},t.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},control:{paddingRight:t.spacing(1),paddingLeft:t.spacing(1)},buttonContainer:{textAlign:"right",padding:t.spacing(1)}}}));function _c(t){var e=t.onSubmit,r=t.onDelete,o=t.onCancel,i=t.initialValue,c=t.loading,l=Sc(),s=Object(n.useState)({name:"",users:0,connections:0,queues:0}),f=Object(u.a)(s,2),h=f[0],d=f[1];Object(n.useEffect)((function(){d(i)}),[i]);var p=function(){var t=Object(A.a)(kc().mark((function t(r){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(Ae.e,{enableReinitialize:!0,className:l.fullWidth,initialValues:h,onSubmit:function(t,e){var r=e.resetForm;return setTimeout((function(){p(t),r()}),500)}},(function(t){return a.a.createElement(Ae.d,{className:l.fullWidth},a.a.createElement(Er.a,{spacing:2,justifyContent:"flex-end",container:!0},a.a.createElement(Er.a,{xs:12,sm:6,md:3,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"Nome",name:"name",variant:"outlined",className:l.fullWidth,margin:"dense"})),a.a.createElement(Er.a,{xs:12,sm:6,md:3,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"Usu\xe1rios",name:"users",variant:"outlined",className:l.fullWidth,margin:"dense",type:"number"})),a.a.createElement(Er.a,{xs:12,sm:6,md:3,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"Conex\xf5es",name:"connections",variant:"outlined",className:l.fullWidth,margin:"dense",type:"number"})),a.a.createElement(Er.a,{xs:12,sm:6,md:3,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"Filas",name:"queues",variant:"outlined",className:l.fullWidth,margin:"dense",type:"number"})),a.a.createElement(Er.a,{sm:3,md:1,item:!0},a.a.createElement(me,{className:l.fullWidth,loading:c,onClick:function(){return o()},variant:"contained"},"Limpar")),void 0!==h.id?a.a.createElement(Er.a,{sm:3,md:1,item:!0},a.a.createElement(me,{className:l.fullWidth,loading:c,onClick:function(){return r(h)},variant:"contained",color:"secondary"},"Excluir")):null,a.a.createElement(Er.a,{sm:3,md:1,item:!0},a.a.createElement(me,{className:l.fullWidth,loading:c,type:"submit",variant:"contained",color:"primary"},"Salvar"))))}))}function Nc(t){var e=t.records,r=t.onSelect,n=Sc();return a.a.createElement(tr.a,{className:n.tableContainer},a.a.createElement(Vr.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center",style:{width:"1%"}},"#"),a.a.createElement(Kr.a,{align:"left"},"Nome"),a.a.createElement(Kr.a,{align:"center"},"Usu\xe1rios"),a.a.createElement(Kr.a,{align:"center"},"Conex\xf5es"),a.a.createElement(Kr.a,{align:"center"},"Filas"))),a.a.createElement(Qr.a,null,e.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center",style:{width:"1%"}},a.a.createElement(b.a,{onClick:function(){return r(t)},"aria-label":"delete"},a.a.createElement(Ri.a,null))),a.a.createElement(Kr.a,{align:"left"},t.name||"-"),a.a.createElement(Kr.a,{align:"center"},t.users||"-"),a.a.createElement(Kr.a,{align:"center"},t.connections||"-"),a.a.createElement(Kr.a,{align:"center"},t.queues||"-"))})))))}function Tc(){var t=Sc(),e=dc(),r=e.list,o=e.save,i=e.update,c=e.remove,l=Object(n.useState)(!1),s=Object(u.a)(l,2),h=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(u.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)({name:"",users:0,connections:0,queues:0}),O=Object(u.a)(x,2),L=O[0],j=O[1];Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var k=function(){var t=Object(A.a)(kc().mark((function t(){var e;return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,t.next=4,r();case 4:e=t.sent,w(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),f.b.error("N\xe3o foi poss\xedvel carregar a lista de registros");case 11:y(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(A.a)(kc().mark((function t(e){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y(!0),t.prev=1,void 0===e.id){t.next=7;break}return t.next=5,i(e);case 5:t.next=9;break;case 7:return t.next=9,o(e);case 9:return t.next=11,k();case 11:N(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente");case 18:y(!1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(A.a)(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,t.next=4,c(L.id);case 4:return t.next=6,k();case 6:N(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o");case 13:y(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),N=function(){j({name:"",users:0,connections:0,queues:0})};return a.a.createElement(tr.a,{className:t.mainPaper,elevation:0},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(_c,{initialValue:L,onDelete:function(){d(!0)},onSubmit:S,onCancel:N,loading:v})),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Nc,{records:E,onSelect:function(t){j({id:t.id,name:t.name||"",users:t.users||0,connections:t.connections||0,queues:t.queues||0})}}))),a.a.createElement(ra,{title:"Exclus\xe3o de Registro",open:h,onClose:function(){return d(!1)},onConfirm:function(){return _()}},"Deseja realmente excluir esse registro?"))}function Cc(){Cc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Ic=function(){return{findAll:function(){var t=Object(A.a)(Cc().mark((function t(e){var r,n;return Cc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/helps",method:"GET",params:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),list:function(){var t=Object(A.a)(Cc().mark((function t(e){var r,n;return Cc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/helps/list",method:"GET",params:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),save:function(){var t=Object(A.a)(Cc().mark((function t(e){var r,n;return Cc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/helps",method:"POST",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),update:function(){var t=Object(A.a)(Cc().mark((function t(e){var r,n;return Cc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/helps/".concat(e.id),method:"PUT",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=Object(A.a)(Cc().mark((function t(e){var r,n;return Cc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/helps/".concat(e),method:"DELETE"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function Ac(){Ac=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Pc=Object(m.a)((function(t){return{root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:t.spacing(2)},fullWidth:{width:"100%"},tableContainer:Object(h.a)({width:"100%",overflowX:"scroll"},t.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},control:{paddingRight:t.spacing(1),paddingLeft:t.spacing(1)},buttonContainer:{textAlign:"right",padding:t.spacing(1)}}}));function Mc(t){var e=t.onSubmit,r=t.onDelete,o=t.onCancel,i=t.initialValue,c=t.loading,l=Pc(),s=Object(n.useState)(i),f=Object(u.a)(s,2),h=f[0],d=f[1];Object(n.useEffect)((function(){d(i)}),[i]);var p=function(){var t=Object(A.a)(Ac().mark((function t(r){return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(Ae.e,{enableReinitialize:!0,className:l.fullWidth,initialValues:h,onSubmit:function(t,e){var r=e.resetForm;return setTimeout((function(){p(t),r()}),500)}},(function(t){return a.a.createElement(Ae.d,{className:l.fullWidth},a.a.createElement(Er.a,{spacing:2,justifyContent:"flex-end",container:!0},a.a.createElement(Er.a,{xs:12,sm:6,md:3,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"T\xedtulo",name:"title",variant:"outlined",className:l.fullWidth,margin:"dense"})),a.a.createElement(Er.a,{xs:12,sm:6,md:3,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"C\xf3digo do V\xeddeo",name:"video",variant:"outlined",className:l.fullWidth,margin:"dense"})),a.a.createElement(Er.a,{xs:12,sm:12,md:6,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:"Descri\xe7\xe3o",name:"description",variant:"outlined",className:l.fullWidth,margin:"dense"})),a.a.createElement(Er.a,{sm:3,md:1,item:!0},a.a.createElement(me,{className:l.fullWidth,loading:c,onClick:function(){return o()},variant:"contained"},"Limpar")),void 0!==h.id?a.a.createElement(Er.a,{sm:3,md:1,item:!0},a.a.createElement(me,{className:l.fullWidth,loading:c,onClick:function(){return r(h)},variant:"contained",color:"secondary"},"Excluir")):null,a.a.createElement(Er.a,{sm:3,md:1,item:!0},a.a.createElement(me,{className:l.fullWidth,loading:c,type:"submit",variant:"contained",color:"primary"},"Salvar"))))}))}function Gc(t){var e=t.records,r=t.onSelect,n=Pc();return a.a.createElement(tr.a,{className:n.tableContainer},a.a.createElement(Vr.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center",style:{width:"1%"}},"#"),a.a.createElement(Kr.a,{align:"left"},"T\xedtulo"),a.a.createElement(Kr.a,{align:"left"},"Descri\xe7\xe3o"),a.a.createElement(Kr.a,{align:"left"},"V\xeddeo"))),a.a.createElement(Qr.a,null,e.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center",style:{width:"1%"}},a.a.createElement(b.a,{onClick:function(){return r(t)},"aria-label":"delete"},a.a.createElement(Ri.a,null))),a.a.createElement(Kr.a,{align:"left"},t.title||"-"),a.a.createElement(Kr.a,{align:"left"},t.description||"-"),a.a.createElement(Kr.a,{align:"left"},t.video||"-"))})))))}function Fc(){var t=Pc(),e=Ic(),r=e.list,o=e.save,i=e.update,c=e.remove,l=Object(n.useState)(!1),s=Object(u.a)(l,2),h=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)([]),b=Object(u.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)({title:"",description:"",video:""}),O=Object(u.a)(x,2),L=O[0],j=O[1];Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(Ac().mark((function t(){return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var k=function(){var t=Object(A.a)(Ac().mark((function t(){var e;return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,t.next=4,r();case 4:e=t.sent,w(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),f.b.error("N\xe3o foi poss\xedvel carregar a lista de registros");case 11:y(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(A.a)(Ac().mark((function t(e){return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y(!0),t.prev=1,void 0===e.id){t.next=7;break}return t.next=5,i(e);case 5:t.next=9;break;case 7:return t.next=9,o(e);case 9:return t.next=11,k();case 11:N(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente");case 18:y(!1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(A.a)(Ac().mark((function t(){return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,t.next=4,c(L.id);case 4:return t.next=6,k();case 6:N(),f.b.success("Opera\xe7\xe3o realizada com sucesso!"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),f.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o");case 13:y(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),N=function(){j({title:"",description:"",video:""})};return a.a.createElement(tr.a,{className:t.mainPaper,elevation:0},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Mc,{initialValue:L,onDelete:function(){d(!0)},onSubmit:S,onCancel:N,loading:v})),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Gc,{records:E,onSelect:function(t){j({id:t.id,title:t.title||"",description:t.description||"",video:t.video||""})}}))),a.a.createElement(ra,{title:"Exclus\xe3o de Registro",open:h,onClose:function(){return d(!1)},onConfirm:function(){return _()}},"Deseja realmente excluir esse registro?"))}function Rc(){Rc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Dc=function(){return{getAll:function(){var t=Object(A.a)(Rc().mark((function t(e){var r,n;return Rc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/settings",method:"GET",params:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),update:function(){var t=Object(A.a)(Rc().mark((function t(e){var r,n;return Rc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/settings/".concat(e.key),method:"PUT",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function Wc(){Wc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var qc=Object(m.a)((function(t){return{container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)},fixedHeightPaper:{padding:t.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},cardAvatar:{fontSize:"55px",color:Tr.a[500],backgroundColor:"#ffffff",width:t.spacing(7),height:t.spacing(7)},cardTitle:{fontSize:"18px",color:Cr.a[700]},cardSubtitle:{color:Tr.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"}}}));function Yc(t){var e=t.settings,r=t.scheduleTypeChanged,o=qc(),i=Object(n.useState)("disabled"),c=Object(u.a)(i,2),l=c[0],s=c[1],f=Object(n.useState)("disabled"),h=Object(u.a)(f,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(u.a)(m,2),y=v[0],g=v[1],b=Object(n.useState)(!1),E=Object(u.a)(b,2),w=E[0],x=E[1],O=Dc().update;function L(t){return j.apply(this,arguments)}function j(){return(j=Object(A.a)(Wc().mark((function t(e){return Wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(e),g(!0),t.next=4,O({key:"userRating",value:e});case 4:g(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return _.apply(this,arguments)}function _(){return(_=Object(A.a)(Wc().mark((function t(e){return Wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(e),x(!0),t.next=4,O({key:"scheduleType",value:e});case 4:x(!1),"function"===typeof r&&r(e);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(Array.isArray(e)&&e.length){var t=e.find((function(t){return"userRating"===t.key}));t&&s(t.value);var r=e.find((function(t){return"scheduleType"===t.key}));r&&p(r.value)}}),[e]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Er.a,{spacing:3,container:!0},a.a.createElement(Er.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(qe.a,{className:o.selectContainer},a.a.createElement(We.a,{id:"ratings-label"},"Avalia\xe7\xf5es"),a.a.createElement(De.a,{labelId:"ratings-label",value:l,onChange:function(){var t=Object(A.a)(Wc().mark((function t(e){return Wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(e.target.value);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.a.createElement(k.a,{value:"disabled"},"Desabilitadas"),a.a.createElement(k.a,{value:"enabled"},"Habilitadas")),a.a.createElement(wr.a,null,y&&"Atualizando..."))),a.a.createElement(Er.a,{xs:12,sm:6,md:4,item:!0},a.a.createElement(qe.a,{className:o.selectContainer},a.a.createElement(We.a,{id:"schedule-type-label"},"Agendimento de Expediente"),a.a.createElement(De.a,{labelId:"schedule-type-label",value:d,onChange:function(){var t=Object(A.a)(Wc().mark((function t(e){return Wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S(e.target.value);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.a.createElement(k.a,{value:"disabled"},"Desabilitado"),a.a.createElement(k.a,{value:"queue"},"Gerenciamento Por Fila"),a.a.createElement(k.a,{value:"company"},"Gerenciamento Por Empresa")),a.a.createElement(wr.a,null,w&&"Atualizando...")))))}var zc=function(t){var e=t.user,r=t.yes,n=t.no;return e.super?r():n()};zc.defaultProps={user:{},yes:function(){return null},no:function(){return null}};var Bc=zc;function Uc(){Uc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Hc=Object(m.a)((function(t){return{root:{flex:1,backgroundColor:t.palette.background.paper},mainPaper:Object(h.a)(Object(h.a)({},t.scrollbarStyles),{},{overflowY:"scroll",flex:1}),tab:{background:"#f2f5f3",borderRadius:4},paper:Object(h.a)(Object(h.a)({},t.scrollbarStyles),{},{overflowY:"scroll",padding:t.spacing(2),display:"flex",alignItems:"center",width:"100%"}),container:{width:"100%",maxHeight:"100%"},control:{padding:t.spacing(1)},textfield:{width:"100%"}}})),Vc=function(){var t=Hc(),e=Object(n.useState)("options"),r=Object(u.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)([]),l=Object(u.a)(c,2),s=l[0],h=l[1],d=Object(n.useState)({}),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(!1),g=Object(u.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)({}),x=Object(u.a)(w,2),O=x[0],L=x[1],j=Object(n.useState)({}),k=Object(u.a)(j,2),S=k[0],_=k[1],N=Object(n.useState)(!1),T=Object(u.a)(N,2),C=T[0],I=T[1],P=Ut().getCurrentUserInfo,M=fc(),G=M.find,F=M.updateSchedules,R=Dc().getAll;Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(Uc().mark((function t(){var e,r,n,a,o;return Uc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E(!0),t.prev=1,e=localStorage.getItem("companyId"),t.next=5,G(e);case 5:return r=t.sent,t.next=8,R();case 8:return n=t.sent,v(r),h(r.schedules),_(n),Array.isArray(n)&&(a=n.find((function(t){return"scheduleType"===t.key})))&&I("company"===a.value),t.next=15,P();case 15:o=t.sent,L(o),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),f.b.error(t.t0);case 22:E(!1);case 23:case"end":return t.stop()}}),t,null,[[1,19]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var D=function(){var t=Object(A.a)(Uc().mark((function t(e){return Uc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E(!0),t.prev=1,h(e),t.next=5,F({id:m.id,schedules:e});case 5:f.b.success("Hor\xe1rios atualizados com sucesso."),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),f.b.error(t.t0);case 11:E(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),W=function(){return O.super};return a.a.createElement(qi,{className:t.root},a.a.createElement(zi,null,a.a.createElement(Hi,null,kt.a.t("settings.title"))),a.a.createElement(tr.a,{className:t.mainPaper,elevation:1},a.a.createElement(gn.a,{value:o,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:function(t,e){i(e)},className:t.tab},a.a.createElement(bn.a,{label:"Op\xe7\xf5es",value:"options"}),C&&a.a.createElement(bn.a,{label:"Hor\xe1rios",value:"schedules"}),W()?a.a.createElement(bn.a,{label:"Empresas",value:"companies"}):null,W()?a.a.createElement(bn.a,{label:"Planos",value:"plans"}):null,W()?a.a.createElement(bn.a,{label:"Ajuda",value:"helps"}):null),a.a.createElement(tr.a,{className:t.paper,elevation:0},a.a.createElement(Na,{className:t.container,value:o,name:"schedules"},a.a.createElement(lc,{loading:b,onSubmit:D,initialValues:s})),a.a.createElement(Bc,{user:O,yes:function(){return a.a.createElement(Na,{className:t.container,value:o,name:"companies"},a.a.createElement(jc,null))}}),a.a.createElement(Bc,{user:O,yes:function(){return a.a.createElement(Na,{className:t.container,value:o,name:"plans"},a.a.createElement(Tc,null))}}),a.a.createElement(Bc,{user:O,yes:function(){return a.a.createElement(Na,{className:t.container,value:o,name:"helps"},a.a.createElement(Fc,null))}}),a.a.createElement(Na,{className:t.container,value:o,name:"options"},a.a.createElement(Yc,{settings:S,scheduleTypeChanged:function(t){return I("company"===t)}})))))},Qc=r(906),Kc=r(67),Jc=r.n(Kc);function Xc(){Xc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Zc=function(t,e){if("LOAD_USERS"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_USERS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_USER"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]},$c=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),tu=function(){var t=$c(),e=Object(n.useState)(!1),r=Object(u.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(1),l=Object(u.a)(c,2),s=l[0],h=l[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(null),g=Object(u.a)(y,2),E=g[0],w=g[1],x=Object(n.useState)(null),O=Object(u.a)(x,2),L=O[0],j=O[1],k=Object(n.useState)(!1),S=Object(u.a)(k,2),_=S[0],N=S[1],T=Object(n.useState)(!1),C=Object(u.a)(T,2),I=C[0],P=C[1],M=Object(n.useState)(""),G=Object(u.a)(M,2),F=G[0],R=G[1],D=Object(n.useReducer)(Zc,[]),W=Object(u.a)(D,2),q=W[0],Y=W[1];Object(n.useEffect)((function(){Y({type:"RESET"}),h(1)}),[F]),Object(n.useEffect)((function(){i(!0);var t=setTimeout((function(){(function(){var t=Object(A.a)(Xc().mark((function t(){var e,r;return Xc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/users/",{params:{searchParam:F,pageNumber:s}});case 3:e=t.sent,r=e.data,Y({type:"LOAD_USERS",payload:r.users}),v(r.hasMore),i(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[F,s]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-user"),(function(t){"update"!==t.action&&"create"!==t.action||Y({type:"UPDATE_USERS",payload:t.user}),"delete"===t.action&&Y({type:"DELETE_USER",payload:+t.userId})})),function(){e.disconnect()}}),[]);var z=function(){var t=Object(A.a)(Xc().mark((function t(e){return Xc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/users/".concat(e));case 3:f.b.success(kt.a.t("users.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:j(null),R(""),h(1);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(ra,{title:L&&"".concat(kt.a.t("users.confirmationModal.deleteTitle")," ").concat(L.name,"?"),open:I,onClose:P,onConfirm:function(){return z(L.id)}},kt.a.t("users.confirmationModal.deleteMessage")),a.a.createElement(Ke,{open:_,onClose:function(){w(null),N(!1)},"aria-labelledby":"form-dialog-title",userId:E&&E.id}),a.a.createElement(zi,null,a.a.createElement(Hi,null,kt.a.t("users.title")),a.a.createElement(Ui,null,a.a.createElement(Pe.a,{placeholder:kt.a.t("contacts.searchPlaceholder"),type:"search",value:F,onChange:function(t){R(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement(vn.a,{style:{color:"gray"}}))}}),a.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(){w(null),N(!0)}},kt.a.t("users.buttons.add")))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if(m&&!o){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&h((function(t){return t+1}))}}},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center"},kt.a.t("users.table.name")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("users.table.email")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("users.table.profile")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("users.table.actions")))),a.a.createElement(Qr.a,null,a.a.createElement(a.a.Fragment,null,q.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center"},t.name),a.a.createElement(Kr.a,{align:"center"},t.email),a.a.createElement(Kr.a,{align:"center"},t.profile),a.a.createElement(Kr.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){w(t),N(!0)}(t)}},a.a.createElement(Jc.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(e){P(!0),j(t)}},a.a.createElement(Nn.a,null))))})),o&&a.a.createElement(Qi,{columns:4}))))))};function eu(){eu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ru=function(t,e){if("LOAD_CONTACTS"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_CONTACTS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_CONTACT"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]},nu=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),au=function(){var t=nu(),e=Object(s.g)(),r=Object(n.useContext)(Ht).user,o=Object(n.useState)(!1),i=Object(u.a)(o,2),c=i[0],l=i[1],h=Object(n.useState)(1),d=Object(u.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(""),y=Object(u.a)(v,2),g=y[0],E=y[1],w=Object(n.useReducer)(ru,[]),x=Object(u.a)(w,2),O=x[0],L=x[1],j=Object(n.useState)(null),k=Object(u.a)(j,2),S=k[0],_=k[1],N=Object(n.useState)(!1),T=Object(u.a)(N,2),C=T[0],I=T[1],P=Object(n.useState)(!1),M=Object(u.a)(P,2),G=M[0],F=M[1],R=Object(n.useState)({}),D=Object(u.a)(R,2),W=D[0],q=D[1],Y=Object(n.useState)(null),z=Object(u.a)(Y,2),B=z[0],H=z[1],V=Object(n.useState)(!1),Q=Object(u.a)(V,2),K=Q[0],J=Q[1],X=Object(n.useState)(!1),Z=Object(u.a)(X,2),$=Z[0],tt=Z[1];Object(n.useEffect)((function(){L({type:"RESET"}),m(1)}),[g]),Object(n.useEffect)((function(){l(!0);var t=setTimeout((function(){(function(){var t=Object(A.a)(eu().mark((function t(){var e,r;return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/contacts/",{params:{searchParam:g,pageNumber:p}});case 3:e=t.sent,r=e.data,L({type:"LOAD_CONTACTS",payload:r.contacts}),tt(r.hasMore),l(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[g,p]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-contact"),(function(t){"update"!==t.action&&"create"!==t.action||L({type:"UPDATE_CONTACTS",payload:t.contact}),"delete"===t.action&&L({type:"DELETE_CONTACT",payload:+t.contactId})})),function(){e.disconnect()}}),[]);var et=function(){var t=Object(A.a)(eu().mark((function t(e){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/contacts/".concat(e));case 3:f.b.success(kt.a.t("contacts.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:H(null),E(""),m(1);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),rt=function(){var t=Object(A.a)(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.post("/contacts/import");case 3:e.go(0),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(qi,{className:t.mainContainer},a.a.createElement(Gn,{modalOpen:G,initialContact:W,onClose:function(t){!function(t){F(!1),void 0!==t&&void 0!==t.uuid&&e.push("/tickets/".concat(t.uuid))}(t)}}),a.a.createElement(An,{open:C,onClose:function(){_(null),I(!1)},"aria-labelledby":"form-dialog-title",contactId:S}),a.a.createElement(ra,{title:B?"".concat(kt.a.t("contacts.confirmationModal.deleteTitle")," ").concat(B.name,"?"):"".concat(kt.a.t("contacts.confirmationModal.importTitlte")),open:K,onClose:J,onConfirm:function(t){return B?et(B.id):rt()}},"".concat(B?kt.a.t("contacts.confirmationModal.deleteMessage"):kt.a.t("contacts.confirmationModal.importMessage"))),a.a.createElement(zi,null,a.a.createElement(Hi,null,kt.a.t("contacts.title")),a.a.createElement(Ui,null,a.a.createElement(Pe.a,{placeholder:kt.a.t("contacts.searchPlaceholder"),type:"search",value:g,onChange:function(t){E(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement(vn.a,{style:{color:"gray"}}))}}),a.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(t){return J(!0)}},kt.a.t("contacts.buttons.import")),a.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(){_(null),I(!0)}},kt.a.t("contacts.buttons.add")))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if($&&!c){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&m((function(t){return t+1}))}}},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{padding:"checkbox"}),a.a.createElement(Kr.a,null,kt.a.t("contacts.table.name")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("contacts.table.whatsapp")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("contacts.table.email")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("contacts.table.actions")))),a.a.createElement(Qr.a,null,a.a.createElement(a.a.Fragment,null,O.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{style:{paddingRight:0}},a.a.createElement(le.a,{src:t.profilePicUrl})),a.a.createElement(Kr.a,null,t.name),a.a.createElement(Kr.a,{align:"center"},t.number),a.a.createElement(Kr.a,{align:"center"},t.email),a.a.createElement(Kr.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){q(t),F(!0)}},a.a.createElement(U.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){return e=t.id,_(e),void I(!0);var e}},a.a.createElement(Jc.a,null)),a.a.createElement(Kt,{role:r.profile,perform:"contacts-page:deleteContact",yes:function(){return a.a.createElement(b.a,{size:"small",onClick:function(e){J(!0),H(t)}},a.a.createElement(Nn.a,null))}})))})),c&&a.a.createElement(Qi,{avatar:!0,columns:3}))))))},ou=r(514),iu=function(t){var e=t.onChange,r=t.currentColor,o=t.handleClose,i=t.open,c=Object(n.useState)(r),l=Object(u.a)(c,2),s=l[0],f=l[1];return a.a.createElement(Me.a,{onClose:o,"aria-labelledby":"simple-dialog-title",open:i},a.a.createElement(ou.a,{width:"100%",triangle:"hide",color:s,onChange:function(t){f(t.hex),o()},onChangeComplete:function(t){return e(t.hex)}}))},cu=r(909),uu=r(930),lu=r(907),su=r(920),fu=r(908),hu=r(366),du=r.n(hu),pu=r(504),mu=r.n(pu);function vu(){vu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var yu=Object(m.a)((function(t){return{root:Object(d.a)({width:"100%",height:400},t.breakpoints.down("sm"),{maxHeight:"20vh"}),button:{marginRight:t.spacing(1)},input:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},addButton:{marginTop:t.spacing(2),marginBottom:t.spacing(2)}}}));function gu(t){var e=t.queueId,r=t.options,o=t.updateOptions,i=yu(),c=Object(n.useState)(-1),l=Object(u.a)(c,2),s=l[0],f=l[1],d=function(t){return Object(A.a)(vu().mark((function n(){var a,i,c,u;return vu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f(t),void 0===(a=r[t])||void 0===a.id){n.next=16;break}return n.prev=3,n.next=6,Mt.request({url:"/queue-options",method:"GET",params:{queueId:e,parentId:a.id}});case 6:i=n.sent,c=i.data,u=c.map((function(t){return Object(h.a)(Object(h.a)({},t),{},{children:[],edition:!1})})),a.children=u,o(),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),Tt(n.t0);case 16:case"end":return n.stop()}}),n,null,[[3,13]])})))},p=function(){var t=Object(A.a)(vu().mark((function t(e){var r,n;return vu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.id){t.next=6;break}return t.next=4,Mt.request({url:"/queue-options/".concat(e.id),method:"PUT",data:e});case 4:t.next=11;break;case 6:return t.next=8,Mt.request({url:"/queue-options",method:"POST",data:e});case 8:r=t.sent,n=r.data,e.id=n.id;case 11:e.edition=!1,o(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),Tt(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),m=function(t){r[t].edition=!r[t].edition,o()},v=function(){var t=Object(A.a)(vu().mark((function t(e){var n;return vu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===(n=r[e])||void 0===n.id){t.next=10;break}return t.prev=2,t.next=5,Mt.request({url:"/queue-options/".concat(n.id),method:"DELETE"});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),Tt(t.t0);case 10:r.splice(e,1),r.forEach(function(){var t=Object(A.a)(vu().mark((function t(e,r){return vu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.option=r+1,t.next=3,p(e);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),o();case 13:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),y=function(t){var e=r[t];return e.edition?a.a.createElement(a.a.Fragment,null,a.a.createElement(Pe.a,{value:e.title,onChange:function(e){return function(t,e){r[e].title=t.target.value,o()}(e,t)},size:"small",className:i.input,placeholder:"T\xedtulo da op\xe7\xe3o"}),e.edition&&a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{color:"primary",variant:"outlined",size:"small",className:i.button,onClick:function(){return p(e)}},a.a.createElement(mu.a,null)),a.a.createElement(b.a,{variant:"outlined",color:"secondary",size:"small",className:i.button,onClick:function(){return v(t)}},a.a.createElement(Nn.a,null)))):a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,null,""!==e.title?e.title:"T\xedtulo n\xe3o definido",a.a.createElement(b.a,{variant:"outlined",size:"small",className:i.button,onClick:function(){return m(t)}},a.a.createElement(Jc.a,null))))},g=function(t){var e=r[t];return e.edition?a.a.createElement(a.a.Fragment,null,a.a.createElement(Pe.a,{style:{width:"100%"},multiline:!0,value:e.message,onChange:function(e){return function(t,e){r[e].message=t.target.value,o()}(e,t)},size:"small",className:i.input,placeholder:"Digite o texto da op\xe7\xe3o"})):a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{onClick:function(){return m(t)}},e.message))},E=function(t,n){return a.a.createElement(lu.a,{key:n},a.a.createElement(su.a,{style:{cursor:"pointer"},onClick:d(n)},y(n)),a.a.createElement(fu.a,null,g(n),void 0!==t.id&&a.a.createElement(a.a.Fragment,null,a.a.createElement(fe.a,{color:"primary",size:"small",onClick:function(){return function(t){var n=r[t].children.length+1;r[t].children.push({title:"",message:"",edition:!1,option:n,queueId:e,parentId:r[t].id,children:[]}),o()}(n)},startIcon:a.a.createElement(du.a,null),variant:"outlined",className:i.addButton},"Adicionar")),a.a.createElement(gu,{queueId:e,options:t.children,updateOptions:o})))};return a.a.createElement(uu.a,{style:{marginBottom:0,paddingBottom:0},nonLinear:!0,activeStep:s,orientation:"vertical"},r.map((function(t,e){return E(t,e)})))}function bu(t){var e=t.queueId,r=yu(),o=Object(n.useState)([]),i=Object(u.a)(o,2),c=i[0],l=i[1];Object(n.useEffect)((function(){e&&function(){var t=Object(A.a)(vu().mark((function t(){var r,n,a;return vu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.request({url:"/queue-options",method:"GET",params:{queueId:e,parentId:-1}});case 3:r=t.sent,n=r.data,a=n.map((function(t){return Object(h.a)(Object(h.a)({},t),{},{children:[],edition:!1})})),l(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Tt(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()()}),[]);var s=function(){l(Object(M.a)(c))};return a.a.createElement("div",{className:r.root},a.a.createElement("br",null),a.a.createElement(L.a,null,"Op\xe7\xf5es",a.a.createElement(fe.a,{color:"primary",size:"small",onClick:function(){var t={title:"",message:"",edition:!1,option:c.length+1,queueId:e,parentId:null,children:[]};l([].concat(Object(M.a)(c),[t]))},startIcon:a.a.createElement(du.a,null),style:{marginLeft:10},variant:"outlined"},"Adicionar")),function(){if(c.length>0)return a.a.createElement(gu,{queueId:e,updateOptions:s,options:c})}())}function Eu(){Eu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var wu=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:t.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:t.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),xu=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:Ie.c().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:Ie.c()}),Ou=function(t){var e=t.open,r=t.onClose,o=t.queueId,i=wu(),c={name:"",color:"",greetingMessage:"",outOfHoursMessage:""},l=Object(n.useState)(!1),s=Object(u.a)(l,2),d=s[0],p=s[1],m=Object(n.useState)(c),v=Object(u.a)(m,2),y=v[0],g=v[1],E=Object(n.useState)(0),w=Object(u.a)(E,2),x=w[0],O=w[1],L=Object(n.useState)(!1),j=Object(u.a)(L,2),k=j[0],S=j[1],_=Object(n.useRef)(),N=Object(n.useState)([{weekday:"Segunda-feira",weekdayEn:"monday",startTime:"",endTime:""},{weekday:"Ter\xe7a-feira",weekdayEn:"tuesday",startTime:"",endTime:""},{weekday:"Quarta-feira",weekdayEn:"wednesday",startTime:"",endTime:""},{weekday:"Quinta-feira",weekdayEn:"thursday",startTime:"",endTime:""},{weekday:"Sexta-feira",weekdayEn:"friday",startTime:"",endTime:""},{weekday:"S\xe1bado",weekdayEn:"saturday",startTime:"",endTime:""},{weekday:"Domingo",weekdayEn:"sunday",startTime:"",endTime:""}]),T=Object(u.a)(N,2),C=T[0],I=T[1];Object(n.useEffect)((function(){Mt.get("/settings").then((function(t){var e=t.data;if(Array.isArray(e)){var r=e.find((function(t){return"scheduleType"===t.key}));r&&S("queue"===r.value)}}))}),[]),Object(n.useEffect)((function(){return Object(A.a)(Eu().mark((function t(){var e,r;return Eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Mt.get("/queue/".concat(o));case 5:e=t.sent,r=e.data,g((function(t){return Object(h.a)(Object(h.a)({},t),r)})),I(r.schedules),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),Tt(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))(),function(){g({name:"",color:"",greetingMessage:""})}}),[o,e]);var P=function(){r(),g(c)},M=function(){var t=Object(A.a)(Eu().mark((function t(e){return Eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!o){t.next=6;break}return t.next=4,Mt.put("/queue/".concat(o),Object(h.a)(Object(h.a)({},e),{},{schedules:C}));case 4:t.next=8;break;case 6:return t.next=8,Mt.post("/queue",Object(h.a)(Object(h.a)({},e),{},{schedules:C}));case 8:f.b.success("Queue saved successfully"),P(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Tt(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=Object(A.a)(Eu().mark((function t(e){return Eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.b.success("Clique em salvar para registar as altera\xe7\xf5es"),I(e),O(0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:i.root},a.a.createElement(Me.a,{maxWidth:"lg",fullWidth:!0,open:e,onClose:P,scroll:"paper"},a.a.createElement(Re.a,null,"".concat(o?kt.a.t("queueModal.title.edit"):kt.a.t("queueModal.title.add"))),a.a.createElement(gn.a,{value:x,indicatorColor:"primary",textColor:"primary",onChange:function(t,e){return O(e)},"aria-label":"disabled tabs example"},a.a.createElement(bn.a,{label:"Dados da Fila"}),k&&a.a.createElement(bn.a,{label:"Hor\xe1rios de Atendimento"})),0===x&&a.a.createElement(tr.a,null,a.a.createElement(Ae.e,{initialValues:y,enableReinitialize:!0,validationSchema:xu,onSubmit:function(t,e){setTimeout((function(){M(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.isSubmitting,c=t.values;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:e.name&&Boolean(r.name),helperText:e.name&&r.name,variant:"outlined",margin:"dense",className:i.textField}),a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:function(){p(!0),_.current.focus()},error:e.color&&Boolean(r.color),helperText:e.color&&r.color,InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement("div",{style:{backgroundColor:c.color},className:i.colorAdorment})),endAdornment:a.a.createElement(b.a,{size:"small",color:"default",onClick:function(){return p(!0)}},a.a.createElement(cu.a,null))},variant:"outlined",margin:"dense",className:i.textField}),a.a.createElement(iu,{open:d,handleClose:function(){return p(!1)},onChange:function(t){c.color=t,g((function(){return Object(h.a)(Object(h.a)({},c),{},{color:t})}))}}),a.a.createElement("div",{style:{marginTop:5}},a.a.createElement(Er.a,{spacing:1,container:!0},a.a.createElement(Er.a,{xs:12,md:k?6:12,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:_,rows:5,fullWidth:!0,name:"greetingMessage",error:e.greetingMessage&&Boolean(r.greetingMessage),helperText:e.greetingMessage&&r.greetingMessage,variant:"outlined",margin:"dense"})),k&&a.a.createElement(Er.a,{xs:12,md:6,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:5,fullWidth:!0,name:"outOfHoursMessage",error:e.outOfHoursMessage&&Boolean(r.outOfHoursMessage),helperText:e.outOfHoursMessage&&r.outOfHoursMessage,variant:"outlined",margin:"dense"})))),a.a.createElement(bu,{queueId:o})),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:P,color:"secondary",disabled:n,variant:"outlined"},kt.a.t("queueModal.buttons.cancel")),a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?kt.a.t("queueModal.buttons.okEdit"):kt.a.t("queueModal.buttons.okAdd")),n&&a.a.createElement(he.a,{size:24,className:i.buttonProgress}))))}))),1===x&&a.a.createElement(tr.a,{style:{padding:20}},a.a.createElement(lc,{loading:!1,onSubmit:G,initialValues:C,labelSaveButton:"Adicionar"}))))};function Lu(){Lu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ju=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),ku=function(t,e){if("LOAD_QUEUES"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_QUEUES"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_QUEUE"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]},Su=function(){var t=ju(),e=Object(n.useReducer)(ku,[]),r=Object(u.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(!1),l=Object(u.a)(c,2),s=l[0],h=l[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(null),g=Object(u.a)(y,2),E=g[0],w=g[1],x=Object(n.useState)(!1),O=Object(u.a)(x,2),j=O[0],k=O[1];Object(n.useEffect)((function(){Object(A.a)(Lu().mark((function t(){var e,r;return Lu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,Mt.get("/queue");case 4:e=t.sent,r=e.data,i({type:"LOAD_QUEUES",payload:r}),h(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),Tt(t.t0),h(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()}),[]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-queue"),(function(t){"update"!==t.action&&"create"!==t.action||i({type:"UPDATE_QUEUES",payload:t.queue}),"delete"===t.action&&i({type:"DELETE_QUEUE",payload:t.queueId})})),function(){e.disconnect()}}),[]);var S=function(){var t=Object(A.a)(Lu().mark((function t(e){return Lu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/queue/".concat(e));case 3:f.b.success(kt.a.t("Queue deleted successfully!")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:w(null);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(ra,{title:E&&"".concat(kt.a.t("queues.confirmationModal.deleteTitle")," ").concat(E.name,"?"),open:j,onClose:function(){k(!1),w(null)},onConfirm:function(){return S(E.id)}},kt.a.t("queues.confirmationModal.deleteMessage")),a.a.createElement(Ou,{open:m,onClose:function(){v(!1),w(null)},queueId:null===E||void 0===E?void 0:E.id}),a.a.createElement(zi,null,a.a.createElement(Hi,null,kt.a.t("queues.title")),a.a.createElement(Ui,null,a.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(){v(!0),w(null)}},kt.a.t("queues.buttons.add")))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined"},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center"},kt.a.t("queues.table.name")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("queues.table.color")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("queues.table.greeting")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("queues.table.actions")))),a.a.createElement(Qr.a,null,a.a.createElement(a.a.Fragment,null,o.map((function(e){return a.a.createElement(Zr.a,{key:e.id},a.a.createElement(Kr.a,{align:"center"},e.name),a.a.createElement(Kr.a,{align:"center"},a.a.createElement("div",{className:t.customTableCell},a.a.createElement("span",{style:{backgroundColor:e.color,width:60,height:20,alignSelf:"center"}}))),a.a.createElement(Kr.a,{align:"center"},a.a.createElement("div",{className:t.customTableCell},a.a.createElement(L.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},e.greetingMessage))),a.a.createElement(Kr.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){w(t),v(!0)}(e)}},a.a.createElement(Ri.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){w(e),k(!0)}},a.a.createElement(Di.a,null))))})),s&&a.a.createElement(Qi,{columns:4}))))))},_u=r(520);function Nu(){Nu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Tu=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:t.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:t.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),Cu=Ie.b().shape({name:Ie.c().min(3,"Mensagem muito curta").required("Obrigat\xf3rio")}),Iu=function(t){var e=t.open,r=t.onClose,o=t.tagId,i=t.reload,c=Tu(),l=Object(n.useContext)(Ht).user,s=Object(n.useState)(!1),d=Object(u.a)(s,2),p=d[0],m=d[1],v={name:"",color:""},y=Object(n.useState)(v),g=Object(u.a)(y,2),E=g[0],w=g[1];Object(n.useEffect)((function(){try{Object(A.a)(Nu().mark((function t(){var e,r;return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Mt.get("/tags/".concat(o));case 4:e=t.sent,r=e.data,w((function(t){return Object(h.a)(Object(h.a)({},t),r)}));case 7:case"end":return t.stop()}}),t)})))()}catch(t){Tt(t)}}),[o,e]);var x=function(){w(v),m(!1),r()},O=function(){var t=Object(A.a)(Nu().mark((function t(e){var r;return Nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(h.a)(Object(h.a)({},e),{},{userId:l.id}),t.prev=1,!o){t.next=7;break}return t.next=5,Mt.put("/tags/".concat(o),r);case 5:t.next=9;break;case 7:return t.next=9,Mt.post("/tags",r);case 9:f.b.success(kt.a.t("tagModal.success")),"function"==typeof i&&i(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),Tt(t.t0);case 16:x();case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:c.root},a.a.createElement(Me.a,{open:e,onClose:x,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(Re.a,{id:"form-dialog-title"},"".concat(o?kt.a.t("tagModal.title.edit"):kt.a.t("tagModal.title.add"))),a.a.createElement(Ae.e,{initialValues:E,enableReinitialize:!0,validationSchema:Cu,onSubmit:function(t,e){setTimeout((function(){O(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.isSubmitting,i=t.values;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("tagModal.form.name"),name:"name",error:e.name&&Boolean(r.name),helperText:e.name&&r.name,variant:"outlined",margin:"dense",onChange:function(t){return w((function(e){return Object(h.a)(Object(h.a)({},e),{},{name:t.target.value})}))},fullWidth:!0})),a.a.createElement("br",null),a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(Ae.b,{as:Pe.a,fullWidth:!0,label:kt.a.t("tagModal.form.color"),name:"color",id:"color",error:e.color&&Boolean(r.color),helperText:e.color&&r.color,InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement("div",{style:{backgroundColor:i.color},className:c.colorAdorment})),endAdornment:a.a.createElement(b.a,{size:"small",color:"default",onClick:function(){return m(!p)}},a.a.createElement(cu.a,null))},variant:"outlined",margin:"dense"})),p&&a.a.createElement("div",null,a.a.createElement(_u.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:E.color,onChange:function(t){w((function(e){return Object(h.a)(Object(h.a)({},e),{},{color:"#".concat(t.hex)})}))}}))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:x,color:"secondary",disabled:n,variant:"outlined"},kt.a.t("tagModal.buttons.cancel")),a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?kt.a.t("tagModal.buttons.okEdit"):kt.a.t("tagModal.buttons.okAdd")),n&&a.a.createElement(he.a,{size:24,className:c.buttonProgress}))))}))))};function Au(){Au=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Pu=function(t,e){if("LOAD_TAGS"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_TAGS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_TAG"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]},Mu=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),Gu=function(){var t=Mu(),e=Object(n.useContext)(Ht).user,r=Object(n.useState)(!1),o=Object(u.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)(1),s=Object(u.a)(l,2),h=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)(null),E=Object(u.a)(g,2),w=E[0],x=E[1],O=Object(n.useState)(null),L=Object(u.a)(O,2),j=L[0],k=L[1],S=Object(n.useState)(!1),_=Object(u.a)(S,2),N=_[0],T=_[1],C=Object(n.useState)(""),I=Object(u.a)(C,2),P=I[0],M=I[1],G=Object(n.useReducer)(Pu,[]),F=Object(u.a)(G,2),R=F[0],D=F[1],W=Object(n.useState)(!1),q=Object(u.a)(W,2),Y=q[0],z=q[1],B=Object(n.useCallback)(Object(A.a)(Au().mark((function t(){var e,r;return Au().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/tags/",{params:{searchParam:P,pageNumber:h}});case 3:e=t.sent,r=e.data,D({type:"LOAD_TAGS",payload:r.tags}),y(r.hasMore),c(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),[P,h]);Object(n.useEffect)((function(){D({type:"RESET"}),d(1)}),[P]),Object(n.useEffect)((function(){c(!0);var t=setTimeout((function(){B()}),500);return function(){return clearTimeout(t)}}),[P,h,B]),Object(n.useEffect)((function(){var t=Rt({companyId:e.companyId});return t.on("user",(function(t){"update"!==t.action&&"create"!==t.action||D({type:"UPDATE_TAGS",payload:t.tags}),"delete"===t.action&&D({type:"DELETE_USER",payload:+t.tagId})})),function(){t.disconnect()}}),[e]);var U=function(){var t=Object(A.a)(Au().mark((function t(e){return Au().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/tags/".concat(e));case 3:f.b.success(kt.a.t("tags.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:return k(null),M(""),d(1),D({type:"RESET"}),d(1),t.next=16,B();case 16:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(ra,{title:j&&"".concat(kt.a.t("tags.confirmationModal.deleteTitle")),open:N,onClose:T,onConfirm:function(){return U(j.id)}},kt.a.t("tags.confirmationModal.deleteMessage")),a.a.createElement(Iu,{open:Y,onClose:function(){x(null),z(!1)},reload:B,"aria-labelledby":"form-dialog-title",tagId:w&&w.id}),a.a.createElement(zi,null,a.a.createElement(Hi,null,kt.a.t("tags.title")),a.a.createElement(Ui,null,a.a.createElement(Pe.a,{placeholder:kt.a.t("contacts.searchPlaceholder"),type:"search",value:P,onChange:function(t){M(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement(vn.a,{style:{color:"gray"}}))}}),a.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(){x(null),z(!0)}},kt.a.t("tags.buttons.add")))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if(v&&!i){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&d((function(t){return t+1}))}}},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center"},kt.a.t("tags.table.name")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("tags.table.tickets")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("tags.table.actions")))),a.a.createElement(Qr.a,null,a.a.createElement(a.a.Fragment,null,R.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center"},a.a.createElement(Ye.a,{variant:"outlined",style:{backgroundColor:t.color,textShadow:"1px 1px 1px #000",color:"white"},label:t.name,size:"small"})),a.a.createElement(Kr.a,{align:"center"},t.ticketsCount),a.a.createElement(Kr.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){x(t),z(!0)}(t)}},a.a.createElement(Jc.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(e){T(!0),k(t)}},a.a.createElement(Nn.a,null))))})),i&&a.a.createElement(Qi,{columns:4}))))))};function Fu(){Fu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Ru=Object(m.a)((function(t){return{mainPaper:{flex:1,padding:t.spacing(2),paddingBottom:100},mainHeader:{marginTop:t.spacing(1)},elementMargin:{marginTop:t.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:"right"}}})),Du=function(){var t=Ru(),e=Object(n.useState)({token:"",number:"",body:""}),r=Object(u.a)(e,1)[0],o=Object(n.useState)({token:"",number:"",medias:""}),i=Object(u.a)(o,1)[0],c=Object(n.useState)({}),l=Object(u.a)(c,2),s=l[0],h=l[1],d=function(){var t=Object(A.a)(Fu().mark((function t(e){var r,n,a;return Fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.number,n=e.body,a={number:r,body:n},t.prev=2,t.next=5,Mt.request({url:"/api/messages/send",method:"POST",data:a,headers:{"Content-type":"application/json",X_TOKEN:e.token}});case 5:f.b.success("Mensagem enviada com sucesso"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),Tt(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(A.a)(Fu().mark((function t(e){var r,n;return Fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=s[0],(n=new FormData).append("number",e.number),n.append("body",r.name),n.append("medias",r),t.next=8,Mt.request({url:"/api/messages/send",method:"POST",data:n,headers:{"Content-type":"multipart/form-data",X_TOKEN:e.token}});case 8:f.b.success("Mensagem enviada com sucesso"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Tt(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined"},a.a.createElement(L.a,{variant:"h5"},"Documenta\xe7\xe3o para envio de mensagens"),a.a.createElement(L.a,{variant:"h6",color:"primary",className:t.elementMargin},"M\xe9todos de Envio"),a.a.createElement(L.a,{component:"div"},a.a.createElement("ol",null,a.a.createElement("li",null,"Mensagens de Texto"),a.a.createElement("li",null,"Mensagens de Media"))),a.a.createElement(L.a,{variant:"h6",color:"primary",className:t.elementMargin},"Instru\xe7\xf5es"),a.a.createElement(L.a,{className:t.elementMargin,component:"div"},a.a.createElement("b",null,"Observa\xe7\xf5es importantes"),a.a.createElement("br",null),a.a.createElement("ul",null,a.a.createElement("li",null,"Antes de enviar mensagens, \xe9 necess\xe1rio o cadastro do token vinculado \xe0 conex\xe3o que enviar\xe1 as mensagens. ",a.a.createElement("br",null),'Para realizar o cadastro acesse o menu "Conex\xf5es", clique no bot\xe3o editar da conex\xe3o e insira o token no devido campo.'),a.a.createElement("li",null,"O n\xfamero para envio n\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:",a.a.createElement("ul",null,a.a.createElement("li",null,"C\xf3digo do pa\xeds"),a.a.createElement("li",null,"DDD"),a.a.createElement("li",null,"N\xfamero"))))),a.a.createElement(L.a,{variant:"h6",color:"primary",className:t.elementMargin},"1. Mensagens de Texto"),a.a.createElement(Er.a,{container:!0},a.a.createElement(Er.a,{item:!0,xs:12,sm:6},a.a.createElement(L.a,{className:t.elementMargin,component:"div"},a.a.createElement("p",null,"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"),a.a.createElement("b",null,"Endpoint: ")," ","http://localhost:8082api/messages/send"," ",a.a.createElement("br",null),a.a.createElement("b",null,"M\xe9todo: ")," POST ",a.a.createElement("br",null),a.a.createElement("b",null,"Headers: ")," X_TOKEN (token cadastrado) e Content-Type (application/json) ",a.a.createElement("br",null),a.a.createElement("b",null,"Body: ")," ",'{ "number": "558599999999", "body": "Sua mensagem" }')),a.a.createElement(Er.a,{item:!0,xs:12,sm:6},a.a.createElement(L.a,{className:t.elementMargin},a.a.createElement("b",null,"Teste de Envio")),a.a.createElement(Ae.e,{initialValues:r,enableReinitialize:!0,onSubmit:function(t,e){setTimeout(Object(A.a)(Fu().mark((function r(){return Fu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d(t);case 2:e.setSubmitting(!1),e.resetForm();case 4:case"end":return r.stop()}}),r)}))),400)},className:t.elementMargin},(function(e){var r=e.isSubmitting;return a.a.createElement(Ae.d,{className:t.formContainer},a.a.createElement(Er.a,{container:!0,spacing:2},a.a.createElement(Er.a,{item:!0,xs:12,md:6},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("messagesAPI.textMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:t.textField,required:!0})),a.a.createElement(Er.a,{item:!0,xs:12,md:6},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("messagesAPI.textMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:t.textField,required:!0})),a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:t.textField,required:!0})),a.a.createElement(Er.a,{item:!0,xs:12,className:t.textRight},a.a.createElement(fe.a,{type:"submit",color:"primary",variant:"contained",className:t.btnWrapper},r?a.a.createElement(he.a,{size:24,className:t.buttonProgress}):"Enviar"))))})))),a.a.createElement(L.a,{variant:"h6",color:"primary",className:t.elementMargin},"2. Mensagens de Media"),a.a.createElement(Er.a,{container:!0},a.a.createElement(Er.a,{item:!0,xs:12,sm:6},a.a.createElement(L.a,{className:t.elementMargin,component:"div"},a.a.createElement("p",null,"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"),a.a.createElement("b",null,"Endpoint: ")," ","http://localhost:8082api/messages/send"," ",a.a.createElement("br",null),a.a.createElement("b",null,"M\xe9todo: ")," POST ",a.a.createElement("br",null),a.a.createElement("b",null,"Headers: ")," X_TOKEN (token cadastrado) e Content-Type (multipart/form-data) ",a.a.createElement("br",null),a.a.createElement("b",null,"FormData: ")," ",a.a.createElement("br",null),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("b",null,"number: ")," 558599999999"),a.a.createElement("li",null,a.a.createElement("b",null,"medias: ")," arquivo")))),a.a.createElement(Er.a,{item:!0,xs:12,sm:6},a.a.createElement(L.a,{className:t.elementMargin},a.a.createElement("b",null,"Teste de Envio")),a.a.createElement(Ae.e,{initialValues:i,enableReinitialize:!0,onSubmit:function(t,e){setTimeout(Object(A.a)(Fu().mark((function r(){return Fu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(t,s),r.next=3,p(t);case 3:e.setSubmitting(!1),e.resetForm(),document.getElementById("medias").files=null,document.getElementById("medias").value=null;case 7:case"end":return r.stop()}}),r)}))),400)},className:t.elementMargin},(function(e){var r=e.isSubmitting;return a.a.createElement(Ae.d,{className:t.formContainer},a.a.createElement(Er.a,{container:!0,spacing:2},a.a.createElement(Er.a,{item:!0,xs:12,md:6},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("messagesAPI.mediaMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:t.textField,required:!0})),a.a.createElement(Er.a,{item:!0,xs:12,md:6},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("messagesAPI.mediaMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:t.textField,required:!0})),a.a.createElement(Er.a,{item:!0,xs:12},a.a.createElement("input",{type:"file",name:"medias",id:"medias",required:!0,onChange:function(t){return h(t.target.files)}})),a.a.createElement(Er.a,{item:!0,xs:12,className:t.textRight},a.a.createElement(fe.a,{type:"submit",color:"primary",variant:"contained",className:t.btnWrapper},r?a.a.createElement(he.a,{size:24,className:t.buttonProgress}):"Enviar"))))})))))},Wu=r(925),qu=r(910),Yu=r(911);function zu(){zu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Bu=Object(m.a)((function(t){return{mainPaper:Object(h.a)({width:"100%",minHeight:"200px",overflowY:"scroll"},t.scrollbarStyles),heading:{fontSize:t.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:t.typography.pxToRem(15),color:t.palette.text.secondary}}})),Uu=function(){var t=Bu(),e=Object(n.useState)([]),r=Object(u.a)(e,2),o=r[0],i=r[1],c=Ic().list;Object(n.useEffect)((function(){function t(){return(t=Object(A.a)(zu().mark((function t(){var e;return zu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:e=t.sent,i(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);return a.a.createElement(qi,null,a.a.createElement(zi,null,a.a.createElement(Hi,null,kt.a.t("helps.title")),a.a.createElement(Ui,null)),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined"},a.a.createElement(a.a.Fragment,null,o.length?o.map((function(e,r){return a.a.createElement(Wu.a,{key:r},a.a.createElement(qu.a,{expandIcon:a.a.createElement(yt.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},a.a.createElement(L.a,{className:t.heading},e.title),a.a.createElement(L.a,{className:t.secondaryHeading},e.description)),a.a.createElement(Yu.a,null,a.a.createElement(L.a,null,function(t){var e="https://www.youtube.com/embed/".concat(t.video);return a.a.createElement("iframe",{style:{width:700,height:500},src:e,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}(e))))})):null)))},Hu=r(505),Vu=r.n(Hu);function Qu(){Qu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Ku=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:t.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:t.spacing(1),minWidth:120}}})),Ju=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),Xu=function(t){var e=t.open,r=t.onClose,o=t.contactListId,i=Ku(),c={name:""},l=Object(n.useState)(c),s=Object(u.a)(l,2),d=s[0],p=s[1];Object(n.useEffect)((function(){(function(){var t=Object(A.a)(Qu().mark((function t(){var e,r;return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Mt.get("/contact-lists/".concat(o));case 5:e=t.sent,r=e.data,p((function(t){return Object(h.a)(Object(h.a)({},t),r)})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}})()()}),[o,e]);var m=function(){r(),p(c)},v=function(){var t=Object(A.a)(Qu().mark((function t(e){var r;return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(h.a)({},e),t.prev=1,!o){t.next=7;break}return t.next=5,Mt.put("/contact-lists/".concat(o),r);case 5:t.next=9;break;case 7:return t.next=9,Mt.post("/contact-lists",r);case 9:f.b.success(kt.a.t("contactList.dialog")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),Tt(t.t0);case 15:m();case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:i.root},a.a.createElement(Me.a,{open:e,onClose:m,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(Re.a,{id:"form-dialog-title"},"".concat(o?kt.a.t("contactLists.dialog.edit"):kt.a.t("contactLists.dialog.add"))),a.a.createElement(Ae.e,{initialValues:d,enableReinitialize:!0,validationSchema:Ju,onSubmit:function(t,e){setTimeout((function(){v(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.isSubmitting;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactLists.dialog.name"),autoFocus:!0,name:"name",error:e.name&&Boolean(r.name),helperText:e.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0}))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:m,color:"secondary",disabled:n,variant:"outlined"},kt.a.t("contactLists.dialog.cancel")),a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?kt.a.t("contactLists.dialog.okEdit"):kt.a.t("contactLists.dialog.okAdd")),n&&a.a.createElement(he.a,{size:24,className:i.buttonProgress}))))}))))},Zu=r(300),$u=r.n(Zu);function tl(){tl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var el=function(t,e){if("LOAD_CONTACTLISTS"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_CONTACTLIST"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_CONTACTLIST"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]},rl=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),nl=function(){var t=rl(),e=Object(s.g)(),r=Object(n.useState)(!1),o=Object(u.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)(1),h=Object(u.a)(l,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(u.a)(m,2),y=v[0],g=v[1],E=Object(n.useState)(null),w=Object(u.a)(E,2),x=w[0],O=w[1],L=Object(n.useState)(null),j=Object(u.a)(L,2),k=j[0],S=j[1],_=Object(n.useState)(!1),N=Object(u.a)(_,2),T=N[0],C=N[1],I=Object(n.useState)(!1),P=Object(u.a)(I,2),M=P[0],G=P[1],F=Object(n.useState)(""),R=Object(u.a)(F,2),D=R[0],W=R[1],q=Object(n.useReducer)(el,[]),Y=Object(u.a)(q,2),z=Y[0],B=Y[1];Object(n.useEffect)((function(){B({type:"RESET"}),p(1)}),[D]),Object(n.useEffect)((function(){c(!0);var t=setTimeout((function(){(function(){var t=Object(A.a)(tl().mark((function t(){var e,r;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/contact-lists/",{params:{searchParam:D,pageNumber:d}});case 3:e=t.sent,r=e.data,B({type:"LOAD_CONTACTLISTS",payload:r.records}),g(r.hasMore),c(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[D,d]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-ContactList"),(function(t){"update"!==t.action&&"create"!==t.action||B({type:"UPDATE_CONTACTLIST",payload:t.record}),"delete"===t.action&&B({type:"DELETE_CONTACTLIST",payload:+t.id})})),function(){e.disconnect()}}),[]);var U=function(){var t=Object(A.a)(tl().mark((function t(e){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/contact-lists/".concat(e));case 3:f.b.success(kt.a.t("contactLists.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:S(null),W(""),p(1);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(ra,{title:k&&"".concat(kt.a.t("contactLists.confirmationModal.deleteTitle")," ").concat(k.name,"?"),open:M,onClose:G,onConfirm:function(){return U(k.id)}},kt.a.t("contactLists.confirmationModal.deleteMessage")),a.a.createElement(Xu,{open:T,onClose:function(){O(null),C(!1)},"aria-labelledby":"form-dialog-title",contactListId:x&&x.id}),a.a.createElement(zi,null,a.a.createElement(Er.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Er.a,{xs:12,sm:8,item:!0},a.a.createElement(Hi,null,kt.a.t("contactLists.title"))),a.a.createElement(Er.a,{xs:12,sm:4,item:!0},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:7,sm:6,item:!0},a.a.createElement(Pe.a,{fullWidth:!0,placeholder:kt.a.t("contacts.searchPlaceholder"),type:"search",value:D,onChange:function(t){W(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement(vn.a,{style:{color:"gray"}}))}})),a.a.createElement(Er.a,{xs:5,sm:6,item:!0},a.a.createElement(fe.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){O(null),C(!0)}},kt.a.t("contactLists.buttons.add"))))))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if(y&&!i){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&p((function(t){return t+1}))}}},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center"},kt.a.t("contactLists.table.name")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("contactLists.table.contacts")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("contactLists.table.actions")))),a.a.createElement(Qr.a,null,a.a.createElement(a.a.Fragment,null,z.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center"},t.name),a.a.createElement(Kr.a,{align:"center"},t.contactsCount||0),a.a.createElement(Kr.a,{align:"center"},a.a.createElement("a",{href:$u.a,download:"planilha.xlsx"},a.a.createElement(b.a,{size:"small",title:"Baixar Planilha Exemplo"},a.a.createElement(Vu.a,null))),a.a.createElement(b.a,{size:"small",onClick:function(){return r=t.id,void e.push("/contact-lists/".concat(r,"/contacts"));var r}},a.a.createElement(bt.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){O(t),C(!0)}(t)}},a.a.createElement(Jc.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(e){G(!0),S(t)}},a.a.createElement(Nn.a,null))))})),i&&a.a.createElement(Qi,{columns:3}))))))},al=r(506),ol=r.n(al);function il(){il=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var cl=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:t.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),ul=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:Ie.c().min(8,"Too Short!").max(50,"Too Long!"),email:Ie.c().email("Invalid email")}),ll=function(t){var e=t.open,r=t.onClose,o=t.contactId,i=t.initialValues,c=t.onSave,l=cl(),d=Object(n.useRef)(!0),p=Object(n.useContext)(Ht).user.companyId,m=Object(s.h)().contactListId,v={name:"",number:"",email:""},y=Object(n.useState)(v),g=Object(u.a)(y,2),b=g[0],E=g[1];Object(n.useEffect)((function(){return function(){d.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var t=Object(A.a)(il().mark((function t(){var e,r;return il().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i&&E((function(t){return Object(h.a)(Object(h.a)({},t),i)})),o){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,Mt.get("/contact-list-items/".concat(o));case 6:e=t.sent,r=e.data,d.current&&E(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Tt(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}})()()}),[o,e,i]);var w=function(){r(),E(v)},x=function(){var t=Object(A.a)(il().mark((function t(e){var r,n;return il().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!o){t.next=7;break}return t.next=4,Mt.put("/contact-list-items/".concat(o),Object(h.a)(Object(h.a)({},e),{},{companyId:p,contactListId:m}));case 4:w(),t.next=13;break;case 7:return t.next=9,Mt.post("/contact-list-items",Object(h.a)(Object(h.a)({},e),{},{companyId:p,contactListId:m}));case 9:r=t.sent,n=r.data,c&&c(n),w();case 13:f.b.success(kt.a.t("contactModal.success")),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),Tt(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:l.root},a.a.createElement(Me.a,{open:e,onClose:w,maxWidth:"lg",scroll:"paper"},a.a.createElement(Re.a,{id:"form-dialog-title"},"".concat(o?kt.a.t("contactModal.title.edit"):kt.a.t("contactModal.title.add"))),a.a.createElement(Ae.e,{initialValues:b,enableReinitialize:!0,validationSchema:ul,onSubmit:function(t,e){setTimeout((function(){x(t),e.setSubmitting(!1)}),400)}},(function(t){t.values;var e=t.errors,r=t.touched,n=t.isSubmitting;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement(L.a,{variant:"subtitle1",gutterBottom:!0},kt.a.t("contactModal.form.mainInfo")),a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:r.name&&Boolean(e.name),helperText:r.name&&e.name,variant:"outlined",margin:"dense",className:l.textField}),a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.number"),name:"number",error:r.number&&Boolean(e.number),helperText:r.number&&e.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),a.a.createElement("div",null,a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("contactModal.form.email"),name:"email",error:r.email&&Boolean(e.email),helperText:r.email&&e.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"}))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:w,color:"secondary",disabled:n,variant:"outlined"},kt.a.t("contactModal.buttons.cancel")),a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:l.btnWrapper},"".concat(o?kt.a.t("contactModal.buttons.okEdit"):kt.a.t("contactModal.buttons.okAdd")),n&&a.a.createElement(he.a,{size:24,className:l.buttonProgress}))))}))))};function sl(){sl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var fl=function(){var t=function(){var t=Object(A.a)(sl().mark((function t(e){var r,n;return sl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/contact-lists",method:"POST",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e=function(){var t=Object(A.a)(sl().mark((function t(e){var r,n;return sl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/contact-lists/".concat(e.id),method:"PUT",data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(A.a)(sl().mark((function t(e){var r,n;return sl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/contact-lists/".concat(e),method:"DELETE"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{findById:function(){var t=Object(A.a)(sl().mark((function t(e){var r,n;return sl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/contact-lists/".concat(e),method:"GET"});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),save:t,update:e,deleteRecord:r,list:function(){var t=Object(A.a)(sl().mark((function t(e){var r,n;return sl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.request({url:"/contact-lists/list",method:"GET",params:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function hl(){hl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var dl=function(t,e){if("LOAD_CONTACTS"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_CONTACTS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_CONTACT"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]},pl=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),ml=function(){var t=pl(),e=Object(n.useContext)(Ht).user,r=Object(s.h)().contactListId,o=Object(s.g)(),i=Object(n.useState)(!1),c=Object(u.a)(i,2),l=c[0],h=c[1],d=Object(n.useState)(1),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(""),g=Object(u.a)(y,2),E=g[0],w=g[1],x=Object(n.useReducer)(dl,[]),O=Object(u.a)(x,2),L=O[0],j=O[1],k=Object(n.useState)(null),S=Object(u.a)(k,2),_=S[0],N=S[1],T=Object(n.useState)(!1),C=Object(u.a)(T,2),I=C[0],P=C[1],M=Object(n.useState)(null),G=Object(u.a)(M,2),F=G[0],R=G[1],D=Object(n.useState)(!1),W=Object(u.a)(D,2),q=W[0],Y=W[1],z=Object(n.useState)(!1),B=Object(u.a)(z,2),U=B[0],H=B[1],V=Object(n.useState)({}),Q=Object(u.a)(V,2),K=Q[0],J=Q[1],X=Object(n.useRef)(null),Z=fl().findById;Object(n.useEffect)((function(){Z(r).then((function(t){J(t)}))}),[r]),Object(n.useEffect)((function(){j({type:"RESET"}),v(1)}),[E]),Object(n.useEffect)((function(){h(!0);var t=setTimeout((function(){(function(){var t=Object(A.a)(hl().mark((function t(){var e,n;return hl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("contact-list-items",{params:{searchParam:E,pageNumber:m,contactListId:r}});case 3:e=t.sent,n=e.data,j({type:"LOAD_CONTACTS",payload:n.contacts}),H(n.hasMore),h(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[E,m,r]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-ContactListItem"),(function(t){"update"!==t.action&&"create"!==t.action||j({type:"UPDATE_CONTACTS",payload:t.record}),"delete"===t.action&&j({type:"DELETE_CONTACT",payload:+t.id}),"reload"===t.action&&j({type:"LOAD_CONTACTS",payload:t.records})})),e.on("company-".concat(t,"-ContactListItem-").concat(r),(function(t){"reload"===t.action&&j({type:"LOAD_CONTACTS",payload:t.records})})),function(){e.disconnect()}}),[r]);var $=function(){var t=Object(A.a)(hl().mark((function t(e){return hl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/contact-list-items/".concat(e));case 3:f.b.success(kt.a.t("contacts.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:R(null),w(""),v(1);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=Object(A.a)(hl().mark((function t(){var e;return hl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(e=new FormData).append("file",X.current.files[0]),t.next=5,Mt.request({url:"contact-lists/".concat(r,"/upload"),method:"POST",data:e});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Tt(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(qi,{className:t.mainContainer},a.a.createElement(ll,{open:I,onClose:function(){N(null),P(!1)},"aria-labelledby":"form-dialog-title",contactId:_}),a.a.createElement(ra,{title:F?"".concat(kt.a.t("contactListItems.confirmationModal.deleteTitle")," ").concat(F.name,"?"):"".concat(kt.a.t("contactListItems.confirmationModal.importTitlte")),open:q,onClose:Y,onConfirm:function(){return F?$(F.id):tt()}},F?"".concat(kt.a.t("contactListItems.confirmationModal.deleteMessage")):a.a.createElement(a.a.Fragment,null,kt.a.t("contactListItems.confirmationModal.importMessage"),a.a.createElement("a",{href:$u.a,download:"planilha.xlsx"},"Clique aqui para baixar planilha exemplo."))),a.a.createElement(zi,null,a.a.createElement(Er.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Er.a,{xs:12,sm:5,item:!0},a.a.createElement(Hi,null,K.name)),a.a.createElement(Er.a,{xs:12,sm:7,item:!0},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,sm:6,item:!0},a.a.createElement(Pe.a,{fullWidth:!0,placeholder:kt.a.t("contactListItems.searchPlaceholder"),type:"search",value:E,onChange:function(t){w(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement(vn.a,{style:{color:"gray"}}))}})),a.a.createElement(Er.a,{xs:4,sm:2,item:!0},a.a.createElement(fe.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){o.push("/contact-lists")}},kt.a.t("contactListItems.buttons.lists"))),a.a.createElement(Er.a,{xs:4,sm:2,item:!0},a.a.createElement(fe.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){X.current.value=null,X.current.click()}},kt.a.t("contactListItems.buttons.import"))),a.a.createElement(Er.a,{xs:4,sm:2,item:!0},a.a.createElement(fe.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){N(null),P(!0)}},kt.a.t("contactListItems.buttons.add"))))))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if(U&&!l){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&v((function(t){return t+1}))}}},a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:function(){Y(!0)},ref:X})),a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center",style:{width:"0%"}},"#"),a.a.createElement(Kr.a,null,kt.a.t("contactListItems.table.name")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("contactListItems.table.number")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("contactListItems.table.email")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("contactListItems.table.actions")))),a.a.createElement(Qr.a,null,a.a.createElement(a.a.Fragment,null,L.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center",style:{width:"0%"}},a.a.createElement(b.a,null,t.isWhatsappValid?a.a.createElement(en.a,{titleAccess:"Whatsapp V\xe1lido",htmlColor:"green"}):a.a.createElement(ol.a,{titleAccess:"Whatsapp Inv\xe1lido",htmlColor:"grey"}))),a.a.createElement(Kr.a,null,t.name),a.a.createElement(Kr.a,{align:"center"},t.number),a.a.createElement(Kr.a,{align:"center"},t.email),a.a.createElement(Kr.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return e=t.id,N(e),void P(!0);var e}},a.a.createElement(Jc.a,null)),a.a.createElement(Kt,{role:e.profile,perform:"contacts-page:deleteContact",yes:function(){return a.a.createElement(b.a,{size:"small",onClick:function(){Y(!0),R(t)}},a.a.createElement(Nn.a,null))}})))})),l&&a.a.createElement(Qi,{columns:4}))))))};var vl=function(t){var e=t.messages,r=t.showLoading,o=t.editMessage,i=t.deleteMessage,c=t.readOnly,l=Object(n.useState)(!0),s=Object(u.a)(l,2),f=s[0],h=s[1],d=Object(n.useState)([]),p=Object(u.a)(d,2),m=p[0],v=p[1];return Object(n.useEffect)((function(){Array.isArray(e)&&v(e),void 0!==r&&h(r)}),[e,r]),a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center"},"Atalho"),a.a.createElement(Kr.a,{align:"left"},"Mensagem"),c?null:a.a.createElement(Kr.a,{align:"center"},"A\xe7\xf5es"))),a.a.createElement(Qr.a,null,f?a.a.createElement(Qi,{columns:c?2:3}):m.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center"},t.shortcode),a.a.createElement(Kr.a,{align:"left"},t.message),c?null:a.a.createElement(Kr.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){o(t)}(t)}},a.a.createElement(Ri.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){i(t)}(t)}},a.a.createElement(Di.a,null))))}))))},yl=r(2),gl=r.n(yl);var bl=function(t){var e=t.title,r=t.modalOpen,o=t.onClose,i=t.children,c=Object(n.useState)(!1),l=Object(u.a)(c,2),s=l[0],f=l[1];return Object(n.useEffect)((function(){f(r)}),[r]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Me.a,{open:s,onClose:function(){f(!1),o()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(Re.a,{id:"alert-dialog-title"},e),i))};function El(){El=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var wl=Ie.b().shape({shortcode:Ie.c().min(3,"Too Short!").max(50,"Too Long!").required("Required"),message:Ie.c().min(3,"Too Short!").max(500,"Too Long!").required("Required")}),xl=Object(m.a)((function(t){return{root:{"& .MuiTextField-root":{margin:t.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:t.palette.background.paper},inline:{width:"100%"}}}));function Ol(t){var e=xl(),r={id:null,shortcode:"",message:""},o=t.modalOpen,i=t.saveMessage,c=t.editMessage,l=t.onClose,s=t.messageSelected,f=Object(n.useState)(!1),d=Object(u.a)(f,2),p=d[0],m=d[1],v=Object(n.useState)(r),y=Object(u.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(u.a)(E,2),x=w[0],O=w[1],L=Object(n.useContext)(Ht).user;Object(n.useEffect)((function(){k(),m(o)}),[o]),Object(n.useEffect)((function(){k()}),[s]);var j=function(){return Object(Nt.isObject)(s)&&Object(Nt.has)(s,"id")&&!Object(Nt.isNil)(Object(Nt.get)(s,"id"))},k=function(){if(j()){var t=s.id,e=s.message,n=s.shortcode;b({id:t,message:e,shortcode:n})}else b(r)},S=function(){l(),O(!1)},_=function(){var t=Object(A.a)(El().mark((function t(e){return El().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j()?c(Object(h.a)(Object(h.a)(Object(h.a)({},s),e),{},{userId:L.id})):i(Object(h.a)(Object(h.a)({},e),{},{userId:L.id})),S();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(bl,{title:"Mensagem R\xe1pida",modalOpen:p,onClose:S},a.a.createElement(Ae.e,{initialValues:g,enableReinitialize:!0,validationSchema:wl,onSubmit:function(t,e){O(!0),setTimeout((function(){_(t),e.setSubmitting(!1)}),400)}},(function(t){var r=t.touched,n=t.errors;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{className:e.root,dividers:!0},a.a.createElement(Er.a,{direction:"column",container:!0},a.a.createElement(Er.a,{item:!0},a.a.createElement(Ae.b,{as:Pe.a,name:"shortcode",label:kt.a.t("quickMessages.dialog.shortcode"),error:r.shortcode&&Boolean(n.shortcode),helperText:r.shortcode&&n.shortcode,variant:"outlined"})),a.a.createElement(Er.a,{item:!0},a.a.createElement(Ae.b,{as:Pe.a,name:"message",rows:6,label:kt.a.t("quickMessages.dialog.message"),multiline:!0,error:r.message&&Boolean(n.message),helperText:r.message&&n.message,variant:"outlined"})))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:S,color:"primary"},"Cancelar"),a.a.createElement(me,{loading:x,color:"primary",type:"submit",variant:"contained",autoFocus:!0},"Salvar")))})))}Ol.propType={modalOpen:gl.a.bool,onClose:gl.a.func};var Ll=Ol;function jl(){jl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var kl=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}}));var Sl=function(t){var e=kl(),r=Object(n.useState)([]),o=Object(u.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)(!1),s=Object(u.a)(l,2),h=s[0],d=s[1],p=Object(n.useState)(!1),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)({}),b=Object(u.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(u.a)(x,2),L=O[0],j=O[1],k=No(),S=k.list,_=k.save,N=k.update,T=k.deleteRecord,C=Object(n.useContext)(Ht).user;Object(n.useEffect)((function(){(function(){var t=Object(A.a)(jl().mark((function t(){return jl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var I=function(){var t=Object(A.a)(jl().mark((function t(){var e,r;return jl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,e=localStorage.getItem("companyId"),t.next=5,S({companyId:e,userId:C.id});case 5:r=t.sent,c(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),f.b.error(t.t0);case 12:d(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),P=function(){y(!1),w({id:null,message:"",shortcode:""})},M=function(){var t=Object(A.a)(jl().mark((function t(e){return jl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(),t.prev=1,t.next=4,_(e);case 4:return t.next=6,I();case 6:f.b.success("Messagem adicionada com sucesso."),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),f.b.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=Object(A.a)(jl().mark((function t(e){return jl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(),t.prev=1,t.next=4,N(e);case 4:return t.next=6,I();case 6:f.b.success("Messagem atualizada com sucesso."),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),f.b.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=Object(A.a)(jl().mark((function t(e){return jl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(),t.prev=1,t.next=4,T(e.id);case 4:return t.next=6,I();case 6:f.b.success("Messagem exclu\xedda com sucesso."),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),f.b.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(zi,null,a.a.createElement(Hi,null,kt.a.t("quickMessages.title")),a.a.createElement(Ui,null,a.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(){y(!0)}},kt.a.t("quickMessages.buttons.add")))),a.a.createElement(tr.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(vl,{readOnly:!1,messages:i,showLoading:h,editMessage:function(t){w(t),y(!0)},deleteMessage:function(t){w(t),j(!0)}})),a.a.createElement(Ll,{messageSelected:E,modalOpen:v,onClose:P,editMessage:G,saveMessage:M}),a.a.createElement(ra,{title:"Excluir Registro",open:L,onClose:j,onConfirm:Object(A.a)(jl().mark((function t(){return jl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(E);case 2:case"end":return t.stop()}}),t)})))},"Deseja realmente excluir este registro?"))},_l=["component","isPrivate"],Nl=function(t){var e=t.component,r=t.isPrivate,o=void 0!==r&&r,i=Object(se.a)(t,_l),c=Object(n.useContext)(Ht),u=c.isAuth,l=c.loading;return!u&&o?a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(Ze,null),a.a.createElement(s.a,{to:{pathname:"/login",state:{from:i.location}}})):u&&!o?a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(Ze,null),a.a.createElement(s.a,{to:{pathname:"/",state:{from:i.location}}}),";"):a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(Ze,null),a.a.createElement(s.b,Object.assign({},i,{component:e})))};function Tl(){Tl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Cl=function(t,e){if("LOAD_SCHEDULES"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_SCHEDULES"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_SCHEDULE"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]},Il=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),Al=function(){var t,e=Il(),r=Object(n.useContext)(Ht).user,o=Object(n.useState)(!1),i=Object(u.a)(o,2),c=i[0],l=i[1],s=Object(n.useState)(1),h=Object(u.a)(s,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(u.a)(m,2),y=v[0],g=v[1],E=Object(n.useState)(null),w=Object(u.a)(E,2),x=w[0],O=w[1],L=Object(n.useState)(null),j=Object(u.a)(L,2),k=j[0],S=j[1],_=Object(n.useState)(!1),N=Object(u.a)(_,2),T=N[0],C=N[1],I=Object(n.useState)(""),P=Object(u.a)(I,2),M=P[0],G=P[1],F=Object(n.useReducer)(Cl,[]),R=Object(u.a)(F,2),D=R[0],W=R[1],q=Object(n.useState)(!1),Y=Object(u.a)(q,2),z=Y[0],B=Y[1],U=Object(n.useState)((t="contactId",+new URLSearchParams(window.location.search).get(t))),H=Object(u.a)(U,2),V=H[0],Q=H[1],K=Object(n.useCallback)(Object(A.a)(Tl().mark((function t(){var e,r;return Tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/schedules/",{params:{searchParam:M,pageNumber:d}});case 3:e=t.sent,r=e.data,W({type:"LOAD_SCHEDULES",payload:r.schedules}),g(r.hasMore),l(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),[M,d]),J=Object(n.useCallback)((function(){V&&X()}),[V]);Object(n.useEffect)((function(){W({type:"RESET"}),p(1)}),[M]),Object(n.useEffect)((function(){l(!0);var t=setTimeout((function(){K()}),500);return function(){return clearTimeout(t)}}),[M,d,V,K,J]),Object(n.useEffect)((function(){J();var t=Rt({companyId:r.companyId});return t.on("user",(function(t){"update"!==t.action&&"create"!==t.action||W({type:"UPDATE_SCHEDULES",payload:t.schedules}),"delete"===t.action&&W({type:"DELETE_USER",payload:+t.scheduleId})})),function(){t.disconnect()}}),[J,r]);var X=function(){O(null),B(!0)},Z=function(){var t=Object(A.a)(Tl().mark((function t(e){return Tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/schedules/".concat(e));case 3:f.b.success(kt.a.t("schedules.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:return S(null),G(""),p(1),W({type:"RESET"}),p(1),t.next=16,K();case 16:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(ra,{title:k&&"".concat(kt.a.t("schedules.confirmationModal.deleteTitle")),open:T,onClose:C,onConfirm:function(){return Z(k.id)}},kt.a.t("schedules.confirmationModal.deleteMessage")),a.a.createElement($o,{open:z,onClose:function(){O(null),B(!1)},reload:K,"aria-labelledby":"form-dialog-title",scheduleId:x&&x.id,contactId:V,cleanContact:function(){Q("")}}),a.a.createElement(zi,null,a.a.createElement(Hi,null,kt.a.t("schedules.title")),a.a.createElement(Ui,null,a.a.createElement(Pe.a,{placeholder:kt.a.t("contacts.searchPlaceholder"),type:"search",value:M,onChange:function(t){G(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement(vn.a,{style:{color:"gray"}}))}}),a.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:X},kt.a.t("schedules.buttons.add")))),a.a.createElement(tr.a,{className:e.mainPaper,variant:"outlined",onScroll:function(t){if(y&&!c){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&p((function(t){return t+1}))}}},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center"},kt.a.t("schedules.table.contact")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("schedules.table.body")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("schedules.table.sendAt")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("schedules.table.status")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("schedules.table.actions")))),a.a.createElement(Qr.a,null,a.a.createElement(a.a.Fragment,null,D.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center"},t.contact.name),a.a.createElement(Kr.a,{align:"center",title:t.body},(e=t.body,r=25,e.length>r?e.substring(0,r)+"...":e)),a.a.createElement(Kr.a,{align:"center"},rr()(t.sendAt).format("DD/MM/YYYY HH:mm:ss")),a.a.createElement(Kr.a,{align:"center"},Object(Nt.capitalize)(t.status)),a.a.createElement(Kr.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){O(t),B(!0)}(t)}},a.a.createElement(Jc.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(e){C(!0),S(t)}},a.a.createElement(Nn.a,null))));var e,r})),c&&a.a.createElement(Qi,{columns:4}))))))},Pl=r(509),Ml=r.n(Pl),Gl=r(508),Fl=r.n(Gl),Rl=r(507),Dl=r.n(Rl);function Wl(){Wl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ql=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:t.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Yl=Ie.b().shape({name:Ie.c().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),zl=function(t){var e=t.open,r=t.onClose,o=t.campaignId,i=t.initialValues,c=t.onSave,l=t.resetPagination,s=ql(),d=Object(n.useRef)(!0),p=Object(n.useContext)(Ht).user.companyId,m={name:"",message1:"",message2:"",message3:"",message4:"",message5:"",confirmationMessage1:"",confirmationMessage2:"",confirmationMessage3:"",confirmationMessage4:"",confirmationMessage5:"",status:"INATIVA",confirmation:!1,scheduledAt:"",whatsappId:"",contactListId:"",companyId:p},v=Object(n.useState)(m),y=Object(u.a)(v,2),g=y[0],E=y[1],w=Object(n.useState)([]),x=Object(u.a)(w,2),O=x[0],L=x[1],j=Object(n.useState)([]),S=Object(u.a)(j,2),_=S[0],N=S[1],T=Object(n.useState)(0),C=Object(u.a)(T,2),I=C[0],P=C[1],M=Object(n.useState)(null),G=Object(u.a)(M,2),F=G[0],R=G[1],D=Object(n.useState)(!1),W=Object(u.a)(D,2),q=W[0],Y=W[1],z=Object(n.useState)(!0),B=Object(u.a)(z,2),U=B[0],H=B[1],V=Object(n.useRef)(null);Object(n.useEffect)((function(){return function(){d.current=!1}}),[]),Object(n.useEffect)((function(){if(d.current){if(i&&E((function(t){return Object(h.a)(Object(h.a)({},t),i)})),Mt.get("/contact-lists/list",{params:{companyId:p}}).then((function(t){var e=t.data;return N(e)})),Mt.get("/whatsapp",{params:{companyId:p,session:0}}).then((function(t){var e=t.data;return L(e)})),!o)return;Mt.get("/campaigns/".concat(o)).then((function(t){var e=t.data;E((function(t){var r=Object.assign({},t);return Object.entries(e).forEach((function(t){var e=Object(u.a)(t,2),n=e[0],a=e[1];r[n]="scheduledAt"===n&&""!==a&&null!==a?rr()(a).format("YYYY-MM-DDTHH:mm"):null===a?"":a})),r}))}))}}),[o,e,i,p]),Object(n.useEffect)((function(){var t=rr()(),e=rr()(g.scheduledAt),r=!Number.isNaN(e.diff(t))&&e.diff(t,"hour")>1,n="INATIVA"===g.status||"PROGRAMADA"===g.status&&r;H(n)}),[g.status,g.scheduledAt]);var Q=function(){r(),E(m)},K=function(){var t=Object(A.a)(Wl().mark((function t(e){var r,n,a,i,l;return Wl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r={},Object.entries(e).forEach((function(t){var e=Object(u.a)(t,2),n=e[0],a=e[1];r[n]="scheduledAt"===n&&""!==a&&null!==a?rr()(a).format("YYYY-MM-DD HH:mm:ss"):""===a?null:a})),!o){t.next=14;break}return t.next=6,Mt.put("/campaigns/".concat(o),r);case 6:if(null==F){t.next=11;break}return(n=new FormData).append("file",F),t.next=11,Mt.post("/campaigns/".concat(o,"/media-upload"),n);case 11:Q(),t.next=25;break;case 14:return t.next=16,Mt.post("/campaigns",r);case 16:if(a=t.sent,i=a.data,null==F){t.next=23;break}return(l=new FormData).append("file",F),t.next=23,Mt.post("/campaigns/".concat(i.id,"/media-upload"),l);case 23:c&&c(i),Q();case 25:f.b.success(kt.a.t("campaigns.toasts.success")),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(0),console.log(t.t0),Tt(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,28]])})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(A.a)(Wl().mark((function t(){return Wl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(F&&(R(null),V.current.value=null),!g.mediaPath){t.next=6;break}return t.next=4,Mt.delete("/campaigns/".concat(g.id,"/media-upload"));case 4:E((function(t){return Object(h.a)(Object(h.a)({},t),{},{mediaPath:null,mediaName:null})})),f.b.success(kt.a.t("campaigns.toasts.deleted"));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(t){return a.a.createElement(Ae.b,{as:Pe.a,id:t,name:t,fullWidth:!0,rows:5,label:kt.a.t("campaigns.dialog.form.".concat(t)),placeholder:kt.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",helperText:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalziadas.",disabled:!U&&"CANCELADA"!==g.status})},Z=function(t){return a.a.createElement(Ae.b,{as:Pe.a,id:t,name:t,fullWidth:!0,rows:5,label:kt.a.t("campaigns.dialog.form.".concat(t)),placeholder:kt.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",disabled:!U&&"CANCELADA"!==g.status})},$=function(){var t=Object(A.a)(Wl().mark((function t(){return Wl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.post("/campaigns/".concat(g.id,"/cancel"));case 3:f.b.success(kt.a.t("campaigns.toasts.cancel")),E((function(t){return Object(h.a)(Object(h.a)({},t),{},{status:"CANCELADA"})})),l(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),f.b.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),tt=function(){var t=Object(A.a)(Wl().mark((function t(){return Wl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.post("/campaigns/".concat(g.id,"/restart"));case 3:f.b.success(kt.a.t("campaigns.toasts.restart")),E((function(t){return Object(h.a)(Object(h.a)({},t),{},{status:"EM_ANDAMENTO"})})),l(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),f.b.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:s.root},a.a.createElement(ra,{title:kt.a.t("campaigns.confirmationModal.deleteTitle"),open:q,onClose:function(){return Y(!1)},onConfirm:J},kt.a.t("campaigns.confirmationModal.deleteMessage")),a.a.createElement(Me.a,{open:e,onClose:Q,fullWidth:!0,maxWidth:"md",scroll:"paper"},a.a.createElement(Re.a,{id:"form-dialog-title"},U?a.a.createElement(a.a.Fragment,null,"".concat(o?kt.a.t("campaigns.dialog.update"):kt.a.t("campaigns.dialog.new"))):a.a.createElement(a.a.Fragment,null,"".concat(kt.a.t("campaigns.dialog.readonly")))),a.a.createElement("div",{style:{display:"none"}},a.a.createElement("input",{type:"file",ref:V,onChange:function(t){return function(t){var e=Object(Nt.head)(t.target.files);e&&R(e)}(t)}})),a.a.createElement(Ae.e,{initialValues:g,enableReinitialize:!0,validationSchema:Yl,onSubmit:function(t,e){setTimeout((function(){K(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.values,r=t.errors,n=t.touched,i=t.isSubmitting;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,md:9,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("campaigns.dialog.form.name"),name:"name",error:n.name&&Boolean(r.name),helperText:n.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField,disabled:!U})),a.a.createElement(Er.a,{xs:12,md:3,item:!0},a.a.createElement(qe.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:s.formControl},a.a.createElement(We.a,{id:"confirmation-selection-label"},kt.a.t("campaigns.dialog.form.confirmation")),a.a.createElement(Ae.b,{as:De.a,label:kt.a.t("campaigns.dialog.form.confirmation"),placeholder:kt.a.t("campaigns.dialog.form.confirmation"),labelId:"confirmation-selection-label",id:"confirmation",name:"confirmation",error:n.confirmation&&Boolean(r.confirmation),disabled:!U},a.a.createElement(k.a,{value:!1},"Desabilitada"),a.a.createElement(k.a,{value:!0},"Habilitada")))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(qe.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:s.formControl},a.a.createElement(We.a,{id:"contactList-selection-label"},kt.a.t("campaigns.dialog.form.contactList")),a.a.createElement(Ae.b,{as:De.a,label:kt.a.t("campaigns.dialog.form.contactList"),placeholder:kt.a.t("campaigns.dialog.form.contactList"),labelId:"contactList-selection-label",id:"contactListId",name:"contactListId",error:n.contactListId&&Boolean(r.contactListId),disabled:!U},a.a.createElement(k.a,{value:""},"Nenhuma"),_&&_.map((function(t){return a.a.createElement(k.a,{key:t.id,value:t.id},t.name)}))))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(qe.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:s.formControl},a.a.createElement(We.a,{id:"whatsapp-selection-label"},kt.a.t("campaigns.dialog.form.whatsapp")),a.a.createElement(Ae.b,{as:De.a,label:kt.a.t("campaigns.dialog.form.whatsapp"),placeholder:kt.a.t("campaigns.dialog.form.whatsapp"),labelId:"whatsapp-selection-label",id:"whatsappId",name:"whatsappId",error:n.whatsappId&&Boolean(r.whatsappId),disabled:!U},a.a.createElement(k.a,{value:""},"Nenhuma"),O&&O.map((function(t){return a.a.createElement(k.a,{key:t.id,value:t.id},t.name)}))))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("campaigns.dialog.form.scheduledAt"),name:"scheduledAt",error:n.scheduledAt&&Boolean(r.scheduledAt),helperText:n.scheduledAt&&r.scheduledAt,variant:"outlined",margin:"dense",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,className:s.textField,disabled:!U})),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(gn.a,{value:I,indicatorColor:"primary",textColor:"primary",onChange:function(t,e){return P(e)},variant:"fullWidth",centered:!0,style:{background:"#f2f2f2",border:"1px solid #e6e6e6",borderRadius:2}},a.a.createElement(bn.a,{label:"Msg. 1",index:0}),a.a.createElement(bn.a,{label:"Msg. 2",index:1}),a.a.createElement(bn.a,{label:"Msg. 3",index:2}),a.a.createElement(bn.a,{label:"Msg. 4",index:3}),a.a.createElement(bn.a,{label:"Msg. 5",index:4})),a.a.createElement(Rn.a,{style:{paddingTop:20,border:"none"}},0===I&&a.a.createElement(a.a.Fragment,null,e.confirmation?a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,X("message1"))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,Z("confirmationMessage1")))):a.a.createElement(a.a.Fragment,null,X("message1"))),1===I&&a.a.createElement(a.a.Fragment,null,e.confirmation?a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,X("message2"))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,Z("confirmationMessage2")))):a.a.createElement(a.a.Fragment,null,X("message2"))),2===I&&a.a.createElement(a.a.Fragment,null,e.confirmation?a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,X("message3"))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,Z("confirmationMessage3")))):a.a.createElement(a.a.Fragment,null,X("message3"))),3===I&&a.a.createElement(a.a.Fragment,null,e.confirmation?a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,X("message4"))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,Z("confirmationMessage4")))):a.a.createElement(a.a.Fragment,null,X("message4"))),4===I&&a.a.createElement(a.a.Fragment,null,e.confirmation?a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,md:8,item:!0},a.a.createElement(a.a.Fragment,null,X("message5"))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(a.a.Fragment,null,Z("confirmationMessage5")))):a.a.createElement(a.a.Fragment,null,X("message5"))))),(g.mediaPath||F)&&a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(fe.a,{startIcon:a.a.createElement(so.a,null)},null!=F?F.name:g.mediaName),U&&a.a.createElement(b.a,{onClick:function(){return Y(!0)},color:"secondary"},a.a.createElement(Nn.a,null))))),a.a.createElement(Ge.a,null,"CANCELADA"===g.status&&a.a.createElement(fe.a,{color:"primary",onClick:function(){return tt()},variant:"outlined"},kt.a.t("campaigns.dialog.buttons.restart")),"EM_ANDAMENTO"===g.status&&a.a.createElement(fe.a,{color:"primary",onClick:function(){return $()},variant:"outlined"},kt.a.t("campaigns.dialog.buttons.cancel")),!F&&!g.mediaPath&&U&&a.a.createElement(fe.a,{color:"primary",onClick:function(){return V.current.click()},disabled:i,variant:"outlined"},kt.a.t("campaigns.dialog.buttons.attach")),a.a.createElement(fe.a,{onClick:Q,color:"secondary",disabled:i,variant:"outlined"},kt.a.t("campaigns.dialog.buttons.close")),(U||"CANCELADA"===g.status)&&a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:s.btnWrapper},"".concat(o?kt.a.t("campaigns.dialog.buttons.edit"):kt.a.t("campaigns.dialog.buttons.add")),i&&a.a.createElement(he.a,{size:24,className:s.buttonProgress}))))}))))};function Bl(){Bl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Ul=function(t,e){if("LOAD_CAMPAIGNS"===e.type){var r=e.payload,n=[];return Object(Nt.isArray)(r)&&r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_CAMPAIGNS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_CAMPAIGN"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]},Hl=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),Vl=function(){var t=Hl(),e=Object(s.g)(),r=Object(n.useState)(!1),o=Object(u.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)(1),h=Object(u.a)(l,2),d=h[0],p=h[1],m=Object(n.useState)(!1),v=Object(u.a)(m,2),y=v[0],g=v[1],E=Object(n.useState)(null),w=Object(u.a)(E,2),x=w[0],O=w[1],L=Object(n.useState)(null),j=Object(u.a)(L,2),k=j[0],S=j[1],_=Object(n.useState)(!1),N=Object(u.a)(_,2),T=N[0],C=N[1],I=Object(n.useState)(!1),P=Object(u.a)(I,2),M=P[0],G=P[1],F=Object(n.useState)(""),R=Object(u.a)(F,2),D=R[0],W=R[1],q=Object(n.useReducer)(Ul,[]),Y=Object(u.a)(q,2),z=Y[0],B=Y[1],U=sr().datetimeToClient;Object(n.useEffect)((function(){B({type:"RESET"}),p(1)}),[D]),Object(n.useEffect)((function(){c(!0);var t=setTimeout((function(){H()}),500);return function(){return clearTimeout(t)}}),[D,d]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-campaign"),(function(t){"update"!==t.action&&"create"!==t.action||B({type:"UPDATE_CAMPAIGNS",payload:t.record}),"delete"===t.action&&B({type:"DELETE_CAMPAIGN",payload:+t.id})})),function(){e.disconnect()}}),[]);var H=function(){var t=Object(A.a)(Bl().mark((function t(){var e,r;return Bl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/campaigns/",{params:{searchParam:D,pageNumber:d}});case 3:e=t.sent,r=e.data,B({type:"LOAD_CAMPAIGNS",payload:r.records}),g(r.hasMore),c(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(A.a)(Bl().mark((function t(e){return Bl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/campaigns/".concat(e));case 3:f.b.success(kt.a.t("campaigns.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:S(null),W(""),p(1);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),Q=function(){var t=Object(A.a)(Bl().mark((function t(e){return Bl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.post("/campaigns/".concat(e.id,"/cancel"));case 3:f.b.success(kt.a.t("campaigns.toasts.cancel")),p(1),H(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),f.b.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(A.a)(Bl().mark((function t(e){return Bl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.post("/campaigns/".concat(e.id,"/restart"));case 3:f.b.success(kt.a.t("campaigns.toasts.restart")),p(1),H(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),f.b.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(ra,{title:k&&"".concat(kt.a.t("campaigns.confirmationModal.deleteTitle")," ").concat(k.name,"?"),open:M,onClose:G,onConfirm:function(){return V(k.id)}},kt.a.t("campaigns.confirmationModal.deleteMessage")),a.a.createElement(zl,{resetPagination:function(){p(1),H()},open:T,onClose:function(){O(null),C(!1)},"aria-labelledby":"form-dialog-title",campaignId:x&&x.id}),a.a.createElement(zi,null,a.a.createElement(Er.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Er.a,{xs:12,sm:8,item:!0},a.a.createElement(Hi,null,kt.a.t("campaigns.title"))),a.a.createElement(Er.a,{xs:12,sm:4,item:!0},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:6,sm:6,item:!0},a.a.createElement(Pe.a,{fullWidth:!0,placeholder:kt.a.t("campaigns.searchPlaceholder"),type:"search",value:D,onChange:function(t){W(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement(vn.a,{style:{color:"gray"}}))}})),a.a.createElement(Er.a,{xs:6,sm:6,item:!0},a.a.createElement(fe.a,{fullWidth:!0,variant:"contained",onClick:function(){O(null),C(!0)},color:"primary"},kt.a.t("campaigns.buttons.add"))))))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if(y&&!i){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&p((function(t){return t+1}))}}},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center"},kt.a.t("campaigns.table.name")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("campaigns.table.status")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("campaigns.table.contactList")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("campaigns.table.whatsapp")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("campaigns.table.scheduledAt")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("campaigns.table.completedAt")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("campaigns.table.confirmation")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("campaigns.table.actions")))),a.a.createElement(Qr.a,null,a.a.createElement(a.a.Fragment,null,z.map((function(t){return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center"},t.name),a.a.createElement(Kr.a,{align:"center"},function(t){switch(t){case"INATIVA":return"Inativa";case"PROGRAMADA":return"Programada";case"EM_ANDAMENTO":return"Em Andamento";case"CANCELADA":return"Cancelada";case"FINALIZADA":return"Finalizada";default:return t}}(t.status)),a.a.createElement(Kr.a,{align:"center"},t.contactListId?t.contactList.name:"N\xe3o definida"),a.a.createElement(Kr.a,{align:"center"},t.whatsappId?t.whatsapp.name:"N\xe3o definido"),a.a.createElement(Kr.a,{align:"center"},t.scheduledAt?U(t.scheduledAt):"Sem agendamento"),a.a.createElement(Kr.a,{align:"center"},t.completedAt?U(t.completedAt):"N\xe3o conclu\xedda"),a.a.createElement(Kr.a,{align:"center"},t.confirmation?"Habilitada":"Desabilitada"),a.a.createElement(Kr.a,{align:"center"},"EM_ANDAMENTO"===t.status&&a.a.createElement(b.a,{onClick:function(){return Q(t)},title:"Parar Campanha",size:"small"},a.a.createElement(Dl.a,null)),"CANCELADA"===t.status&&a.a.createElement(b.a,{onClick:function(){return K(t)},title:"Parar Campanha",size:"small"},a.a.createElement(Fl.a,null)),a.a.createElement(b.a,{onClick:function(){return e.push("/campaign/".concat(t.id,"/report"))},size:"small"},a.a.createElement(Ml.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){O(t),C(!0)}(t)}},a.a.createElement(Jc.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(e){G(!0),S(t)}},a.a.createElement(Nn.a,null))))})),i&&a.a.createElement(Qi,{columns:8}))))))};function Ql(){Ql=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Kl=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles),textRight:{textAlign:"right"},tabPanelsContainer:{padding:t.spacing(2)}}})),Jl={messageInterval:20,longerIntervalAfter:20,greaterInterval:60,variables:[]},Xl=function(){var t=Kl(),e=Object(n.useState)(Jl),r=Object(u.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(!1),l=Object(u.a)(c,2),s=l[0],d=l[1],p=Object(n.useState)(!1),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)(null),E=Object(u.a)(g,2),w=E[0],x=E[1],O=Object(n.useState)({key:"",value:""}),j=Object(u.a)(O,2),S=j[0],_=j[1];Object(n.useEffect)((function(){Mt.get("/campaign-settings").then((function(t){var e=t.data,r=[];Array.isArray(e)&&e.length>0&&(e.forEach((function(t){r.push([t.key,JSON.parse(t.value)])})),i(Object.fromEntries(r)))}))}),[]);var N=function(t){if(null!==t.target.value){var e={};e[t.target.name]=t.target.value,_((function(t){return Object(h.a)(Object(h.a)({},t),e)}))}},T=function(t){var e={};e[t.target.name]=t.target.value,i((function(t){return Object(h.a)(Object(h.a)({},t),e)}))},C=function(){var t=Object(A.a)(Ql().mark((function t(){return Ql().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt.post("/campaign-settings",{settings:o});case 2:f.b.success("Configura\xe7\xf5es salvas");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(ra,{title:kt.a.t("campaigns.confirmationModal.deleteTitle"),open:v,onClose:function(){return y(!1)},onConfirm:function(){var t=o.variables.filter((function(t){return t.key!==w}));i((function(e){return Object(h.a)(Object(h.a)({},e),{},{variables:t})})),x(null)}},kt.a.t("campaigns.confirmationModal.deleteMessage")),a.a.createElement(zi,null,a.a.createElement(Er.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Hi,null,kt.a.t("campaignsConfig.title"))))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined"},a.a.createElement(Rn.a,{className:t.tabPanelsContainer},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(L.a,{component:"h3"},"Intervalos")),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(qe.a,{variant:"outlined",className:t.formControl,fullWidth:!0},a.a.createElement(We.a,{id:"messageInterval-label"},"Intervalo Rand\xf4mico de Disparo"),a.a.createElement(De.a,{name:"messageInterval",id:"messageInterval",labelId:"messageInterval-label",label:"Intervalo Rand\xf4mico de Disparo",value:o.messageInterval,onChange:function(t){return T(t)}},a.a.createElement(k.a,{value:0},"Sem Intervalo"),a.a.createElement(k.a,{value:5},"5 segundos"),a.a.createElement(k.a,{value:10},"10 segundos"),a.a.createElement(k.a,{value:15},"15 segundos"),a.a.createElement(k.a,{value:20},"20 segundos")))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(qe.a,{variant:"outlined",className:t.formControl,fullWidth:!0},a.a.createElement(We.a,{id:"longerIntervalAfter-label"},"Intervalo Maior Ap\xf3s"),a.a.createElement(De.a,{name:"longerIntervalAfter",id:"longerIntervalAfter",labelId:"longerIntervalAfter-label",label:"Intervalo Maior Ap\xf3s",value:o.longerIntervalAfter,onChange:function(t){return T(t)}},a.a.createElement(k.a,{value:0},"N\xe3o definido"),a.a.createElement(k.a,{value:5},"5 mensagens"),a.a.createElement(k.a,{value:10},"10 mensagens"),a.a.createElement(k.a,{value:15},"15 mensagens"),a.a.createElement(k.a,{value:20},"20 mensagens")))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(qe.a,{variant:"outlined",className:t.formControl,fullWidth:!0},a.a.createElement(We.a,{id:"greaterInterval-label"},"Intervalo de Disparo Maior"),a.a.createElement(De.a,{name:"greaterInterval",id:"greaterInterval",labelId:"greaterInterval-label",label:"Intervalo de Disparo Maior",value:o.greaterInterval,onChange:function(t){return T(t)}},a.a.createElement(k.a,{value:0},"Sem Intervalo"),a.a.createElement(k.a,{value:20},"20 segundos"),a.a.createElement(k.a,{value:30},"30 segundos"),a.a.createElement(k.a,{value:40},"40 segundos"),a.a.createElement(k.a,{value:50},"50 segundos"),a.a.createElement(k.a,{value:60},"60 segundos")))),a.a.createElement(Er.a,{xs:12,className:t.textRight,item:!0},a.a.createElement(fe.a,{onClick:function(){return d(!s)},color:"primary",style:{marginRight:10}},"Adicionar Vari\xe1vel"),a.a.createElement(fe.a,{onClick:C,color:"primary",variant:"contained"},"Salvar Configura\xe7\xf5es")),s&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Er.a,{xs:12,md:6,item:!0},a.a.createElement(Pe.a,{label:"Atalho",variant:"outlined",value:S.key,name:"key",onChange:N,fullWidth:!0})),a.a.createElement(Er.a,{xs:12,md:6,item:!0},a.a.createElement(Pe.a,{label:"Conte\xfado",variant:"outlined",value:S.value,name:"value",onChange:N,fullWidth:!0})),a.a.createElement(Er.a,{xs:12,className:t.textRight,item:!0},a.a.createElement(fe.a,{onClick:function(){return d(!s)},color:"primary",style:{marginRight:10}},"Fechar"),a.a.createElement(fe.a,{onClick:function(){i((function(t){var e=o.variables.filter((function(t){return t.key===S.key})),r=t.variables;return 0===e.length&&(r.push(Object.assign({},S)),_({key:"",value:""})),Object(h.a)(Object(h.a)({},t),{},{variables:r})}))},color:"primary",variant:"contained"},"Adicionar"))),o.variables.length>0&&a.a.createElement(Er.a,{xs:12,className:t.textRight,item:!0},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{style:{width:"1%"}}),a.a.createElement(Kr.a,null,"Atalho"),a.a.createElement(Kr.a,null,"Conte\xfado"))),a.a.createElement(Qr.a,null,Array.isArray(o.variables)&&o.variables.map((function(t,e){return a.a.createElement(Zr.a,{key:e},a.a.createElement(Kr.a,null,a.a.createElement(b.a,{size:"small",onClick:function(){x(t.key),y(!0)}},a.a.createElement(Nn.a,null))),a.a.createElement(Kr.a,null,"{"+t.key+"}"),a.a.createElement(Kr.a,null,t.value))})))))))))},Zl=r(912),$l=r(512),ts=r.n($l),es=r(510),rs=r.n(es),ns=r(511),as=r.n(ns);function os(){os=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var is=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(2),overflowY:"scroll"},t.scrollbarStyles),textRight:{textAlign:"right"},tabPanelsContainer:{padding:t.spacing(2)}}})),cs=function(){var t=is(),e=Object(s.h)().campaignId,r=Object(n.useState)({}),o=Object(u.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)(0),f=Object(u.a)(l,2),h=f[0],d=f[1],p=Object(n.useState)(0),m=Object(u.a)(p,2),v=m[0],y=m[1],g=Object(n.useState)(0),b=Object(u.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(0),O=Object(u.a)(x,2),j=O[0],k=O[1],S=Object(n.useState)(0),_=Object(u.a)(S,2),N=_[0],T=_[1],C=Object(n.useState)(!1),I=Object(u.a)(C,2),P=I[0],M=I[1],G=Object(n.useRef)(!0),F=sr().datetimeToClient;Object(n.useEffect)((function(){return G.current&&R(),function(){G.current=!1}}),[]),Object(n.useEffect)((function(){if(G.current&&Object(Nt.has)(i,"shipping")){if(Object(Nt.has)(i,"contactList")){var t=Object(Nt.get)(i,"contactList").contacts.filter((function(t){return t.isWhatsappValid}));d(t.length)}if(Object(Nt.has)(i,"shipping")){var e=Object(Nt.get)(i,"shipping"),r=e.filter((function(t){return!Object(Nt.isNull)(t.deliveredAt)})),n=e.filter((function(t){return!Object(Nt.isNull)(t.confirmationRequestedAt)})),a=e.filter((function(t){return!Object(Nt.isNull)(t.deliveredAt)&&!Object(Nt.isNull)(t.confirmationRequestedAt)}));y(r.length),w(n.length),k(a.length),y(r.length)}}}),[i]),Object(n.useEffect)((function(){T(v/h*100)}),[v,h]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),r=Rt({companyId:t});return r.on("company-".concat(t,"-campaign"),(function(t){console.log(t),t.record.id===+e&&(c(t.record),"FINALIZADA"===t.record.status&&setTimeout((function(){R()}),5e3))})),function(){r.disconnect()}}),[e]);var R=function(){var t=Object(A.a)(os().mark((function t(){var r,n;return os().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return M(!0),t.next=3,Mt.get("/campaigns/".concat(e));case 3:r=t.sent,n=r.data,c(n),M(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(zi,null,a.a.createElement(Er.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Hi,null,"Relat\xf3rio da ",i.name||"Campanha")))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined"},a.a.createElement(L.a,{variant:"h6",component:"h2"},"Status: ",function(t){switch(t){case"INATIVA":return"Inativa";case"PROGRAMADA":return"Programada";case"EM_ANDAMENTO":return"Em Andamento";case"CANCELADA":return"Cancelada";case"FINALIZADA":return"Finalizada";default:return t}}(i.status)," ",v," de ",h),a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Zl.a,{variant:"determinate",style:{height:15,borderRadius:3,margin:"20px 0"},value:N})),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(Hr,{icon:a.a.createElement(jr.a,{fontSize:"inherit"}),title:"Contatos V\xe1lidos",value:h,loading:P})),i.confirmation&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(Hr,{icon:a.a.createElement(rs.a,{fontSize:"inherit"}),title:"Confirma\xe7\xf5es Solicitadas",value:E,loading:P})),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(Hr,{icon:a.a.createElement(as.a,{fontSize:"inherit"}),title:"Confirma\xe7\xf5es",value:j,loading:P}))),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(Hr,{icon:a.a.createElement(en.a,{fontSize:"inherit"}),title:"Entregues",value:v,loading:P})),i.whatsappId&&a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(Hr,{icon:a.a.createElement(U.a,{fontSize:"inherit"}),title:"Conex\xe3o",value:i.whatsapp.name,loading:P})),i.contactListId&&a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(Hr,{icon:a.a.createElement(wt.a,{fontSize:"inherit"}),title:"Lista de Contatos",value:i.contactList.name,loading:P})),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(Hr,{icon:a.a.createElement(ts.a,{fontSize:"inherit"}),title:"Agendamento",value:F(i.scheduledAt),loading:P})),a.a.createElement(Er.a,{xs:12,md:4,item:!0},a.a.createElement(Hr,{icon:a.a.createElement(dt.a,{fontSize:"inherit"}),title:"Conclus\xe3o",value:F(i.completedAt),loading:P})))))};function us(){us=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ls=Object(m.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:t.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ce.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:t.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),ss=Ie.b().shape({title:Ie.c().required("Obrigat\xf3rio"),text:Ie.c().required("Obrigat\xf3rio")}),fs=function(t){var e=t.open,r=t.onClose,o=t.announcementId,i=t.reload,c=ls(),l={title:"",text:"",priority:3,status:!0},s=Object(n.useState)(!1),d=Object(u.a)(s,2),p=d[0],m=d[1],v=Object(n.useState)(l),y=Object(u.a)(v,2),g=y[0],E=y[1],w=Object(n.useState)(null),x=Object(u.a)(w,2),O=x[0],L=x[1],j=Object(n.useRef)(null);Object(n.useEffect)((function(){try{Object(A.a)(us().mark((function t(){var e,r;return us().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Mt.get("/announcements/".concat(o));case 4:e=t.sent,r=e.data,E((function(t){return Object(h.a)(Object(h.a)({},t),r)}));case 7:case"end":return t.stop()}}),t)})))()}catch(t){Tt(t)}}),[o,e]);var S=function(){E(l),L(null),r()},_=function(){var t=Object(A.a)(us().mark((function t(e){var r,n,a,c,u;return us().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(h.a)({},e),t.prev=1,!o){t.next=12;break}return t.next=5,Mt.put("/announcements/".concat(o),r);case 5:if(null==O){t.next=10;break}return(n=new FormData).append("file",O),t.next=10,Mt.post("/announcements/".concat(o,"/media-upload"),n);case 10:t.next=21;break;case 12:return t.next=14,Mt.post("/announcements",r);case 14:if(a=t.sent,c=a.data,null==O){t.next=21;break}return(u=new FormData).append("file",O),t.next=21,Mt.post("/announcements/".concat(c.id,"/media-upload"),u);case 21:f.b.success(kt.a.t("announcements.toasts.success")),"function"==typeof i&&i(),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(1),Tt(t.t0);case 28:S();case 29:case"end":return t.stop()}}),t,null,[[1,25]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(A.a)(us().mark((function t(){return us().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O&&(L(null),j.current.value=null),!g.mediaPath){t.next=7;break}return t.next=4,Mt.delete("/announcements/".concat(g.id,"/media-upload"));case 4:E((function(t){return Object(h.a)(Object(h.a)({},t),{},{mediaPath:null})})),f.b.success(kt.a.t("announcements.toasts.deleted")),"function"==typeof i&&i();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:c.root},a.a.createElement(ra,{title:kt.a.t("announcements.confirmationModal.deleteTitle"),open:p,onClose:function(){return m(!1)},onConfirm:N},kt.a.t("announcements.confirmationModal.deleteMessage")),a.a.createElement(Me.a,{open:e,onClose:S,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(Re.a,{id:"form-dialog-title"},"".concat(o?kt.a.t("announcements.dialog.edit"):kt.a.t("announcements.dialog.add"))),a.a.createElement("div",{style:{display:"none"}},a.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:j,onChange:function(t){return function(t){var e=Object(Nt.head)(t.target.files);e&&L(e)}(t)}})),a.a.createElement(Ae.e,{initialValues:g,enableReinitialize:!0,validationSchema:ss,onSubmit:function(t,e){setTimeout((function(){_(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.isSubmitting;t.values;return a.a.createElement(Ae.d,null,a.a.createElement(Fe.a,{dividers:!0},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("announcements.dialog.form.title"),name:"title",error:e.title&&Boolean(r.title),helperText:e.title&&r.title,variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Ae.b,{as:Pe.a,label:kt.a.t("announcements.dialog.form.text"),name:"text",error:e.text&&Boolean(r.text),helperText:e.text&&r.text,variant:"outlined",margin:"dense",multiline:!0,rows:7,fullWidth:!0})),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(qe.a,{variant:"outlined",margin:"dense",fullWidth:!0},a.a.createElement(We.a,{id:"status-selection-label"},kt.a.t("announcements.dialog.form.status")),a.a.createElement(Ae.b,{as:De.a,label:kt.a.t("announcements.dialog.form.status"),placeholder:kt.a.t("announcements.dialog.form.status"),labelId:"status-selection-label",id:"status",name:"status",error:e.status&&Boolean(r.status)},a.a.createElement(k.a,{value:!0},"Ativo"),a.a.createElement(k.a,{value:!1},"Inativo")))),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(qe.a,{variant:"outlined",margin:"dense",fullWidth:!0},a.a.createElement(We.a,{id:"priority-selection-label"},kt.a.t("announcements.dialog.form.priority")),a.a.createElement(Ae.b,{as:De.a,label:kt.a.t("announcements.dialog.form.priority"),placeholder:kt.a.t("announcements.dialog.form.priority"),labelId:"priority-selection-label",id:"priority",name:"priority",error:e.priority&&Boolean(r.priority)},a.a.createElement(k.a,{value:1},"Alta"),a.a.createElement(k.a,{value:2},"M\xe9dia"),a.a.createElement(k.a,{value:3},"Baixa")))),(g.mediaPath||O)&&a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(fe.a,{startIcon:a.a.createElement(so.a,null)},O?O.name:g.mediaName),a.a.createElement(b.a,{onClick:function(){return m(!0)},color:"secondary"},a.a.createElement(Nn.a,null))))),a.a.createElement(Ge.a,null,!O&&!g.mediaPath&&a.a.createElement(fe.a,{color:"primary",onClick:function(){return j.current.click()},disabled:n,variant:"outlined"},kt.a.t("announcements.dialog.buttons.attach")),a.a.createElement(fe.a,{onClick:S,color:"secondary",disabled:n,variant:"outlined"},kt.a.t("announcements.dialog.buttons.cancel")),a.a.createElement(fe.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?kt.a.t("announcements.dialog.buttons.add"):kt.a.t("announcements.dialog.buttons.edit")),n&&a.a.createElement(he.a,{size:24,className:c.buttonProgress}))))}))))};function hs(){hs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ds=function(t,e){if("LOAD_ANNOUNCEMENTS"===e.type){var r=e.payload,n=[];return Object(Nt.isArray)(r)&&r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(M.a)(t),n)}if("UPDATE_ANNOUNCEMENTS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(M.a)(t)):[a].concat(Object(M.a)(t))}if("DELETE_ANNOUNCEMENT"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(M.a)(t)}if("RESET"===e.type)return[]},ps=Object(m.a)((function(t){return{mainPaper:Object(h.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),ms=function(){var t=ps(),e=Object(n.useState)(!1),r=Object(u.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(1),l=Object(u.a)(c,2),s=l[0],h=l[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(null),g=Object(u.a)(y,2),E=g[0],w=g[1],x=Object(n.useState)(null),O=Object(u.a)(x,2),L=O[0],j=O[1],k=Object(n.useState)(!1),S=Object(u.a)(k,2),_=S[0],N=S[1],T=Object(n.useState)(!1),C=Object(u.a)(T,2),I=C[0],P=C[1],M=Object(n.useState)(""),G=Object(u.a)(M,2),F=G[0],R=G[1],D=Object(n.useReducer)(ds,[]),W=Object(u.a)(D,2),q=W[0],Y=W[1];Object(n.useEffect)((function(){Y({type:"RESET"}),h(1)}),[F]),Object(n.useEffect)((function(){i(!0);var t=setTimeout((function(){z()}),500);return function(){return clearTimeout(t)}}),[F,s]),Object(n.useEffect)((function(){var t=Rt({companyId:localStorage.getItem("companyId")});return t.on("company-announcement",(function(t){"update"!==t.action&&"create"!==t.action||Y({type:"UPDATE_ANNOUNCEMENTS",payload:t.record}),"delete"===t.action&&Y({type:"DELETE_ANNOUNCEMENT",payload:+t.id})})),function(){t.disconnect()}}),[]);var z=function(){var t=Object(A.a)(hs().mark((function t(){var e,r;return hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/announcements/",{params:{searchParam:F,pageNumber:s}});case 3:e=t.sent,r=e.data,Y({type:"LOAD_ANNOUNCEMENTS",payload:r.records}),v(r.hasMore),i(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Tt(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(A.a)(hs().mark((function t(e){return hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/announcements/".concat(e));case 3:f.b.success(kt.a.t("announcements.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Tt(t.t0);case 9:j(null),R(""),h(1);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(qi,null,a.a.createElement(ra,{title:L&&"".concat(kt.a.t("announcements.confirmationModal.deleteTitle")," ").concat(L.name,"?"),open:I,onClose:P,onConfirm:function(){return B(L.id)}},kt.a.t("announcements.confirmationModal.deleteMessage")),a.a.createElement(fs,{resetPagination:function(){h(1),z()},open:_,onClose:function(){w(null),N(!1)},"aria-labelledby":"form-dialog-title",announcementId:E&&E.id}),a.a.createElement(zi,null,a.a.createElement(Er.a,{style:{width:"99.6%"},container:!0},a.a.createElement(Er.a,{xs:12,sm:8,item:!0},a.a.createElement(Hi,null,kt.a.t("announcements.title"))),a.a.createElement(Er.a,{xs:12,sm:4,item:!0},a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:6,sm:6,item:!0},a.a.createElement(Pe.a,{fullWidth:!0,placeholder:kt.a.t("announcements.searchPlaceholder"),type:"search",value:F,onChange:function(t){R(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Qc.a,{position:"start"},a.a.createElement(vn.a,{style:{color:"gray"}}))}})),a.a.createElement(Er.a,{xs:6,sm:6,item:!0},a.a.createElement(fe.a,{fullWidth:!0,variant:"contained",onClick:function(){w(null),N(!0)},color:"primary"},kt.a.t("announcements.buttons.add"))))))),a.a.createElement(tr.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if(m&&!o){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&h((function(t){return t+1}))}}},a.a.createElement(Vr.a,{size:"small"},a.a.createElement(Xr.a,null,a.a.createElement(Zr.a,null,a.a.createElement(Kr.a,{align:"center"},kt.a.t("announcements.table.title")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("announcements.table.priority")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("announcements.table.mediaName")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("announcements.table.status")),a.a.createElement(Kr.a,{align:"center"},kt.a.t("announcements.table.actions")))),a.a.createElement(Qr.a,null,a.a.createElement(a.a.Fragment,null,q.map((function(t){var e,r;return a.a.createElement(Zr.a,{key:t.id},a.a.createElement(Kr.a,{align:"center"},t.title),a.a.createElement(Kr.a,{align:"center"},1===(r=t.priority)?"Alta":2===r?"M\xe9dia":3===r?"Baixa":void 0),a.a.createElement(Kr.a,{align:"center"},null!==(e=t.mediaName)&&void 0!==e?e:"Sem anexo"),a.a.createElement(Kr.a,{align:"center"},t.status?"ativo":"inativo"),a.a.createElement(Kr.a,{align:"center"},a.a.createElement(b.a,{size:"small",onClick:function(){return function(t){w(t),N(!0)}(t)}},a.a.createElement(Jc.a,null)),a.a.createElement(b.a,{size:"small",onClick:function(e){P(!0),j(t)}},a.a.createElement(Nn.a,null))))})),o&&a.a.createElement(Qi,{columns:5}))))))};function vs(){vs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ys=Object(m.a)((function(t){return{mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,height:"calc(100% - 58px)",overflow:"hidden",borderRadius:0,backgroundColor:"white"},chatList:Object(h.a)({display:"flex",flexDirection:"column",position:"relative",flex:1,overflowY:"scroll"},t.scrollbarStyles),listItem:{cursor:"pointer"}}}));function gs(t){var e=t.chats,r=t.handleSelectChat,o=t.handleDeleteChat,i=t.handleEditChat,c=(t.pageInfo,t.loading,ys()),l=Object(s.g)(),f=Object(n.useContext)(Ht).user,h=sr().datetimeToClient,d=Object(n.useState)(!1),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)({}),g=Object(u.a)(y,2),E=g[0],x=g[1],O=Object(s.h)().id,L=function(){var t=Object(A.a)(vs().mark((function t(e){return vs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(j(e)>0)){t.next=8;break}return t.prev=1,t.next=4,Mt.post("/chats/".concat(e.id,"/read"),{userId:f.id});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:O!==e.uuid&&(l.push("/chats/".concat(e.uuid)),r(e));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),j=function(t){return t.users.find((function(t){return t.userId===f.id})).unreads},k=function(t){var e=t.title,r=j(t);return a.a.createElement(a.a.Fragment,null,e,r>0&&a.a.createElement(Ye.a,{size:"small",style:{marginLeft:5},label:r,color:"secondary"}))},S=function(t){return""!==t.lastMessage?"".concat(h(t.updatedAt),": ").concat(t.lastMessage):""},_=function(t){return{borderLeft:t.uuid===O?"6px solid #002d6e":null,backgroundColor:t.uuid===O?"#eee":null}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(ra,{title:"Excluir Conversa",open:m,onClose:v,onConfirm:function(){o(E)}},"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"),a.a.createElement("div",{className:c.mainContainer},a.a.createElement("div",{className:c.chatList},a.a.createElement(w.a,null,Array.isArray(e)&&e.length>0&&e.map((function(t,e){return a.a.createElement(G.a,{onClick:function(){return L(t)},key:e,className:c.listItem,style:_(t),button:!0},a.a.createElement(R.a,{primary:k(t),secondary:S(t)}),t.ownerId===f.id&&a.a.createElement(Fn.a,null,a.a.createElement(b.a,{onClick:function(){L(t).then((function(){i(t)}))},edge:"end","aria-label":"delete",size:"small",style:{marginRight:5}},a.a.createElement(Jc.a,null)),a.a.createElement(b.a,{onClick:function(){x(t),v(!0)},edge:"end","aria-label":"delete",size:"small"},a.a.createElement(Ka.a,null))))}))))))}var bs=r(790),Es=Object(m.a)((function(t){return{mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflow:"hidden",borderRadius:0,height:"100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},messageList:Object(h.a)(Object(h.a)({position:"relative",overflowY:"auto",height:"100%"},t.scrollbarStyles),{},{backgroundColor:"#eee"}),inputArea:{position:"relative",height:"auto"},input:{padding:"20px"},buttonSend:{margin:t.spacing(1)},boxLeft:{padding:"10px 10px 5px",margin:"10px",position:"relative",backgroundColor:"white",maxWidth:300,borderRadius:10,borderBottomLeftRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"},boxRight:{padding:"10px 10px 5px",margin:"10px 10px 10px auto",position:"relative",backgroundColor:"#E3F3F9",textAlign:"right",maxWidth:300,borderRadius:10,borderBottomRightRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"}}}));function ws(t){var e=t.chat,r=t.messages,o=t.handleSendMessage,i=t.handleLoadMore,c=t.scrollToBottomRef,l=t.pageInfo,s=t.loading,f=Es(),h=Object(n.useContext)(Ht).user,d=sr().datetimeToClient,p=Object(n.useRef)(),m=Object(n.useState)(""),v=Object(u.a)(m,2),y=v[0],g=v[1],E=function(){p.current&&p.current.scrollIntoView({})};Object(n.useEffect)((function(){if(function(t){return void 0!==t?t.users.find((function(t){return t.userId===h.id})).unreads>0:0}(e)>0)try{Mt.post("/chats/".concat(e.id,"/read"),{userId:h.id})}catch(t){}c.current=E}),[]);return a.a.createElement(tr.a,{className:f.mainContainer},a.a.createElement("div",{onScroll:function(t){var e=t.currentTarget.scrollTop;l.hasMore&&!s&&e<600&&i()},className:f.messageList},Array.isArray(r)&&r.map((function(t,e){return t.senderId===h.id?a.a.createElement(Rn.a,{key:e,className:f.boxRight},a.a.createElement(L.a,{variant:"subtitle2"},t.sender.name),t.message,a.a.createElement(L.a,{variant:"caption",display:"block"},d(t.createdAt))):a.a.createElement(Rn.a,{key:e,className:f.boxLeft},a.a.createElement(L.a,{variant:"subtitle2"},t.sender.name),t.message,a.a.createElement(L.a,{variant:"caption",display:"block"},d(t.createdAt)))})),a.a.createElement("div",{ref:p})),a.a.createElement("div",{className:f.inputArea},a.a.createElement(qe.a,{variant:"outlined",fullWidth:!0},a.a.createElement(bs.a,{multiline:!0,value:y,onKeyUp:function(t){"Enter"===t.key&&""!==y.trim()&&(o(y),g(""))},onChange:function(t){return g(t.target.value)},className:f.input,endAdornment:a.a.createElement(Qc.a,{position:"end"},a.a.createElement(b.a,{onClick:function(){""!==y.trim()&&(o(y),g(""))},className:f.buttonSend},a.a.createElement(mo.a,null)))}))))}function xs(){xs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Os=Object(m.a)((function(t){return{mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,padding:t.spacing(2),height:"calc(100% - 48px)",overflowY:"hidden",border:"1px solid rgba(0, 0, 0, 0.12)"},gridContainer:{flex:1,height:"100%",border:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee"},gridItem:{height:"100%"},gridItemTab:{height:"92%",width:"100%"},btnContainer:{textAlign:"right",padding:10}}}));function Ls(t){var e=t.open,r=t.chat,o=t.type,i=t.handleClose,c=t.handleLoadNewChat,l=Object(n.useState)([]),s=Object(u.a)(l,2),f=s[0],h=s[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),m=p[0],v=p[1];Object(n.useEffect)((function(){if(v(""),h([]),"edit"===o){var t=r.users.map((function(t){return{id:t.user.id,name:t.user.name}}));h(t),v(r.title)}}),[r,e,o]);var y=function(){var t=Object(A.a)(xs().mark((function t(){var e,n;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"edit"!==o){t.next=6;break}return t.next=4,Mt.put("/chats/".concat(r.id),{users:f,title:m});case 4:t.next=11;break;case 6:return t.next=8,Mt.post("/chats",{users:f,title:m});case 8:e=t.sent,n=e.data,c(n);case 11:i(),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(Me.a,{open:e,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(Re.a,{id:"alert-dialog-title"},"Conversa"),a.a.createElement(Fe.a,null,a.a.createElement(Er.a,{spacing:2,container:!0},a.a.createElement(Er.a,{xs:12,style:{padding:18},item:!0},a.a.createElement(Pe.a,{label:"T\xedtulo",placeholder:"T\xedtulo",value:m,onChange:function(t){return v(t.target.value)},variant:"outlined",size:"small",fullWidth:!0})),a.a.createElement(Er.a,{xs:12,item:!0},a.a.createElement(Ma,{onFiltered:function(t){return h(t)},initialUsers:f})))),a.a.createElement(Ge.a,null,a.a.createElement(fe.a,{onClick:i,color:"primary"},"Fechar"),a.a.createElement(fe.a,{onClick:y,color:"primary",variant:"contained"},"Salvar")))}var js=Object(pn.a)()((function(t){var e=Os(),r=Object(n.useContext)(Ht).user,o=Object(s.g)(),i=Object(n.useState)(!1),c=Object(u.a)(i,2),l=c[0],f=c[1],d=Object(n.useState)("new"),p=Object(u.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)({}),g=Object(u.a)(y,2),b=g[0],E=g[1],w=Object(n.useState)([]),x=Object(u.a)(w,2),O=x[0],L=x[1],j=Object(n.useState)({hasMore:!1}),k=Object(u.a)(j,2),S=k[0],_=k[1],N=Object(n.useState)([]),T=Object(u.a)(N,2),C=T[0],I=T[1],P=Object(n.useState)({hasMore:!1}),G=Object(u.a)(P,2),F=G[0],R=G[1],D=Object(n.useState)(1),W=Object(u.a)(D,2),q=W[0],Y=W[1],z=Object(n.useState)(!1),B=Object(u.a)(z,2),U=B[0],H=B[1],V=Object(n.useState)(0),Q=Object(u.a)(V,2),K=Q[0],J=Q[1],X=Object(n.useRef)(!0),Z=Object(n.useRef)(),$=Object(s.h)().id;Object(n.useEffect)((function(){return function(){X.current=!1}}),[]),Object(n.useEffect)((function(){X.current&&ot().then((function(t){var e=t.records;if(e.length>0&&(L(e),_(t),$&&e.length)){var r=e.find((function(t){return t.uuid===$}));tt(r)}}))}),[]),Object(n.useEffect)((function(){Object(Nt.isObject)(b)&&Object(Nt.has)(b,"id")&&nt(b.id).then((function(){"function"===typeof Z.current&&setTimeout((function(){Z.current()}),300)}))}),[b]),Object(n.useEffect)((function(){var t=localStorage.getItem("companyId"),e=Rt({companyId:t});return e.on("company-".concat(t,"-chat-user-").concat(r.id),(function(t){if("create"===t.action&&L((function(e){return[t.record].concat(Object(M.a)(e))})),"update"===t.action){var e=O.map((function(e){return e.id===t.record.id?(E(t.record),Object(h.a)({},t.record)):e}));L(e)}})),e.on("company-".concat(t,"-chat"),(function(t){if("delete"===t.action){var e=O.filter((function(e){return e.id!==+t.id}));L(e),I([]),Y(1),R({hasMore:!1}),E({}),o.push("/chats")}})),Object(Nt.isObject)(b)&&Object(Nt.has)(b,"id")&&e.on("company-".concat(t,"-chat-").concat(b.id),(function(t){if("new-message"===t.action){I((function(e){return[].concat(Object(M.a)(e),[t.newMessage])}));var e=O.map((function(e){return e.id===t.newMessage.chatId?Object(h.a)({},t.chat):e}));L(e),Z.current()}if("update"===t.action){var r=O.map((function(e){return e.id===t.chat.id?Object(h.a)({},t.chat):e}));L(r),Z.current()}})),function(){e.disconnect()}}),[b]);var tt=function(t){try{I([]),Y(1),E(t),J(1)}catch(e){}},et=function(){var t=Object(A.a)(xs().mark((function t(e){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return H(!0),t.prev=1,t.next=4,Mt.post("/chats/".concat(b.id,"/messages"),{message:e});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:H(!1);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),rt=function(){var t=Object(A.a)(xs().mark((function t(e){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.delete("/chats/".concat(e.id));case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),nt=function(){var t=Object(A.a)(xs().mark((function t(e){var r,n;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return H(!0),t.prev=1,t.next=4,Mt.get("/chats/".concat(e,"/messages?pageNumber=").concat(q));case 4:r=t.sent,n=r.data,Y((function(t){return t+1})),R(n),I((function(t){return[].concat(Object(M.a)(n.records),Object(M.a)(t))})),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(1);case 13:H(!1);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),at=function(){var t=Object(A.a)(xs().mark((function t(){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U||nt(b.id);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ot=function(){var t=Object(A.a)(xs().mark((function t(){var e,r;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.get("/chats");case 3:return e=t.sent,r=e.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ls,{type:m,open:l,chat:b,handleLoadNewChat:function(t){I([]),Y(1),E(t),J(1),o.push("/chats/".concat(t.uuid))},handleClose:function(){return f(!1)}}),a.a.createElement(tr.a,{className:e.mainContainer},Object(pn.b)("md",t.width)?a.a.createElement(Er.a,{className:e.gridContainer,container:!0},a.a.createElement(Er.a,{className:e.gridItem,md:3,item:!0},"admin"===r.profile&&a.a.createElement("div",{className:e.btnContainer},a.a.createElement(fe.a,{onClick:function(){v("new"),f(!0)},color:"primary",variant:"contained"},"Nova")),a.a.createElement(gs,{chats:O,pageInfo:S,loading:U,handleSelectChat:function(t){return tt(t)},handleDeleteChat:function(t){return rt(t)},handleEditChat:function(){v("edit"),f(!0)}})),a.a.createElement(Er.a,{className:e.gridItem,md:9,item:!0},Object(Nt.isObject)(b)&&Object(Nt.has)(b,"id")&&a.a.createElement(ws,{chat:b,scrollToBottomRef:Z,pageInfo:F,messages:C,loading:U,handleSendMessage:et,handleLoadMore:at}))):a.a.createElement(Er.a,{className:e.gridContainer,container:!0},a.a.createElement(Er.a,{md:12,item:!0},a.a.createElement(gn.a,{value:K,indicatorColor:"primary",textColor:"primary",onChange:function(t,e){return J(e)},"aria-label":"disabled tabs example"},a.a.createElement(bn.a,{label:"Chats"}),a.a.createElement(bn.a,{label:"Mensagens"}))),0===K&&a.a.createElement(Er.a,{className:e.gridItemTab,md:12,item:!0},a.a.createElement("div",{className:e.btnContainer},a.a.createElement(fe.a,{onClick:function(){return f(!0)},color:"primary",variant:"contained"},"Novo")),a.a.createElement(gs,{chats:O,pageInfo:S,loading:U,handleSelectChat:function(t){return tt(t)},handleDeleteChat:function(t){return rt(t)}})),1===K&&a.a.createElement(Er.a,{className:e.gridItemTab,md:12,item:!0},Object(Nt.isObject)(b)&&Object(Nt.has)(b,"id")&&a.a.createElement(ws,{scrollToBottomRef:Z,pageInfo:F,messages:C,loading:U,handleSendMessage:et,handleLoadMore:at})))))})),ks=function(){var t=Object(n.useState)(!1),e=Object(u.a)(t,2),r=e[0],o=e[1];return Object(n.useEffect)((function(){void 0!==localStorage.getItem("cshow")&&o(!0)}),[]),a.a.createElement(l.a,null,a.a.createElement(Vt,null,a.a.createElement(Wn,null,a.a.createElement(s.d,null,a.a.createElement(Nl,{exact:!0,path:"/login",component:Ii}),a.a.createElement(Nl,{exact:!0,path:"/signup",component:Ti}),a.a.createElement(zt,null,a.a.createElement(gr,null,a.a.createElement(Nl,{exact:!0,path:"/",component:dn,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/tickets/:ticketId?",component:xi,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/connections",component:ic,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/quick-messages",component:Sl,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/schedules",component:Al,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/tags",component:Gu,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/contacts",component:au,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/helps",component:Uu,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/users",component:tu,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/messages-api",component:Du,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/settings",component:Vc,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/queues",component:Su,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/announcements",component:ms,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/chats/:id?",component:js,isPrivate:!0}),r&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Nl,{exact:!0,path:"/contact-lists",component:nl,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/contact-lists/:contactListId/contacts",component:ml,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/campaigns",component:Vl,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/campaign/:campaignId/report",component:cs,isPrivate:!0}),a.a.createElement(Nl,{exact:!0,path:"/campaigns-config",component:Xl,isPrivate:!0}))))),a.a.createElement(f.a,{autoClose:3e3}))))},Ss=(r(783),r(513)),_s=function(){var t=Object(n.useState)(),e=Object(u.a)(t,2),r=e[0],o=e[1],i=Object(Wo.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"#e8e8e8"}},palette:{primary:{main:"#128c7e"}}},r);return Object(n.useEffect)((function(){var t=localStorage.getItem("i18nextLng");"ptBR"===t.substring(0,2)+t.substring(3,5)&&o(Ss.ptBR)}),[]),a.a.createElement(qo.a,{theme:i},a.a.createElement(ks,null))};i.a.render(a.a.createElement(c.a,null,a.a.createElement(_s,null)),document.getElementById("root"))}},[[551,1,2]]]);
//# sourceMappingURL=main.7d8ad5cb.chunk.js.map