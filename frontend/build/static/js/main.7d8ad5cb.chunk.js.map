{"version":3,"sources":["assets/planilha.xlsx","assets/sound.mp3","assets/zapsimples.png","assets/chat_notify.mp3","assets/wa-background.png","translate/languages/index.js","translate/languages/pt.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/api.js","services/socket.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","rules.js","components/Can/index.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","components/TicketListItem/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","components/AnnouncementsPopover/index.js","hooks/useDate/index.js","pages/Chat/ChatPopover.js","layout/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","components/Dashboard/CardCounter.js","components/Dashboard/TableAttendantsStatus.js","hooks/useDashboard/index.js","pages/Dashboard/index.js","components/ContactModal/index.js","components/NewTicketModal/index.js","context/Tickets/TicketsContext.js","components/ModalImageCors/index.js","components/ConfirmationModal/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageOptionsMenu/index.js","components/MessagesList/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/TicketMessagesDialog/index.js","components/TicketListItemCustom/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/TicketsManagerTabs/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/ContactNotesDialogListItem/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/ContactDrawer/index.js","components/MessageInputCustom/RecordingTimer.js","hooks/useQuickMessages/index.js","components/MessageInputCustom/index.js","hooks/useLocalStorage/index.js","hooks/useQueues/index.js","components/TransferTicketModalCustom/index.js","components/ScheduleModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtonsCustom/index.js","components/TagsContainer/index.js","components/Ticket/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","components/SchedulesForm/index.js","hooks/useCompanies/index.js","hooks/usePlans/index.js","components/QueueSelectCustom/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","hooks/useHelps/index.js","components/HelpsManager/index.js","hooks/useSettings/index.js","components/Settings/Options.js","components/OnlyForSuperUser/index.js","pages/SettingsCustom/index.js","pages/Users/index.js","pages/Contacts/index.js","components/ColorPicker/index.js","components/QueueOptions/index.js","components/QueueModal/index.js","pages/Queues/index.js","components/TagModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/QuickMessagesTable/index.js","components/Dialog/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","routes/index.js","App.js","index.js"],"names":["module","exports","messages","pt","translations","signup","title","toasts","success","fail","form","name","email","password","buttons","submit","login","register","companies","plan","token","auth","dashboard","charts","perDay","connections","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","whatsappModal","edit","okAdd","okEdit","cancel","qrCode","message","contacts","searchPlaceholder","importTitlte","importMessage","import","whatsapp","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","queueModal","color","greetingMessage","complationMessage","outOfHoursMessage","ratingMessage","userModal","profile","scheduleModal","body","contact","sendAt","sentAt","tagModal","chat","noTicketMessage","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","tabs","open","closed","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","accept","newTicketModal","mainDrawer","listItems","quickMessages","queues","tags","administration","users","settings","helps","messagesAPI","schedules","campaigns","annoucements","chats","appBar","user","logout","textMessage","mediaMessage","media","notifications","noTickets","dialog","shortcode","contactLists","company","contactListItems","lists","contactList","scheduledAt","completedAt","confirmation","new","update","readonly","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","okadd","restart","close","attach","announcements","priority","text","mediaName","mediaPath","campaignsConfig","greeting","queueSelect","inputLabel","userCreation","options","enabled","disabled","messagesList","header","assignedTo","return","resolve","reopen","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","ticketOptionsMenu","schedule","delete","transfer","registerAppointment","appointmentsModal","textarea","confirm","messageOptionsMenu","reply","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","titleFrom","es","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","toastError","err","errorMsg","response","data","error","exists","toast","t","toastId","isString","api","axios","create","baseURL","process","withCredentials","openApi","socketConnection","params","userId","localStorage","getItem","openSocket","transports","pingTimeout","pingInterval","query","isObject","i","reducer","state","action","type","whatsApps","payload","whatsApp","whatsAppIndex","findIndex","s","id","updatedAt","retries","whatsAppId","splice","useWhatsApps","useReducer","dispatch","useState","loading","setLoading","useEffect","get","fetchSession","companyId","socket","on","whatsappId","WhatsAppsContext","createContext","WhatsAppsProvider","children","Provider","value","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","config","headers","JSON","parse","Promise","reject","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","undefined","handleLogin","userData","has","isArray","setting","find","key","push","handleLogout","getCurrentUserInfo","AuthContext","AuthProvider","rules","static","admin","Can","role","perform","yes","no","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","check","ListItemLink","props","icon","primary","to","className","renderLink","React","useMemo","forwardRef","itemProps","ref","ListItem","button","component","ListItemIcon","ListItemText","defaultProps","newChats","forEach","chatIndex","u","chatId","map","MainListItems","drawerClose","useContext","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","showCampaigns","setShowCampaigns","invisible","setInvisible","pageNumber","setPageNumber","searchParam","delayDebounceFn","setTimeout","fetchChats","clearTimeout","unreadsCount","length","chatUser","unreads","filter","whats","records","onClick","Badge","badgeContent","variant","Divider","ListSubheader","inset","prev","Collapse","style","paddingLeft","in","unmountOnExit","List","disablePadding","super","useStyles","makeStyles","theme","position","buttonProgress","green","top","left","marginTop","marginLeft","ButtonWithSpinner","rest","classes","Button","CircularProgress","size","elements","allowedElements","CustomLink","target","rel","MarkdownWrapper","boldRegex","tildaRegex","test","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","element","el","ticket","pendingTicket","cursor","noTicketsDiv","display","height","margin","flexDirection","alignItems","justifyContent","noTicketsText","textAlign","fontSize","lineHeight","fontWeight","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","alignSelf","marginRight","contactLastMessage","paddingRight","newMessagesCount","badgeStyle","backgroundColor","acceptButton","ticketQueueColor","flex","width","TicketListItem","ticketId","useParams","isMounted","useRef","current","handleAcepptTicket","put","uuid","Fragment","dense","e","handleSelectTicket","selected","clsx","Tooltip","arrow","placement","queue","ListItemAvatar","Avatar","src","profilePicUrl","disableTypography","Typography","noWrap","lastMessage","isSameDay","parseISO","Date","format","secondary","unreadMessages","badge","useTickets","date","queueIds","withUnreadMessages","hasMore","setHasMore","setTickets","fetchTickets","tabContainer","overflowY","maxHeight","scrollbarStyles","popoverPaper","maxWidth","spacing","breakpoints","down","noShadow","boxShadow","NotificationsPopOver","ticketIdUrl","location","pathname","split","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","setDesktopNotifications","useSound","alertSound","play","soundAlertRef","historyRef","window","Notification","requestPermission","console","log","q","filteredTickets","indexOf","queueId","emit","prevState","ticketIndex","notfiticationIndex","n","tag","String","read","document","visibilityState","isGroup","chatbot","handleNotifications","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","IconButton","aria-label","Popover","disableScrollLock","anchorOrigin","vertical","horizontal","transformOrigin","paper","onClose","chips","flexWrap","chip","QueueSelect","selectedQueueIds","onChange","setQueues","FormControl","fullWidth","InputLabel","Select","multiple","labelWidth","MenuProps","getContentAnchorEl","renderValue","Chip","label","MenuItem","root","multFieldLine","btnWrapper","formControl","minWidth","UserSchema","Yup","shape","min","max","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","userQueueIds","fetchUser","handleClose","handleSaveUser","values","Dialog","scroll","DialogTitle","initialValues","enableReinitialize","validationSchema","onSubmit","setSubmitting","touched","errors","isSubmitting","DialogContent","dividers","as","TextField","autoFocus","Boolean","helperText","labelId","DialogActions","backdrop","zIndex","drawer","BackdropLoading","Backdrop","mainPaper","padding","AnnouncementDialog","filename","announcement","aria-labelledby","aria-describedby","border","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","DialogContentText","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnchorEl","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","record","event","currentTarget","Paper","onScroll","scrollTop","scrollHeight","clientHeight","item","background","borderLeft","alt","moment","createdAt","useDate","dateToClient","strDate","isValid","datetimeToClient","dateToDatabase","ChatPopover","notifySound","newMessage","senderId","href","toolbar","toolbarIcon","minHeight","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","up","appBarSpacer","overflow","container","paddingTop","paddingBottom","containerWithScroll","LoggedInLayout","userModalOpen","setUserModalOpen","menuOpen","setMenuOpen","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","useTheme","greaterThenSm","useMediaQuery","offsetWidth","clear","reload","interval","setInterval","clearInterval","handleCloseMenu","Drawer","logo","AppBar","Toolbar","edge","aria-controls","aria-haspopup","Menu","Title","gutterBottom","Chart","toISOString","time","amount","chartData","setChartData","aux","startOfHour","ResponsiveContainer","BarChart","barSize","right","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","stroke","palette","YAxis","allowDecimals","Label","angle","textAnchor","fill","Bar","main","cardAvatar","grey","cardTitle","cardSubtitle","CardCounter","Skeleton","Card","CardHeader","avatar","subheader","off","red","pointer","RatingBox","rating","ratingTrunc","Math","trunc","Rating","defaultValue","readOnly","TableAttendantsStatus","attendants","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","minutes","avgSupportTime","startOf","online","useDashboard","url","method","fixedHeightPaper","blue","alignRight","selectContainer","Dashboard","counters","setCounters","setAttendants","filterType","setFilterType","period","setPeriod","dateFrom","setDateFrom","dateTo","setDateTo","fetchData","days","isEmpty","date_from","date_to","Object","keys","formatTime","firstLoad","Container","Grid","xs","sm","md","handleChangeFilterType","FormHelperText","InputLabelProps","shrink","handleChangePeriod","supportPending","supportHappening","supportFinished","leads","avgWaitTime","textField","extraAttr","ContactSchema","ContactModal","contactId","onSave","setContact","fetchContact","handleSaveContact","marginBottom","remove","info","index","createFilterOptions","trim","NewTicketModal","modalOpen","initialContact","setOptions","setSearchParam","selectedContact","setSelectedContact","selectedQueue","setSelectedQueue","newContact","setNewContact","contactModalOpen","setContactModalOpen","fetchContacts","handleSaveTicket","createAddContactOption","filterOptions","filtered","inputValue","renderOption","option","renderOptionLabel","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","newValue","handleSelectOption","renderInput","onKeyPress","InputProps","endAdornment","displayEmpty","TicketsContext","TicketsContextProvider","code","currentTicket","setCurrentTicket","messageMedia","objectFit","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","URL","createObjectURL","Blob","fetchImage","smallSrcSet","medium","large","ConfirmationModal","onConfirm","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","MessageOptionsMenu","confirmationOpen","setConfirmationOpen","handleDeleteMessage","fromMe","messagesListWrapper","whatsBackground","circleLoading","opacity","messageLeft","quotedContainerLeft","borderRadius","quotedMsg","quotedSideColorLeft","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","messageContactName","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","dailyTimestamp","dailyTimestampText","ackIcons","verticalAlign","deletedIcon","ackDoneAllIcon","downloadMedia","newMessages","messageIndex","m","messageToUpdate","MessagesList","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","scrollToBottom","fetchMessages","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","mediaUrl","controls","startIcon","GetApp","renderDailyTimestamps","messageDay","previousMessageDay","float","renderMessageDivider","renderQuotedMessage","getElementById","prevPageNumber","isDeleted","Block","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketHeader","borderBottom","TicketHeaderSkeleton","square","titleTypographyProps","subheaderTypographyProps","animation","TicketHeader","TicketInfo","userName","setUserName","contactName","setContactName","truncadName","substring","mainWrapper","mainWrapperShift","easeOut","TicketMessagesDialog","setTicket","fetchTicket","handleDrawerOpen","renderTicketInfo","Box","ticketInfo","TicketListItemCustom","ticketUser","setTicketUser","openTicketMessageDialog","setOpenTicketMessageDialog","uuidv4","ListItemSecondaryAction","TicketsSkeleton","ticketsListWrapper","borderTop","ticketsListHeader","ticketsCount","unshift","TicketsListCustom","updateCount","shouldUpdateTicket","elevation","TicketsListSkeleton","TabPanel","TicketsQueueSelect","userQueues","Checkbox","checked","TagsFilter","onFiltered","setTags","selecteds","setSelecteds","loadTags","v","r","renderTags","getTagProps","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","Array","userList","getOptionSelected","toLowerCase","getUserProps","ticketsWrapper","tabsHeader","settingsIcon","tab","ticketOptionsBox","serachInputWrapper","searchIcon","searchInput","show","hide","TicketsManagerTabs","searchTimeout","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","selectedTags","setSelectedTags","selectedUsers","setSelectedUsers","toUpperCase","applyPanelStyle","handleCloseOrOpenTicket","Tabs","indicatorColor","textColor","Tab","InputBase","inputRef","searchedTerm","FormControlLabel","labelPlacement","control","Switch","val","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","textCenter","ContactForm","onCancel","inline","ContactNotesDialogListItem","note","deleteItem","useTicketNotes","saveNote","responseData","deleteNote","listNotes","list","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleSave","handleOpenDialogDelete","handleDelete","setErrors","rows","multiline","flexShrink","borderRight","ContactDrawer","handleDrawerClose","setModalOpen","openForm","setOpenForm","anchor","PaperProps","BackdropProps","ModalProps","Link","timerBox","RecordingTimer","seconds","timer","setTimer","addZero","useQuickMessages","save","deleteRecord","Mp3Recorder","MicRecorder","bitRate","newMessageBox","messageInputWrapper","messageInput","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","EmojiOptions","showEmoji","setShowEmoji","handleAddEmoji","perLine","showPreview","showSkinTones","onSelect","SignSwitch","setSignMessage","isWidthUp","FileInput","handleChangeMedias","disableOption","htmlFor","ActionButtons","inputMessage","recording","ticketStatus","handleSendMessage","handleCancelAudio","handleUploadAudio","handleStartRecording","CustomInput","setInputMessage","handleInputPaste","setQuickMessages","popupOpen","setPopupOpen","listQuickMessages","truncatedMessage","firstWord","charAt","filteredOptions","setInputRef","input","closeIcon","opt","onInputChange","reason","onPaste","shiftKey","maxRows","withWidth","medias","setMedias","setRecording","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","handleUploadMedia","formData","FormData","append","navigator","mediaDevices","getUserMedia","audio","start","stop","getMp3","blob","getTime","renderReplyingMessage","emoji","native","files","selectedMedias","from","clipboardData","useQueues","findAll","TransferTicketModalCustom","ticketid","allQueues","setAllQueues","selectedUser","setSelectedUser","findAllQueues","loadQueues","fetchUsers","noOptionsText","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","setSchedule","currentContact","setCurrentContact","setContacts","c","customList","handleSaveSchedule","scheduleData","capitalize","TicketOptionsMenu","transferTicketModalOpen","setTransferTicketModalOpen","scheduleModalOpen","setScheduleModalOpen","setContactId","handleDeleteTicket","handleOpenConfirmationModal","keepMounted","actionButtons","TicketActionButtonsCustom","ticketOptionsMenuOpen","customTheme","createTheme","handleUpdateTicketStatus","Replay","ThemeProvider","MoreVert","TagsContainer","then","createTag","syncTags","optionsChanged","newTag","PaperComponent","Ticket","chatContainer","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","TicketsCustom","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","SignUp","qs","handleSignUp","Error","CssBaseline","autoComplete","justify","RouterLink","mt","Login","handleChangeInput","noValidate","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","_","SessionSchema","memo","isDefault","provider","setWhatsApp","whatsQueueIds","handleSaveWhatsApp","whatsappData","selectedIds","setQrCode","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleStartWhatsAppSession","handleRequestNewQrCode","handleOpenWhatsAppModal","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","handleSubmitConfirmationModal","renderActionButtons","handleOpenQrModal","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","handleEditWhatsApp","Edit","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","weekday","weekdayEn","startTime","endTime","setSchedules","handleSubmit","render","arrayHelpers","field","customInput","useCompanies","updateSchedules","usePlans","getPlanList","QueueSelectCustom","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","plans","setPlans","modalUser","setModalUser","firstUser","setFirstUser","phone","planId","campaignsEnabled","dueDate","recurrence","setRecord","listPlans","handleOpenModalUsers","head","resetForm","setValues","incrementDueDate","CompaniesManagerGrid","rowStyle","now","diff","renderPlan","renderCampaignsStatus","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","loadPlans","companyList","handleCancel","PlanManagerForm","PlansManagerGrid","PlansManager","planList","HelpManagerForm","HelpsManagerGrid","description","video","HelpsManager","useHelps","loadHelps","helpList","useSettings","getAll","Options","scheduleTypeChanged","userRating","setUserRating","scheduleType","setScheduleType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","handleChangeUserRating","handleScheduleType","OnlyForSuperUser","SettingsCustom","setCompany","currentUser","setCurrentUser","setSettings","schedulesEnabled","setSchedulesEnabled","getAllSettings","settingList","d","findData","handleSubmitSchedules","isSuper","scrollButtons","newUsers","userIndex","Users","deletingUser","setDeletingUser","handleDeleteUser","startAdornment","InputAdornment","handleEditUser","newContacts","contactIndex","Contacts","selectedContactId","setSelectedContactId","contactTicket","setContactTicket","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","handleDeleteContact","handleimportContact","go","ColorPicker","currentColor","selectedColor","setSelectedColor","triangle","hex","onChangeComplete","addButton","QueueOptionStepper","updateOptions","activeOption","setActiveOption","handleOption","parentId","optionList","edition","handleEdition","handleDeleteOption","order","renderTitle","handleOptionChangeTitle","renderMessage","handleOptionChangeMessage","renderStep","Step","StepLabel","StepContent","optionNumber","handleAddOption","Stepper","nonLinear","activeStep","orientation","QueueOptions","fetchOptions","newOption","renderStepper","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","handleSaveQueue","handleSaveSchedules","onFocus","Colorize","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleDeleteQueue","handleEditQueue","TagSchema","TagModal","tagId","setTag","handleSaveTag","tagData","disableAlpha","hslGradient","newTags","tagIndex","Tags","selectedTag","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchTags","handleDeleteTag","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","file","setFile","handleSendTextMessage","handleSendMediaMessage","firstFile","heading","flexBasis","secondaryHeading","Helps","Accordion","AccordionSummary","expandIcon","AccordionDetails","frameBorder","allow","allowFullScreen","renderVideo","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","handleSaveContactList","contactListData","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","handleDeleteContactList","ContactListDialog","contactsCount","planilhaExemplo","download","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","fileUploadRef","findContactList","handleImportContacts","click","isWhatsappValid","titleAccess","htmlColor","QuickMessagesTable","showLoading","editMessage","setRows","handleEdit","setOpen","MessageSchema","QuickMessageDialog","initialMessage","saveMessage","messageSelected","dialogOpen","setDialogOpen","setMessage","verifyAndSetMessage","messageSelectedIsValid","isNil","direction","propType","PropType","bool","func","QuickMessages","setMessages","setMessageSelected","listMessages","updateMessage","loadingQuickMessages","handleCloseModal","Route","Component","isPrivate","newSchedules","scheduleIndex","Schedules","param","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleOpenScheduleModal","handleDeleteSchedule","str","len","handleEditSchedule","CampaignSchema","CampaignModal","campaignId","resetPagination","campaign","setCampaign","whatsapps","setWhatsapps","setContactLists","messageTab","setMessageTab","attachment","setAttachment","campaignEditable","setCampaignEditable","attachmentFile","prevCampaignData","assign","entries","moreThenAnHour","Number","isNaN","isEditable","handleSaveCampaign","dataValues","deleteMedia","renderMessageField","identifier","renderConfirmationMessageField","cancelCampaign","restartCampaign","handleAttachmentFile","centered","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","handleDeleteCampaign","formatStatus","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","settingsList","fromEntries","handleOnChangeVariable","changedProp","handleOnChangeSettings","saveSettings","newList","variablesExists","CampaignReport","validContacts","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","LinearProgress","AnnouncementSchema","AnnouncementModal","handleSaveAnnouncement","announcementData","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleEditAnnouncement","chatList","listItem","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","goToMessages","getPrimaryText","mainText","getSecondaryText","getItemStyle","ownerId","messageList","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridContainer","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","changedChats","filteredChats","sendMessage","deleteChat","loadMoreMessages","Routes","exact","path","Signup","TicketResponsiveContainer","Annoucements","Chat","autoClose","App","locale","setLocale","i18nlocale","ptBR","ReactDOM"],"mappings":"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CA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAa,SAAH,OAAMxI,EAAQ,EAARA,SAAasD,EAAK,0BACvC,uCAAOA,EAAK,CAAEmF,OAAO,SAASC,IAAI,wBAChC1I,IAsCY2I,GAlCS,SAAH,GAAsB,IAAhB3I,EAAQ,EAARA,SACpB4I,EAAY,aACZC,EAAa,WAEf7I,GAAY4I,EAAUE,KAAK9I,KAC9BA,EAAWA,EAAS+I,QAAQH,EAAW,WAEpC5I,GAAY6I,EAAWC,KAAK9I,KAC/BA,EAAWA,EAAS+I,QAAQF,EAAY,WAGzC,IAAMvQ,EAAUsL,IAAMC,SAAQ,WAC7B,IAAMmF,EAAkB,CACvBC,uBAAuB,EACvBC,aAAa,EACbC,UAAW,CACVC,EAAG,CAAEjF,UAAWqE,MAUlB,OANAF,GAAS9D,SAAQ,SAAA6E,GACXd,GAAgBvF,SAASqG,KAC7BL,EAAgBG,UAAUE,GAAW,SAAAC,GAAE,OAAIA,EAAGtJ,UAAY,UAIrDgJ,IACL,IAEH,OAAKhJ,EAEE,kBAAC,KAAQ,CAAC1H,QAASA,GAAU0H,GAFd,M,wBCnLvB,6xMAwBA,IAAMsH,GAAYC,aAAW,SAACC,GAAK,MAAM,CAC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","file":"static/js/main.7d8ad5cb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/zapsimples.84b97029.png\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.2675a051.png\";","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usurio criado com sucesso! Faa seu login!!!.\",\n          fail: \"Erro ao criar usurio. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"J tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"No tem um conta? Cadastre-se!\",\n        },\n      },\n      companies: {\n        title: \"Cadastrar Empresa\",\n        form: {\n          name: \"Nome da Empresa\",\n          plan: \"Plano\",\n          token: \"Token\",\n          submit: \"Cadastrar\",\n          success: \"Empresa criada com sucesso!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Atendimentos hoje: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexes\",\n        toasts: {\n          deleted: \"Conexo com o WhatsApp excluda com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Voc tem certeza? Essa ao no pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Voc precisar ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sesso do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no boto 'QR CODE' e leia o QR Code com o seu celular para iniciar a sesso\",\n          },\n          connected: {\n            title: \"Conexo estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexo com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e o WhatsApp esteja aberto, ou clique no boto 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"ltima atualizao\",\n          default: \"Padro\",\n          actions: \"Aes\",\n          session: \"Sesso\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padro\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sesso\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excludo com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados sero perdidos.\",\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Aes\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informaes adicionais\",\n          name: \"Nome\",\n          number: \"Nmero do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informao\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudao\",\n          complationMessage: \"Mensagem de concluso\",\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\n          ratingMessage: \"Mensagem de avaliao\",\n          token: \"Token\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usurio\",\n          edit: \"Editar usurio\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usurio salvo com sucesso.\",\n      },\n      scheduleModal: {\n        title: {\n          add: \"Novo Agendamento\",\n          edit: \"Editar Agendamento\",\n        },\n        form: {\n          body: \"Mensagem\",\n          contact: \"Contato\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Agendamento salvo com sucesso.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nova Tag\",\n          edit: \"Editar Tag\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para comear a conversar.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O atendimento que voc estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Abertas\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar atendimento e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usurios\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        noOptions: \"Nenhum usurio encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\n        buttons: {\n          accept: \"Aceitar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexes\",\n          tickets: \"Atendimentos\",\n          quickMessages: \"Respostas Rpidas\",\n          contacts: \"Contatos\",\n          queues: \"Filas & Chatbot\",\n          tags: \"Tags\",\n          administration: \"Administrao\",\n          users: \"Usurios\",\n          settings: \"Configuraes\",\n          helps: \"Ajuda\",\n          messagesAPI: \"API\",\n          schedules: \"Agendamentos\",\n          campaigns: \"Campanhas\",\n          annoucements: \"Informativos\",\n          chats: \"Chat Interno\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      messagesAPI: {\n        title: \"API\",\n        textMessage: {\n          number: \"Nmero\",\n          body: \"Mensagem\",\n          token: \"Token cadastrado\",\n        },\n        mediaMessage: {\n          number: \"Nmero\",\n          body: \"Nome do arquivo\",\n          media: \"Arquivo\",\n          token: \"Token cadastrado\",\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificao.\",\n      },\n      quickMessages: {\n        title: \"Respostas Rpidas\",\n        buttons: {\n          add: \"Nova Resposta\",\n        },\n        dialog: {\n          shortcode: \"Atalho\",\n          message: \"Resposta\",\n        },\n      },\n      contactLists: {\n        title: \"Listas de Contatos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Nova Lista\",\n        },\n        dialog: {\n          name: \"Nome\",\n          company: \"Empresa\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        toasts: {\n          deleted: \"Registro excludo\",\n        },\n      },\n      contactListItems: {\n        title: \"Contatos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo\",\n          lists: \"Listas\",\n          import: \"Importar\",\n        },\n        dialog: {\n          name: \"Nome\",\n          number: \"Nmero\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        table: {\n          name: \"Nome\",\n          number: \"Nmero\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          actions: \"Aes\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n          importMessage: \"Deseja importar os contatos desta planilha? \",\n          importTitlte: \"Importar\",\n        },\n        toasts: {\n          deleted: \"Registro excludo\",\n        },\n      },\n      campaigns: {\n        title: \"Campanhas\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Nova Campanha\",\n          contactLists: \"Listas de Contatos\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"Conexo\",\n          contactList: \"Lista de Contatos\",\n          status: \"Status\",\n          scheduledAt: \"Agendamento\",\n          completedAt: \"Concluda\",\n          confirmation: \"Confirmao\",\n          actions: \"Aes\",\n        },\n        dialog: {\n          new: \"Nova Campanha\",\n          update: \"Editar Campanha\",\n          readonly: \"Apenas Visualizao\",\n          form: {\n            name: \"Nome\",\n            message1: \"Mensagem 1\",\n            message2: \"Mensagem 2\",\n            message3: \"Mensagem 3\",\n            message4: \"Mensagem 4\",\n            message5: \"Mensagem 5\",\n            confirmationMessage1: \"Mensagem de Confirmao 1\",\n            confirmationMessage2: \"Mensagem de Confirmao 2\",\n            confirmationMessage3: \"Mensagem de Confirmao 3\",\n            confirmationMessage4: \"Mensagem de Confirmao 4\",\n            confirmationMessage5: \"Mensagem de Confirmao 5\",\n            messagePlaceholder: \"Contedo da mensagem\",\n            whatsapp: \"Conexo\",\n            status: \"Status\",\n            scheduledAt: \"Agendamento\",\n            confirmation: \"Confirmao\",\n            contactList: \"Lista de Contato\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar Disparos\",\n            restart: \"Reiniciar Disparos\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operao realizada com sucesso\",\n          cancel: \"Campanha cancelada\",\n          restart: \"Campanha reiniciada\",\n          deleted: \"Registro excludo\",\n        },\n      },\n      announcements: {\n        title: \"Informativos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo Informativo\",\n          contactLists: \"Listas de Informativos\",\n        },\n        table: {\n          priority: \"Prioridade\",\n          title: \"Title\",\n          text: \"Texto\",\n          mediaName: \"Arquivo\",\n          status: \"Status\",\n          actions: \"Aes\",\n        },\n        dialog: {\n          edit: \"Edio de Informativo\",\n          add: \"Novo Informativo\",\n          update: \"Editar Informativo\",\n          readonly: \"Apenas Visualizao\",\n          form: {\n            priority: \"Prioridade\",\n            title: \"Title\",\n            text: \"Texto\",\n            mediaPath: \"Arquivo\",\n            status: \"Status\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operao realizada com sucesso\",\n          deleted: \"Registro excludo\",\n        },\n      },\n      campaignsConfig: {\n        title: \"Configuraes de Campanhas\",\n      },\n      queues: {\n        title: \"Filas & Chatbot\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudao\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Voc tem certeza? Essa ao no pode ser revertida! Os atendimentos dessa fila continuaro existindo, mas no tero mais nenhuma fila atribuda.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      users: {\n        title: \"Usurios\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar usurio\",\n        },\n        toasts: {\n          deleted: \"Usurio excludo com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usurio sero perdidos. Os atendimento abertos deste usurio sero movidos para a fila.\",\n        },\n      },\n      helps: {\n        title: \"Central de Ajuda\",\n      },\n      schedules: {\n        title: \"Agendamentos\",\n        confirmationModal: {\n          deleteTitle: \"Voc tem certeza que quer excluir este Agendamento?\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        table: {\n          contact: \"Contato\",\n          body: \"Mensagem\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          status: \"Status\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Novo Agendamento\",\n        },\n        toasts: {\n          deleted: \"Agendamento excludo com sucesso.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle: \"Voc tem certeza que quer excluir esta Tag?\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          tickets: \"Registros Tagdos\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Nova Tag\",\n        },\n        toasts: {\n          deleted: \"Tag excludo com sucesso.\",\n        },\n      },\n      settings: {\n        success: \"Configuraes salvas com sucesso.\",\n        title: \"Configuraes\",\n        settings: {\n          userCreation: {\n            name: \"Criao de usurio\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribudo :\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informaes\",\n      },\n      ticketOptionsMenu: {\n        schedule: \"Agendamento\",\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        registerAppointment: \"Observaes do Contato\",\n        appointmentsModal: {\n          title: \"Observaes do Contato\",\n          textarea: \"Observao\",\n          placeholder: \"Insira aqui a informao que deseja registrar\",\n        },\n        confirmationModal: {\n          title: \"Deletar o ticket do contato\",\n          message:\n            \"Ateno! Todas as mensagens relacionadas ao ticket sero perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ao no pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padro.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padro encontrado. Verifique a pgina de conexes.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesso do WhatsApp no foi inicializada. Verifique a pgina de conexes.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No foi possvel verificar o contato do WhatsApp. Verifique a pgina de conexes\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no  um nmero de Whatsapp vlido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No foi possvel baixar mdia do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticao. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_DELETE_WAPP_MSG: \"No foi possvel excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"J existe um tquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sesso expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criao do usurio foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Voc no tem permisso para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"J existe um contato com este nmero.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configurao encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usurio encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor j est em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudao  obrigatrio quando h mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n\ten: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Sign up\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"User created successfully! Please login!\",\n\t\t\t\t\tfail: \"Error creating user. Check the reported data.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Register\",\n\t\t\t\t\tlogin: \"Already have an account? Log in!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Login\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Enter\",\n\t\t\t\t\tregister: \"Don't have an account? Register!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Login successfully!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets today: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Connections\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"WhatsApp connection deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage: \"Are you sure? It cannot be reverted.\",\n\t\t\t\t\tdisconnectTitle: \"Disconnect\",\n\t\t\t\t\tdisconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tdisconnect: \"Disconnect\",\n\t\t\t\t\ttryAgain: \"Try Again\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"New QR CODE\",\n\t\t\t\t\tconnecting: \"Connectiing\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"Failed to start WhatsApp session\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Waiting for QR Code read\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Connection established\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Connection with cell phone has been lost\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tstatus: \"Status\",\n\t\t\t\t\tlastUpdate: \"Last Update\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t\tsession: \"Session\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tedit: \"Edit WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp saved successfully.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Read QrCode to start the session\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contacts\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Contact deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Search ...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\timportTitlte: \"Import contacts\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure you want to delete this contact? All related tickets will be lost.\",\n\t\t\t\t\timportMessage: \"Do you want to import all contacts from the phone?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Import Contacts\",\n\t\t\t\t\tadd: \"Add Contact\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add contact\",\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Contact details\",\n\t\t\t\t\textraInfo: \"Additional information\",\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tnumber: \"Whatsapp number\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\textraName: \"Field name\",\n\t\t\t\t\textraValue: \"Value\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Add information\",\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contact saved successfully.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t\tedit: \"Edit queue\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Greeting Message\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t\tedit: \"Edit user\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"User saved successfully.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Select a ticket to start chatting.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"New\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Queues\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"The ticket you were on has been deleted.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Message from\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Inbox\" },\n\t\t\t\t\tclosed: { title: \"Resolved\" },\n\t\t\t\t\tsearch: { title: \"Search\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Search tickets and messages.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"All\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transfer Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for users\",\n\t\t\t\tnoOptions: \"No user found with this name\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transfer\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Queue\",\n\t\t\t\tassignedHeader: \"Working on\",\n\t\t\t\tnoTicketsTitle: \"Nothing here!\",\n\t\t\t\tnoTicketsMessage: \"No tickets found with this status or search term.\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Create Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for a contact\",\n\t\t\t\tadd: \"Add\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Connections\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contacts\",\n\t\t\t\t\tqueues: \"Queues\",\n\t\t\t\t\tadministration: \"Administration\",\n\t\t\t\t\tusers: \"Users\",\n\t\t\t\t\tsettings: \"Settings\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\t\tlogout: \"Logout\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"No notifications.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Queues\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Greeting message\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Queues\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Users\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"User deleted sucessfully.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"All user data will be lost. Users' open tickets will be moved to queue.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Settings saved successfully.\",\n\t\t\t\ttitle: \"Settings\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"User creation\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Enabled\",\n\t\t\t\t\t\t\tdisabled: \"Disabled\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Assigned to:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Return\",\n\t\t\t\t\t\tresolve: \"Resolve\",\n\t\t\t\t\t\treopen: \"Reopen\",\n\t\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Type a message\",\n\t\t\t\tplaceholderClosed: \"Reopen or accept this ticket to send a message.\",\n\t\t\t\tsignMessage: \"Sign\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Contact details\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Other information\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\ttransfer: \"Transfer\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete ticket #\",\n\t\t\t\t\ttitleFrom: \"from contact \",\n\t\t\t\t\tmessage: \"Attention! All ticket's related messages will be lost.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Delete\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\treply: \"Reply\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete message?\",\n\t\t\t\t\tmessage: \"This action cannot be reverted.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"There must be at lest one default WhatsApp connection.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No default WhatsApp found. Check connections page.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"This WhatsApp session is not initialized. Check connections page.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"Could not check WhatsApp contact. Check connections page.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"Could not download media from WhatsApp. Check connections page.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error sending WhatsApp message. Check connections page.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET:\n\t\t\t\t\t\"There's already an open ticket for this contact.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"User creation was disabled by administrator.\",\n\t\t\t\tERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n\t\t\t\tERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No user found with this ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error fetching the message in WhtasApp, maybe it is too old.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"This color is already in use, pick another one.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"Greeting message is required if there is more than one queue.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","const messages = {\n\tes: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Registro\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess:\n\t\t\t\t\t\t\"El usuario ha sido creado satisfactoriamente! Ahora inicia sesin!\",\n\t\t\t\t\tfail: \"Error creando el usuario. Verifica la data reportada.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Correo Electrnico\",\n\t\t\t\t\tpassword: \"Contrasea\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Regstrate\",\n\t\t\t\t\tlogin: \"Ya tienes una cuenta? Inicia sesin!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Inicio de Sesin\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Correo Electrnico\",\n\t\t\t\t\tpassword: \"Contrasea\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Ingresa\",\n\t\t\t\t\tregister: \"No tienes cuenta? Regstrate!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Inicio de sesin exitoso!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets hoy: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Conexiones\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted:\n\t\t\t\t\t\t\"La conexin de WhatsApp ha sido borrada satisfactoriamente!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"Ests seguro? Este proceso no puede ser revertido.\",\n\t\t\t\t\tdisconnectTitle: \"Desconectar\",\n\t\t\t\t\tdisconnectMessage: \"Ests seguro? Deber volver a leer el cdigo QR\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agrega WhatsApp\",\n\t\t\t\t\tdisconnect: \"Desconectar\",\n\t\t\t\t\ttryAgain: \"Intntalo de nuevo\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"Nuevo QR CODE\",\n\t\t\t\t\tconnecting: \"Conectando\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"No se pudo iniciar la sesin de WhatsApp\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Asegrese de que su telfono celular est conectado a Internet y vuelva a intentarlo o solicite un nuevo cdigo QR\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Esperando la lectura del cdigo QR\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Haga clic en el botn 'CDIGO QR' y lea el Cdigo QR con su telfono celular para iniciar la sesin\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Conexin establecida\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Se perdi la conexin con el telfono celular\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Asegrese de que su telfono celular est conectado a Internet y que WhatsApp est abierto, o haga clic en el botn 'Desconectar' para obtener un nuevo cdigo QR\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\tlastUpdate: \"ltima Actualizacin\",\n\t\t\t\t\tdefault: \"Por Defecto\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t\tsession: \"Sesin\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agrega WhatsApp\",\n\t\t\t\t\tedit: \"Edita WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tdefault: \"Por Defecto\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Agregar\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp guardado satisfactoriamente.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Le el cdigo QR para empezar la sesin.\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contactos\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Contacto borrado satisfactoriamente!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Buscar...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\timportTitlte: \"Importar contactos\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Ests seguro que deseas borrar este contacto? Todos los tickets relacionados se perdern.\",\n\t\t\t\t\timportMessage:\n\t\t\t\t\t\t\"Quieres importar todos los contactos desde tu telfono?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Importar Contactos\",\n\t\t\t\t\tadd: \"Agregar Contacto\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Correo Electrnico\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agregar contacto\",\n\t\t\t\t\tedit: \"Editar contacto\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Detalles del contacto\",\n\t\t\t\t\textraInfo: \"Informacin adicional\",\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tnumber: \"Nmero de Whatsapp\",\n\t\t\t\t\temail: \"Correo Electrnico\",\n\t\t\t\t\textraName: \"Nombre del Campo\",\n\t\t\t\t\textraValue: \"Valor\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Agregar informacin\",\n\t\t\t\t\tokAdd: \"Agregar\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contacto guardado satisfactoriamente.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agregar cola\",\n\t\t\t\t\tedit: \"Editar cola\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Mensaje de saludo\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Aadir\",\n\t\t\t\t\tokEdit: \"Ahorrar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agregar usuario\",\n\t\t\t\t\tedit: \"Editar usuario\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Correo Electrnico\",\n\t\t\t\t\tpassword: \"Contrasea\",\n\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Agregar\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Usuario guardado satisfactoriamente.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"Nuevo\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Linhas\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"El ticket en el que estabas ha sido borrado.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Mensaje de\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Bandeja\" },\n\t\t\t\t\tclosed: { title: \"Resueltos\" },\n\t\t\t\t\tsearch: { title: \"Buscar\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Buscar tickets y mensajes.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"Todos\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transferir Ticket\",\n\t\t\t\tfieldLabel: \"Escriba para buscar usuarios\",\n\t\t\t\tnoOptions: \"No se encontraron usuarios con ese nombre\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transferir\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Cola\",\n\t\t\t\tassignedHeader: \"Trabajando en\",\n\t\t\t\tnoTicketsTitle: \"Nada ac!\",\n\t\t\t\tnoTicketsMessage:\n\t\t\t\t\t\"No se encontraron tickets con este estado o trmino de bsqueda\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Acceptar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Crear Ticket\",\n\t\t\t\tfieldLabel: \"Escribe para buscar un contacto\",\n\t\t\t\tadd: \"Aadir\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Conexiones\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contactos\",\n\t\t\t\t\tqueues: \"Linhas\",\n\t\t\t\t\tadministration: \"Administracin\",\n\t\t\t\t\tusers: \"Usuarios\",\n\t\t\t\t\tsettings: \"Configuracin\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t\t\tlogout: \"Cerrar Sesin\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"Sin notificaciones.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Linhas\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Mensaje de saludo\",\n\t\t\t\t\tactions: \"Comportamiento\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agregar cola\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Eliminar\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Ests seguro? Esta accin no se puede revertir! Los tickets en esa cola seguirn existiendo, pero ya no tendrn ninguna cola asignada.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Linhas\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Usuarios\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Correo Electrnico\",\n\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agregar usuario\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Usuario borrado satisfactoriamente.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Toda la informacin del usuario se perder. Los tickets abiertos de los usuarios se movern a la cola.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Configuracin guardada satisfactoriamente.\",\n\t\t\t\ttitle: \"Configuracin\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"Creacin de usuarios\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Habilitado\",\n\t\t\t\t\t\t\tdisabled: \"Deshabilitado\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Asignado a:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Devolver\",\n\t\t\t\t\t\tresolve: \"Resolver\",\n\t\t\t\t\t\treopen: \"Reabrir\",\n\t\t\t\t\t\taccept: \"Aceptar\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Escribe un mensaje\",\n\t\t\t\tplaceholderClosed:\n\t\t\t\t\t\"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n\t\t\t\tsignMessage: \"Firmar\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Detalles del contacto\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Editar contacto\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Otra informacin\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Borrar\",\n\t\t\t\ttransfer: \"Transferir\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Borrar ticket #\",\n\t\t\t\t\ttitleFrom: \"del contacto \",\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t\"Atencin! Todos los mensajes Todos los mensajes relacionados con el ticket se perdern.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Borrar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Borrar\",\n\t\t\t\treply: \"Responder\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Borrar mensaje?\",\n\t\t\t\t\tmessage: \"Esta accin no puede ser revertida.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"Debe haber al menos una conexin de WhatsApp predeterminada.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No se encontr WhatsApp predeterminado. Verifique la pgina de conexiones.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"Esta sesin de WhatsApp no est inicializada. Verifique la pgina de conexiones.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"No se pudo verificar el contacto de WhatsApp. Verifique la pgina de conexiones.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"Este no es un nmero de whatsapp vlido.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"No se pudieron descargar los medios de WhatsApp. Verifique la pgina de conexiones.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Error de autenticacin. Vuelva a intentarlo.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error al enviar el mensaje de WhatsApp. Verifique la pgina de conexiones.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Sesin caducada. Inicie sesin.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"La creacin de usuarios fue deshabilitada por el administrador.\",\n\t\t\t\tERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este nmero.\",\n\t\t\t\tERR_NO_SETTING_FOUND:\n\t\t\t\t\t\"No se encontr ninguna configuracin con este ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No se encontr ningn contacto con este ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No se encontr ningn ticket con este ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No se encontr ningn usuario con este ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No se encontr WhatsApp con este ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"Este color ya est en uso, elija otro.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"El mensaje de saludo es obligatorio cuando hay ms de una cola.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"pt\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\nimport { isString } from 'lodash';\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t\treturn\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t\treturn\n\t\t}\n\t} if (isString(err)) {\n\t\ttoast.error(err);\n\t\treturn\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t\treturn\n\t}\n};\n\nexport default toastError;\n","import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true,\n});\n\nexport const openApi = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\n});\n\nexport default api;\n","import openSocket from \"socket.io-client\";\nimport { isObject } from \"lodash\";\n\nexport function socketConnection(params) {\n  let userId = null;\n  if (localStorage.getItem(\"userId\")) {\n    userId = localStorage.getItem(\"userId\");\n  }\n  return openSocket(process.env.REACT_APP_BACKEND_URL, {\n    transports: [\"websocket\", \"polling\", \"flashsocket\"],\n    pingTimeout: 18000,\n    pingInterval: 18000,\n    query: isObject(params) ? { ...params, userId } : { userId },\n  });\n}\n","import { useState, useEffect, useReducer } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_WHATSAPPS\") {\n    const whatsApps = action.payload;\n\n    return [...whatsApps];\n  }\n\n  if (action.type === \"UPDATE_WHATSAPPS\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex] = whatsApp;\n      return [...state];\n    } else {\n      return [whatsApp, ...state];\n    }\n  }\n\n  if (action.type === \"UPDATE_SESSION\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex].status = whatsApp.status;\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\n      state[whatsAppIndex].retries = whatsApp.retries;\n      return [...state];\n    } else {\n      return [...state];\n    }\n  }\n\n  if (action.type === \"DELETE_WHATSAPPS\") {\n    const whatsAppId = action.payload;\n\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\n    if (whatsAppIndex !== -1) {\n      state.splice(whatsAppIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useWhatsApps = () => {\n  const [whatsApps, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchSession = async () => {\n      try {\n        const { data } = await api.get(\"/whatsapp/?session=0\");\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n        setLoading(false);\n      } catch (err) {\n        setLoading(false);\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  return { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { has, isArray } from \"lodash\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useAuth = () => {\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  api.interceptors.request.use(\n    (config) => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n        setIsAuth(true);\n      }\n      return config;\n    },\n    (error) => {\n      Promise.reject(error);\n    }\n  );\n\n  api.interceptors.response.use(\n    (response) => {\n      return response;\n    },\n    async (error) => {\n      const originalRequest = error.config;\n      if (error?.response?.status === 403 && !originalRequest._retry) {\n        originalRequest._retry = true;\n\n        const { data } = await api.post(\"/auth/refresh_token\");\n        if (data) {\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        }\n        return api(originalRequest);\n      }\n      if (error?.response?.status === 401) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"companyId\");\n        api.defaults.headers.Authorization = undefined;\n        setIsAuth(false);\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    (async () => {\n      if (token) {\n        try {\n          const { data } = await api.post(\"/auth/refresh_token\");\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n          setIsAuth(true);\n          setUser(data.user);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-user`, (data) => {\n      if (data.action === \"update\" && data.user.id === user.id) {\n        setUser(data.user);\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user]);\n\n  const handleLogin = async (userData) => {\n    setLoading(true);\n\n    try {\n      const { data } = await api.post(\"/auth/login\", userData);\n      const {\n        user: { companyId, id, company },\n      } = data;\n\n      if (has(company, \"settings\") && isArray(company.settings)) {\n        const setting = company.settings.find(\n          (s) => s.key === \"campaignsEnabled\"\n        );\n        if (setting && setting.value === \"true\") {\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\n        }\n      }\n\n      localStorage.setItem(\"token\", JSON.stringify(data.token));\n      localStorage.setItem(\"companyId\", companyId);\n      localStorage.setItem(\"userId\", id);\n      api.defaults.headers.Authorization = `Bearer ${data.token}`;\n      setUser(data.user);\n      setIsAuth(true);\n      toast.success(i18n.t(\"auth.toasts.success\"));\n      history.push(\"/tickets\");\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    setLoading(true);\n\n    try {\n      await api.delete(\"/auth/logout\");\n      setIsAuth(false);\n      setUser({});\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"companyId\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"cshow\");\n      api.defaults.headers.Authorization = undefined;\n      setLoading(false);\n      history.push(\"/login\");\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const getCurrentUserInfo = async () => {\n    try {\n      const { data } = await api.get(\"/auth/me\");\n      return data;\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return {\n    isAuth,\n    user,\n    loading,\n    handleLogin,\n    handleLogout,\n    getCurrentUserInfo,\n  };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"dashboard:view\",\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t\t\"connections-page:actionButtons\",\n\t\t\t\"connections-page:addConnection\",\n\t\t\t\"connections-page:editOrDeleteConnection\"\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { Badge, Collapse, List } from \"@material-ui/core\";\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport FlashOnIcon from \"@material-ui/icons/FlashOn\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport CodeRoundedIcon from \"@material-ui/icons/CodeRounded\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport ListIcon from \"@material-ui/icons/ListAlt\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\n\nimport { i18n } from \"../translate/i18n\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport { Can } from \"../components/Can\";\nimport { socketConnection } from \"../services/socket\";\nimport { isArray } from \"lodash\";\nimport api from \"../services/api\";\nimport toastError from \"../errors/toastError\";\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem button component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nconst MainListItems = (props) => {\n  const { drawerClose } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const history = useHistory();\n\n  const [invisible, setInvisible] = useState(true);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"cshow\")) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div onClick={drawerClose}>\n      <Can\n        role={user.profile}\n        perform=\"dashboard:view\"\n        yes={() => (\n          <ListItemLink\n            to=\"/\"\n            primary=\"Dashboard\"\n            icon={<DashboardOutlinedIcon />}\n          />\n        )}\n      />\n      <ListItemLink\n        to=\"/connections\"\n        primary={i18n.t(\"mainDrawer.listItems.connections\")}\n        icon={\n          <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\n            <SyncAltIcon />\n          </Badge>\n        }\n      />\n      <ListItemLink\n        to=\"/tickets\"\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n        icon={<WhatsAppIcon />}\n      />\n\n      <ListItemLink\n        to=\"/quick-messages\"\n        primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\n        icon={<FlashOnIcon />}\n      />\n\n      <ListItemLink\n        to=\"/contacts\"\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n        icon={<ContactPhoneOutlinedIcon />}\n      />\n\n      <ListItemLink\n        to=\"/schedules\"\n        primary={i18n.t(\"mainDrawer.listItems.schedules\")}\n        icon={<EventIcon />}\n      />\n\n      <ListItemLink\n        to=\"/tags\"\n        primary={i18n.t(\"mainDrawer.listItems.tags\")}\n        icon={<LocalOfferIcon />}\n      />\n\n      <ListItemLink\n        to=\"/chats\"\n        primary={i18n.t(\"mainDrawer.listItems.chats\")}\n        icon={\n          <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n            <ForumIcon />\n          </Badge>\n        }\n      />\n\n      <ListItemLink\n        to=\"/helps\"\n        primary={i18n.t(\"mainDrawer.listItems.helps\")}\n        icon={<HelpOutlineIcon />}\n      />\n\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader inset>\n              {i18n.t(\"mainDrawer.listItems.administration\")}\n            </ListSubheader>\n            {showCampaigns && (\n              <>\n                <ListItem\n                  button\n                  onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\n                >\n                  <ListItemIcon>\n                    <EventAvailableIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={i18n.t(\"mainDrawer.listItems.campaigns\")}\n                  />\n                  {openCampaignSubmenu ? (\n                    <ExpandLessIcon />\n                  ) : (\n                    <ExpandMoreIcon />\n                  )}\n                </ListItem>\n                <Collapse\n                  style={{ paddingLeft: 15 }}\n                  in={openCampaignSubmenu}\n                  timeout=\"auto\"\n                  unmountOnExit\n                >\n                  <List component=\"div\" disablePadding>\n                    <ListItem onClick={() => history.push(\"/campaigns\")} button>\n                      <ListItemIcon>\n                        <ListIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listagem\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/contact-lists\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <PeopleIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listas de Contatos\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/campaigns-config\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <SettingsOutlinedIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Configuraes\" />\n                    </ListItem>\n                  </List>\n                </Collapse>\n              </>\n            )}\n            {user.super && (\n              <ListItemLink\n                to=\"/announcements\"\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\n                icon={<AnnouncementIcon />}\n              />\n            )}\n            <ListItemLink\n              to=\"/messages-api\"\n              primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\n              icon={<CodeRoundedIcon />}\n            />\n            <ListItemLink\n              to=\"/users\"\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\n              icon={<PeopleAltOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/queues\"\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\n              icon={<AccountTreeOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/settings\"\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\n              icon={<SettingsOutlinedIcon />}\n            />\n          </>\n        )}\n      />\n    </div>\n  );\n};\n\nexport default MainListItems;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticket: {\n    position: \"relative\",\n  },\n\n  pendingTicket: {\n    cursor: \"unset\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  contactNameWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n  },\n\n  closedBadge: {\n    alignSelf: \"center\",\n    justifySelf: \"flex-end\",\n    marginRight: 32,\n    marginLeft: \"auto\",\n  },\n\n  contactLastMessage: {\n    paddingRight: 20,\n  },\n\n  newMessagesCount: {\n    alignSelf: \"center\",\n    marginRight: 8,\n    marginLeft: \"auto\",\n  },\n\n  badgeStyle: {\n    color: \"white\",\n    backgroundColor: green[500],\n  },\n\n  acceptButton: {\n    position: \"absolute\",\n    left: \"50%\",\n  },\n\n  ticketQueueColor: {\n    flex: \"none\",\n    width: \"8px\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n  },\n}));\n\nconst TicketListItem = ({ ticket }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const { ticketId } = useParams();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleAcepptTicket = async (ticket) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${ticket.id}`, {\n        status: \"open\",\n        userId: user?.id,\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n  const handleSelectTicket = (ticket) => {\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n  return (\n    <React.Fragment key={ticket.id}>\n      <ListItem\n        dense\n        button\n        onClick={(e) => {\n          if (ticket.status === \"pending\") return;\n          handleSelectTicket(ticket);\n        }}\n        selected={ticketId && +ticketId === ticket.id}\n        className={clsx(classes.ticket, {\n          [classes.pendingTicket]: ticket.status === \"pending\",\n        })}\n      >\n        <Tooltip\n          arrow\n          placement=\"right\"\n          title={ticket.queue?.name || \"Sem fila\"}\n        >\n          <span\n            style={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }}\n            className={classes.ticketQueueColor}\n          ></span>\n        </Tooltip>\n        <ListItemAvatar>\n          <Avatar src={ticket?.contact?.profilePicUrl} />\n        </ListItemAvatar>\n        <ListItemText\n          disableTypography\n          primary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textPrimary\"\n              >\n                {ticket.contact.name}\n              </Typography>\n              {ticket.status === \"closed\" && (\n                <Badge\n                  className={classes.closedBadge}\n                  badgeContent={\"closed\"}\n                  color=\"primary\"\n                />\n              )}\n              {ticket.lastMessage && (\n                <Typography\n                  className={classes.lastMessageTime}\n                  component=\"span\"\n                  variant=\"body2\"\n                  color=\"textSecondary\"\n                >\n                  {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                  ) : (\n                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                  )}\n                </Typography>\n              )}\n            </span>\n          }\n          secondary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                className={classes.contactLastMessage}\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n                {ticket.lastMessage ? (\n                  <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\n                ) : (\n                  <br />\n                )}\n              </Typography>\n\n              <Badge\n                className={classes.newMessagesCount}\n                badgeContent={ticket.unreadMessages}\n                classes={{\n                  badge: classes.badgeStyle,\n                }}\n              />\n            </span>\n          }\n        />\n        {ticket.status === \"pending\" && (\n          <ButtonWithSpinner\n            color=\"primary\"\n            variant=\"contained\"\n            className={classes.acceptButton}\n            size=\"small\"\n            loading={loading}\n            onClick={(e) => handleAcepptTicket(ticket)}\n          >\n            {i18n.t(\"ticketsList.buttons.accept\")}\n          </ButtonWithSpinner>\n        )}\n      </ListItem>\n      <Divider variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n};\n\nexport default TicketListItem;\n","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n  searchParam,\n  tags,\n  users,\n  pageNumber,\n  status,\n  date,\n  updatedAt,\n  showAll,\n  queueIds,\n  withUnreadMessages,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [hasMore, setHasMore] = useState(false);\n  const [tickets, setTickets] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTickets = async () => {\n        try {\n          const { data } = await api.get(\"/tickets\", {\n            params: {\n              searchParam,\n              pageNumber,\n              tags,\n              users,\n              status,\n              date,\n              updatedAt,\n              showAll,\n              queueIds,\n              withUnreadMessages,\n            },\n          });\n          setTickets(data.tickets);\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTickets();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    tags,\n    users,\n    pageNumber,\n    status,\n    date,\n    updatedAt,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n  ]);\n\n  return { tickets, loading, hasMore };\n};\n\nexport default useTickets;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  tabContainer: {\n    overflowY: \"auto\",\n    maxHeight: 350,\n    ...theme.scrollbarStyles,\n  },\n  popoverPaper: {\n    width: \"100%\",\n    maxWidth: 350,\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: 270,\n    },\n  },\n  noShadow: {\n    boxShadow: \"none !important\",\n  },\n}));\n\nconst NotificationsPopOver = () => {\n  const classes = useStyles();\n\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  const ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n  const ticketIdRef = useRef(ticketIdUrl);\n  const anchorEl = useRef();\n  const [isOpen, setIsOpen] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const { profile, queues } = user;\n\n  const [, setDesktopNotifications] = useState([]);\n\n  const { tickets } = useTickets({ withUnreadMessages: \"true\" });\n  const [play] = useSound(alertSound);\n  const soundAlertRef = useRef();\n\n  const historyRef = useRef(history);\n\n  useEffect(() => {\n    soundAlertRef.current = play;\n\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser doesn't support notifications\");\n    } else {\n      Notification.requestPermission();\n    }\n  }, [play]);\n\n  useEffect(() => {\n    const queueIds = queues.map((q) => q.id);\n    const filteredTickets = tickets.filter(\n      (t) => queueIds.indexOf(t.queueId) > -1\n    );\n\n    if (profile === \"user\") {\n      setNotifications(filteredTickets);\n    } else {\n      setNotifications(tickets);\n    }\n  }, [tickets, queues, profile]);\n\n  useEffect(() => {\n    ticketIdRef.current = ticketIdUrl;\n  }, [ticketIdUrl]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    const queueIds = queues.map((q) => q.id);\n\n    socket.on(\"connect\", () => socket.emit(\"joinNotification\"));\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"updateUnread\" || data.action === \"delete\") {\n        setNotifications((prevState) => {\n          const ticketIndex = prevState.findIndex(\n            (t) => t.id === data.ticketId\n          );\n          if (ticketIndex !== -1) {\n            prevState.splice(ticketIndex, 1);\n            return [...prevState];\n          }\n          return prevState;\n        });\n\n        setDesktopNotifications((prevState) => {\n          const notfiticationIndex = prevState.findIndex(\n            (n) => n.tag === String(data.ticketId)\n          );\n          if (notfiticationIndex !== -1) {\n            prevState[notfiticationIndex].close();\n            prevState.splice(notfiticationIndex, 1);\n            return [...prevState];\n          }\n          return prevState;\n        });\n      }\n    });\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      if (\n        data.action === \"create\" &&\n        !data.message.read &&\n        (data.ticket.userId === user?.id || !data.ticket.userId)\n      ) {\n        if (\n          profile === \"user\" &&\n          (queueIds.indexOf(data.ticket.queue?.id) === -1 ||\n            data.ticket.queue === null)\n        ) {\n          return;\n        }\n\n        setNotifications((prevState) => {\n          const ticketIndex = prevState.findIndex(\n            (t) => t.id === data.ticket.id\n          );\n          if (ticketIndex !== -1) {\n            prevState[ticketIndex] = data.ticket;\n            return [...prevState];\n          }\n          return [data.ticket, ...prevState];\n        });\n\n        const shouldNotNotificate =\n          (data.message.ticketId === ticketIdRef.current &&\n            document.visibilityState === \"visible\") ||\n          (data.ticket.userId && data.ticket.userId !== user?.id) ||\n          data.ticket.isGroup ||\n          data.ticket.chatbot;\n\n        if (shouldNotNotificate) return;\n\n        handleNotifications(data);\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [user, profile, queues]);\n\n  const handleNotifications = (data) => {\n    const { message, contact, ticket } = data;\n\n    const options = {\n      body: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n      icon: contact.profilePicUrl,\n      tag: ticket.id,\n      renotify: true,\n    };\n\n    const notification = new Notification(\n      `${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n      options\n    );\n\n    notification.onclick = (e) => {\n      e.preventDefault();\n      window.focus();\n      historyRef.current.push(`/tickets/${ticket.uuid}`);\n    };\n\n    setDesktopNotifications((prevState) => {\n      const notfiticationIndex = prevState.findIndex(\n        (n) => n.tag === notification.tag\n      );\n      if (notfiticationIndex !== -1) {\n        prevState[notfiticationIndex] = notification;\n        return [...prevState];\n      }\n      return [notification, ...prevState];\n    });\n\n    soundAlertRef.current();\n  };\n\n  const handleClick = () => {\n    setIsOpen((prevState) => !prevState);\n  };\n\n  const handleClickAway = () => {\n    setIsOpen(false);\n  };\n\n  const NotificationTicket = ({ children }) => {\n    return <div onClick={handleClickAway}>{children}</div>;\n  };\n\n  return (\n    <>\n      <IconButton\n        onClick={handleClick}\n        ref={anchorEl}\n        aria-label=\"Open Notifications\"\n        variant=\"contained\"\n\n      >\n        <Badge badgeContent={notifications.length} color=\"secondary\">\n          <ChatIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        disableScrollLock\n        open={isOpen}\n        anchorEl={anchorEl.current}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        classes={{ paper: classes.popoverPaper }}\n        onClose={handleClickAway}\n      >\n        <List dense className={classes.tabContainer}>\n          {notifications.length === 0 ? (\n            <ListItem>\n              <ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n            </ListItem>\n          ) : (\n            notifications.map((ticket) => (\n              <NotificationTicket key={ticket.id}>\n                <TicketListItem ticket={ticket} />\n              </NotificationTicket>\n            ))\n          )}\n        </List>\n      </Popover>\n    </>\n  );\n};\n\nexport default NotificationsPopOver;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useEffect, useReducer, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport {\n  Avatar,\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Dialog,\n  Paper,\n  Typography,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  DialogContentText,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport moment from \"moment\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}public/${filename}`;\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose()}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\n      <DialogContent>\n        {announcement.mediaPath && (\n          <div\n            style={{\n              border: \"1px solid #f1f1f1\",\n              margin: \"0 auto 20px\",\n              textAlign: \"center\",\n              width: \"90%\",\n              height: 300,\n              backgroundImage: `url(${getMediaPath(announcement.mediaPath)})`,\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: \"contain\",\n              backgroundPosition: \"center\",\n            }}\n          ></div>\n        )}\n        <DialogContentText id=\"alert-dialog-description\">\n          {announcement.text}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nexport default function AnnouncementsPopover() {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(false);\n  const [announcement, setAnnouncement] = useState({});\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n        setInvisible(false);\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const borderPriority = (priority) => {\n    if (priority === 1) {\n      return \"4px solid #b81111\";\n    }\n    if (priority === 2) {\n      return \"4px solid orange\";\n    }\n    if (priority === 3) {\n      return \"4px solid grey\";\n    }\n  };\n\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}public/${filename}`;\n  };\n\n  const handleShowAnnouncementDialog = (record) => {\n    setAnnouncement(record);\n    setShowAnnouncementDialog(true);\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <AnnouncementDialog\n        announcement={announcement}\n        open={showAnnouncementDialog}\n        handleClose={() => setShowAnnouncementDialog(false)}\n      />\n      <IconButton\n        variant=\"contained\"\n        aria-describedby={id}\n        onClick={handleClick}\n      >\n        <Badge\n          color=\"secondary\"\n          variant=\"dot\"\n          invisible={invisible || announcements.length < 1}\n        >\n          <AnnouncementIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(announcements) &&\n              announcements.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    borderLeft: borderPriority(item.priority),\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => handleShowAnnouncementDialog(item)}\n                >\n                  {item.mediaPath && (\n                    <ListItemAvatar>\n                      <Avatar\n                        alt={item.mediaName}\n                        src={getMediaPath(item.mediaPath)}\n                      />\n                    </ListItemAvatar>\n                  )}\n                  <ListItemText\n                    primary={item.title}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                        <Typography component=\"span\" variant=\"body2\">\n                          {item.text}\n                        </Typography>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(announcements) && announcements.length === 0 && (\n              <ListItemText primary=\"Nenhum registro\" />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import moment from \"moment\";\n\nexport function useDate() {\n  function dateToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY\");\n    }\n    return strDate;\n  }\n\n  function datetimeToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\n    }\n    return strDate;\n  }\n\n  function dateToDatabase(strDate) {\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n    return strDate;\n  }\n\n  return {\n    dateToClient,\n    datetimeToClient,\n    dateToDatabase,\n  };\n}\n","import React, {\n  useContext,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport {\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport notifySound from \"../../assets/chat_notify.mp3\";\nimport useSound from \"use-sound\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nexport default function ChatPopover() {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(true);\n  const { datetimeToClient } = useDate();\n  const [play] = useSound(notifySound);\n  const soundAlertRef = useRef();\n\n  useEffect(() => {\n    soundAlertRef.current = play;\n\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser doesn't support notifications\");\n    } else {\n      Notification.requestPermission();\n    }\n  }, [play]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n        if (data.newMessage.senderId !== user.id) {\n          console.log(data);\n          soundAlertRef.current();\n        }\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const goToMessages = (chat) => {\n    window.location.href = `/chats/${chat.uuid}`;\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <IconButton\n        aria-describedby={id}\n        variant=\"contained\"\n        color={invisible ? \"default\" : \"inherit\"}\n        onClick={handleClick}\n      >\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n          <ForumIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(chats) &&\n              chats.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => goToMessages(item)}\n                  button\n                >\n                  <ListItemText\n                    primary={item.lastMessage}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {datetimeToClient(item.updatedAt)}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(chats) && chats.length === 0 && (\n              <ListItemText primary=\"Nenhum registro\" />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\n\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport { i18n } from \"../translate/i18n\";\nimport toastError from \"../errors/toastError\";\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\n\nimport logo from \"../assets/zapsimples.png\";\nimport { socketConnection } from \"../services/socket\";\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\n\nconst drawerWidth = 300;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n  },\n\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    fontSize: 14,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n    ...theme.scrollbarStyles,\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n  containerWithScroll: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst LoggedInLayout = ({ children }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  const { user } = useContext(AuthContext);\n\n  const theme = useTheme();\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 600) {\n      setDrawerOpen(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const userId = localStorage.getItem(\"userId\");\n\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-auth`, (data) => {\n      if (data.user.id === +userId) {\n        toastError(\"Sua conta foi acessada em outro computador.\");\n        setTimeout(() => {\n          localStorage.clear();\n          window.location.reload();\n        }, 1000);\n      }\n    });\n\n    socket.emit(\"userStatus\");\n    const interval = setInterval(() => {\n      socket.emit(\"userStatus\");\n    }, 1000 * 60 * 5);\n\n    return () => {\n      socket.disconnect();\n      clearInterval(interval);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <img src={logo} style={{ margin: \"0 auto\", height: \"50px\", width: \"100%\" }} alt=\"logo\" />\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List className={classes.containerWithScroll}>\n          <MainListItems drawerClose={drawerClose} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color=\"primary\"\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            variant=\"contained\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"primary\"\n            noWrap\n            className={classes.title}\n          >\n            {greaterThenSm ? (\n              <>\n                Ol <b>{user.name}</b>, Seja bem-vindo.\n              </>\n            ) : (\n              user.name\n            )}\n          </Typography>\n          {user.id && <NotificationsPopOver />}\n\n          <AnnouncementsPopover />\n\n          <ChatPopover />\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              variant=\"contained\"\n\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n              <MenuItem onClick={handleClickLogout}>\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\n              </MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"01:00\", amount: 0 },\n\t\t{ time: \"02:00\", amount: 0 },\n\t\t{ time: \"03:00\", amount: 0 },\n\t\t{ time: \"04:00\", amount: 0 },\n\t\t{ time: \"05:00\", amount: 0 },\n\t\t{ time: \"06:00\", amount: 0 },\n\t\t{ time: \"07:00\", amount: 0 },\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t\t{ time: \"20:00\", amount: 0 },\n\t\t{ time: \"21:00\", amount: 0 },\n\t\t{ time: \"22:00\", amount: 0 },\n\t\t{ time: \"23:00\", amount: 0 },\n\t\t{ time: \"00:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React from \"react\";\n\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(theme => ({\n\tcardAvatar: {\n\t\tfontSize: '55px',\n\t\tcolor: grey[500],\n\t\tbackgroundColor: '#ffffff',\n\t\twidth: theme.spacing(7),\n\t\theight: theme.spacing(7)\n\t},\n\tcardTitle: {\n\t\tfontSize: '18px',\n\t\tcolor: theme.palette.text.primary\n\t},\n\tcardSubtitle: {\n\t\tcolor: grey[600],\n\t\tfontSize: '14px'\n\t}\n}));\n\nexport default function CardCounter(props) {\n    const { icon, title, value, loading } = props\n\tconst classes = useStyles();\n    return ( !loading ? \n        <Card>\n            <CardHeader\n                avatar={\n                    <Avatar className={classes.cardAvatar}>\n                        {icon}\n                    </Avatar>\n                }\n                title={\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\n                        { title }\n                    </Typography>\n                }\n                subheader={\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\n                        { value }\n                    </Typography>\n                }\n            />\n        </Card>\n        : <Skeleton variant=\"rect\" height={80} />\n    )\n    \n}","import React from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, red } from '@material-ui/core/colors';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport moment from 'moment';\n\nimport Rating from '@material-ui/lab/Rating';\n\nconst useStyles = makeStyles(theme => ({\n\ton: {\n\t\tcolor: green[600],\n\t\tfontSize: '20px'\n\t},\n\toff: {\n\t\tcolor: red[600],\n\t\tfontSize: '20px'\n\t},\n    pointer: {\n        cursor: \"pointer\"\n    }\n}));\n\nexport function RatingBox ({ rating }) {\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\n    return <Rating\n        defaultValue={ratingTrunc}\n        max={3}\n        readOnly\n    />\n}\n\nexport default function TableAttendantsStatus(props) {\n    const { loading, attendants } = props\n\tconst classes = useStyles();\n\n    function renderList () {\n        return attendants.map((a, k) => (\n            <TableRow key={k}>\n                <TableCell>{a.name}</TableCell>\n                <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\n                    <RatingBox rating={a.rating} />\n                </TableCell>\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\n                <TableCell align=\"center\">\n                    { a.online ?\n                        <CheckCircleIcon className={classes.on} />\n                        : <ErrorIcon className={classes.off} />\n                    }\n                </TableCell>\n            </TableRow>\n        ))\n    }\n\n\tfunction formatTime(minutes){\n\t\treturn moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\n\t}\n\n    return ( !loading ?\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Nome</TableCell>\n                        <TableCell align=\"center\">Avaliaes</TableCell>\n                        <TableCell align=\"center\">T.M. de Atendimento</TableCell>\n                        <TableCell align=\"center\">Status (Atual)</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    { renderList() }\n                    {/* <TableRow>\n                        <TableCell>Nome 4</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.off} />\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell>Nome 5</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.on} />\n                        </TableCell>\n                    </TableRow> */}\n                </TableBody>\n            </Table>\n        </TableContainer>\n        : <Skeleton variant=\"rect\" height={150} />\n    )\n}","import api from \"../../services/api\";\n\nconst useDashboard = () => {\n\n    const find = async (params) => {\n        const { data } = await api.request({\n            url: `/dashboard`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        find\n    }\n}\n\nexport default useDashboard;","import React, { useState, useEffect } from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\n\nimport SpeedIcon from \"@material-ui/icons/Speed\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport PersonIcon from \"@material-ui/icons/Person\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { toast } from \"react-toastify\";\n\nimport Chart from \"./Chart\";\nimport ButtonWithSpinner from \"../../components/ButtonWithSpinner\";\n\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\nimport { isArray } from \"lodash\";\n\nimport useDashboard from \"../../hooks/useDashboard\";\n\nimport { isEmpty } from \"lodash\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: 240,\n    overflowY: \"auto\",\n    ...theme.scrollbarStyles,\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n}));\n\nconst Dashboard = () => {\n  const classes = useStyles();\n  const [counters, setCounters] = useState({});\n  const [attendants, setAttendants] = useState([]);\n  const [filterType, setFilterType] = useState(1);\n  const [period, setPeriod] = useState(0);\n  const [dateFrom, setDateFrom] = useState(\n    moment(\"1\", \"D\").format(\"YYYY-MM-DD\")\n  );\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [loading, setLoading] = useState(false);\n  const { find } = useDashboard();\n\n  useEffect(() => {\n    async function firstLoad() {\n      await fetchData();\n    }\n    setTimeout(() => {\n      firstLoad();\n    }, 1000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function handleChangePeriod(value) {\n    setPeriod(value);\n  }\n\n  async function handleChangeFilterType(value) {\n    setFilterType(value);\n    if (value === 1) {\n      setPeriod(0);\n    } else {\n      setDateFrom(\"\");\n      setDateTo(\"\");\n    }\n  }\n\n  async function fetchData() {\n    setLoading(true);\n\n    let params = {};\n\n    if (period > 0) {\n      params = {\n        days: period,\n      };\n    }\n\n    if (!isEmpty(dateFrom) && moment(dateFrom).isValid()) {\n      params = {\n        ...params,\n        date_from: moment(dateFrom).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (!isEmpty(dateTo) && moment(dateTo).isValid()) {\n      params = {\n        ...params,\n        date_to: moment(dateTo).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (Object.keys(params).length === 0) {\n      toast.error(\"Parametrize o filtro\");\n      setLoading(false);\n      return;\n    }\n\n    const data = await find(params);\n\n    setCounters(data.counters);\n    if (isArray(data.attendants)) {\n      setAttendants(data.attendants);\n    } else {\n      setAttendants([]);\n    }\n\n    setLoading(false);\n  }\n\n  function formatTime(minutes) {\n    return moment()\n      .startOf(\"day\")\n      .add(minutes, \"minutes\")\n      .format(\"HH[h] mm[m]\");\n  }\n\n  function renderFilters() {\n    if (filterType === 1) {\n      return (\n        <>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Inicial\"\n              type=\"date\"\n              value={dateFrom}\n              onChange={(e) => setDateFrom(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Final\"\n              type=\"date\"\n              value={dateTo}\n              onChange={(e) => setDateTo(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n        </>\n      );\n    } else {\n      return (\n        <Grid item xs={12} sm={6} md={4}>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"period-selector-label\">Perodo</InputLabel>\n            <Select\n              labelId=\"period-selector-label\"\n              id=\"period-selector\"\n              value={period}\n              onChange={(e) => handleChangePeriod(e.target.value)}\n            >\n              <MenuItem value={0}>Nenhum selecionado</MenuItem>\n              <MenuItem value={3}>ltimos 3 dias</MenuItem>\n              <MenuItem value={7}>ltimos 7 dias</MenuItem>\n              <MenuItem value={15}>ltimos 15 dias</MenuItem>\n              <MenuItem value={30}>ltimos 30 dias</MenuItem>\n              <MenuItem value={60}>ltimos 60 dias</MenuItem>\n              <MenuItem value={90}>ltimos 90 dias</MenuItem>\n            </Select>\n            <FormHelperText>Selecione o perodo desejado</FormHelperText>\n          </FormControl>\n        </Grid>\n      );\n    }\n  }\n\n  return (\n    <div>\n      <Container maxWidth=\"lg\" className={classes.container}>\n        <Grid container spacing={3} justifyContent=\"flex-end\">\n          <Grid item xs={12}>\n            <Paper className={classes.fixedHeightPaper}>\n              <Chart />\n            </Paper>\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <FormControl className={classes.selectContainer}>\n              <InputLabel id=\"period-selector-label\">Tipo de Filtro</InputLabel>\n              <Select\n                labelId=\"period-selector-label\"\n                value={filterType}\n                onChange={(e) => handleChangeFilterType(e.target.value)}\n              >\n                <MenuItem value={1}>Filtro por Data</MenuItem>\n                <MenuItem value={2}>Filtro por Perodo</MenuItem>\n              </Select>\n              <FormHelperText>Selecione o perodo desejado</FormHelperText>\n            </FormControl>\n          </Grid>\n\n          {renderFilters()}\n\n          <Grid item xs={12} className={classes.alignRight}>\n            <ButtonWithSpinner\n              loading={loading}\n              onClick={() => fetchData()}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Filtrar\n            </ButtonWithSpinner>\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Atd. Pendentes\"\n              value={counters.supportPending}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Atd. Acontecendo\"\n              value={counters.supportHappening}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<AssignmentIcon fontSize=\"inherit\" />}\n              title=\"Atd. Realizados\"\n              value={counters.supportFinished}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<PersonIcon fontSize=\"inherit\" />}\n              title=\"Leads\"\n              value={counters.leads}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<SpeedIcon fontSize=\"inherit\" />}\n              title=\"T.M. de Atendimento\"\n              value={formatTime(counters.avgSupportTime)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<SpeedIcon fontSize=\"inherit\" />}\n              title=\"T.M. de Espera\"\n              value={formatTime(counters.avgWaitTime)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            {attendants.length ? (\n              <TableAttendantsStatus\n                attendants={attendants}\n                loading={loading}\n              />\n            ) : null}\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport { toast } from \"react-toastify\";\n\nconst filter = createFilterOptions({\n\ttrim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\n\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [selectedQueue, setSelectedQueue] = useState(\"\");\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tif (initialContact?.id !== undefined) {\n\t\t\tsetOptions([initialContact]);\n\t\t\tsetSelectedContact(initialContact);\n\t\t}\n\t}, [initialContact]);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t};\n\n\tconst handleSaveTicket = async contactId => {\n\t\tif (!contactId) return;\n\t\tif (selectedQueue === \"\" && user.profile !== 'admin') {\n\t\t\ttoast.error(\"Selecione uma fila\");\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst queueId = selectedQueue !== \"\" ? selectedQueue : null;\n\t\t\tconst { data: ticket } = await api.post(\"/tickets\", {\n\t\t\t\tcontactId: contactId,\n\t\t\t\tqueueId,\n\t\t\t\tuserId: user.id,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\tonClose(ticket);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetLoading(false);\n\t};\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst handleAddNewContactTicket = contact => {\n\t\thandleSaveTicket(contact.id);\n\t};\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${option.name}`;\n\t\t}\n\t};\n\n\tconst renderContactAutocomplete = () => {\n\t\tif (initialContact === undefined || initialContact.id === undefined) {\n\t\t\treturn (\n\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t\tonSave={handleAddNewContactTicket}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"newTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Grid style={{ width: 300 }} container spacing={2}>\n\t\t\t\t\t\t{renderContactAutocomplete()}\n\t\t\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tdisplayEmpty\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetSelectedQueue(e.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trenderValue={() => {\n\t\t\t\t\t\t\t\t\tif (selectedQueue === \"\") {\n\t\t\t\t\t\t\t\t\t\treturn \"Selecione uma fila\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst queue = user.queues.find(q => q.id === selectedQueue)\n\t\t\t\t\t\t\t\t\treturn queue.name\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{user.queues?.length > 0 &&\n\t\t\t\t\t\t\t\t\tuser.queues.map((queue, key) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem dense key={key} value={queue.id}>\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact}\n\t\t\t\t\t\tonClick={() => handleSaveTicket(selectedContact.id)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default NewTicketModal;\n","import React, { useState, useEffect, createContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TicketsContext = createContext();\n\nconst TicketsContextProvider = ({ children }) => {\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\n    const history = useHistory();\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            history.push(`/tickets/${currentTicket.uuid}`);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentTicket])\n\n\treturn (\n\t\t<TicketsContext.Provider\n\t\t\tvalue={{ currentTicket, setCurrentTicket }}\n\t\t>\n\t\t\t{children}\n\t\t</TicketsContext.Provider>\n\t);\n};\n\nexport { TicketsContext, TicketsContextProvider };\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n\tconst { setReplyingMessage } = useContext(ReplyMessageContext);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\n\tconst handleDeleteMessage = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst hanldeReplyMessage = () => {\n\t\tsetReplyingMessage(message);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteMessage}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Menu\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.delete\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t<MenuItem onClick={hanldeReplyMessage}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.reply\")}\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t</>\n\t);\n};\n\nexport default MessageOptionsMenu;\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    width: \"100%\",\n    minWidth: 300,\n    minHeight: 200,\n  },\n\n  messagesList: {\n    backgroundImage: `url(${whatsBackground})`,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: green[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticket, ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        if (ticketId === undefined) return;\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      if (data.action === \"create\") {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n    if (message.mediaType === \"image\") {\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\n    }\n    if (message.mediaType === \"audio\") {\n      return (\n        <audio controls>\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n        </audio>\n      );\n    }\n\n    if (message.mediaType === \"video\") {\n      return (\n        <video\n          className={classes.messageMedia}\n          src={message.mediaUrl}\n          controls\n        />\n      );\n    } else {\n      return (\n        <>\n          <div className={classes.downloadMedia}>\n            <Button\n              startIcon={<GetApp />}\n              color=\"primary\"\n              variant=\"outlined\"\n              target=\"_blank\"\n              href={message.mediaUrl}\n            >\n              Download\n            </Button>\n          </div>\n          <Divider />\n        </>\n      );\n    }\n  };\n\n  const renderMessageAck = (message) => {\n    if (message.ack === 0) {\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 1) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 2) {\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 3 || message.ack === 4) {\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n    }\n  };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n          {message.quotedMsg?.body}\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              <div\n                className={classes.messageLeft}\n                title={message.queueId && message.queue?.name}\n              >\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                {message.mediaUrl && checkMessageMedia(message)}\n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              <div\n                className={classes.messageRight}\n                title={message.queueId && message.queue?.name}\n              >\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {message.mediaUrl && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n                  })}\n                >\n                  {message.isDeleted && (\n                    <Block\n                      color=\"disabled\"\n                      fontSize=\"small\"\n                      className={classes.deletedIcon}\n                    />\n                  )}\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>Say hello to your new contact!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeader = ({ loading, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<TicketHeaderSkeleton />\n\t\t\t) : (\n\t\t\t\t<Card square className={classes.ticketHeader}>\n\t\t\t\t\t{children}\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default TicketHeader;\n","import React, { useState, useEffect } from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\tconst { user } = ticket\n\tconst [userName, setUserName] = useState('')\n\tconst [contactName, setContactName] = useState('')\n\n\tuseEffect(() => {\n\t\tif (contact) {\n\t\t\tsetContactName(contact.name);\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tif (contact.name.length > 10) {\n\t\t\t\t\tconst truncadName = contact.name.substring(0, 10) + '...';\n\t\t\t\t\tsetContactName(truncadName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (user && contact) {\n\t\t\tsetUserName(`${i18n.t(\"messagesList.header.assignedTo\")} ${user.name}`);\n\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tsetUserName(`${user.name}`);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contactName} #${ticket.id}`}\n\t\t\tsubheader={ticket.user && `${userName}`}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessagesList from \"../MessagesList\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    let delayDebounceFn = null;\n    if (open) {\n      setLoading(true);\n      delayDebounceFn = setTimeout(() => {\n        const fetchTicket = async () => {\n          try {\n            const { data } = await api.get(\"/tickets/\" + ticketId);\n            const { queueId } = data;\n            const { queues, profile } = user;\n\n            const queueAllowed = queues.find((q) => q.id === queueId);\n            if (queueAllowed === undefined && profile !== \"admin\") {\n              toast.error(\"Acesso no permitido\");\n              history.push(\"/tickets\");\n              return;\n            }\n\n            setContact(data.contact);\n            setTicket(data);\n            setLoading(false);\n          } catch (err) {\n            setLoading(false);\n            toastError(err);\n          }\n        };\n        fetchTicket();\n      }, 500);\n    }\n    return () => {\n      if (delayDebounceFn !== null) {\n        clearTimeout(delayDebounceFn);\n      }\n    };\n  }, [ticketId, user, history, open]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    let socket = null;\n\n    if (open) {\n      socket = socketConnection({ companyId });\n      socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n      socket.on(`company-${companyId}-ticket`, (data) => {\n        if (data.action === \"update\") {\n          setTicket(data.ticket);\n        }\n\n        if (data.action === \"delete\") {\n          toast.success(\"Ticket deleted sucessfully.\");\n          history.push(\"/tickets\");\n        }\n      });\n\n      socket.on(`company-${companyId}-contact`, (data) => {\n        if (data.action === \"update\") {\n          setContact((prevState) => {\n            if (prevState.id === data.contact?.id) {\n              return { ...prevState, ...data.contact };\n            }\n            return prevState;\n          });\n        }\n      });\n    }\n\n    return () => {\n      if (socket !== null) {\n        socket.disconnect();\n      }\n    };\n  }, [ticketId, ticket, history, open]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <Box className={classes.root}>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n      </Box>\n    );\n  };\n\n  return (\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\n      <TicketHeader loading={loading}>{renderTicketInfo()}</TicketHeader>\n      <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, grey } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Box from \"@material-ui/core/Box\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport toastError from \"../../errors/toastError\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport AndroidIcon from \"@material-ui/icons/Android\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticket: {\n    position: \"relative\",\n  },\n\n  pendingTicket: {\n    cursor: \"unset\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  contactNameWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n  },\n\n  closedBadge: {\n    alignSelf: \"center\",\n    justifySelf: \"flex-end\",\n    marginRight: 32,\n    marginLeft: \"auto\",\n  },\n\n  contactLastMessage: {\n    paddingRight: 20,\n  },\n\n  newMessagesCount: {\n    alignSelf: \"center\",\n    marginRight: 8,\n    marginLeft: \"auto\",\n  },\n\n  badgeStyle: {\n    color: \"white\",\n    backgroundColor: green[500],\n    right: 20,\n  },\n\n  acceptButton: {\n    position: \"absolute\",\n    right: \"108px\",\n  },\n\n  ticketQueueColor: {\n    flex: \"none\",\n    width: \"8px\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n  },\n\n  ticketInfo: {\n    textAlign: \"right\",\n  },\n}));\n\nconst TicketListItemCustom = ({ ticket }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [ticketUser, setTicketUser] = useState(null);\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n  const { ticketId } = useParams();\n  const isMounted = useRef(true);\n  const { setCurrentTicket } = useContext(TicketsContext);\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  useEffect(() => {\n    if (ticket.userId && ticket.user) {\n      setTicketUser(ticket.user.name);\n    }\n\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleAcepptTicket = async (id) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"open\",\n        userId: user?.id,\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n  const handleSelectTicket = (ticket) => {\n    const code = uuidv4();\n    const { id, uuid } = ticket;\n    setCurrentTicket({ id, uuid, code });\n  };\n\n  const renderTicketInfo = () => {\n    if (ticketUser) {\n      return (\n        <>\n          {profile === \"admin\" && (\n            <Tooltip title=\"Espiar Conversa\">\n              <VisibilityIcon\n                onClick={() => setOpenTicketMessageDialog(true)}\n                fontSize=\"small\"\n                style={{\n                  color: grey[700],\n                  cursor: \"pointer\",\n                  marginRight: 5,\n                }}\n              />\n            </Tooltip>\n          )}\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n          <Tooltip title={`Atribuido  ${ticketUser}`}>\n            <WhatsAppIcon fontSize=\"small\" style={{ color: grey[700] }} />\n          </Tooltip>\n        </>\n      );\n    } else {\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n          {profile === \"admin\" && (\n            <Tooltip title=\"Espiar Conversa\">\n              <VisibilityIcon\n                onClick={() => setOpenTicketMessageDialog(true)}\n                fontSize=\"small\"\n                style={{\n                  color: grey[700],\n                  cursor: \"pointer\",\n                  marginRight: 5,\n                }}\n              />\n            </Tooltip>\n          )}\n        </>\n      );\n    }\n  };\n\n  return (\n    <React.Fragment key={ticket.id}>\n      <TicketMessagesDialog\n        open={openTicketMessageDialog}\n        handleClose={() => setOpenTicketMessageDialog(false)}\n        ticketId={ticket.id}\n      ></TicketMessagesDialog>\n      <ListItem\n        dense\n        button\n        onClick={(e) => {\n          if (ticket.status === \"pending\") return;\n          handleSelectTicket(ticket);\n        }}\n        selected={ticketId && +ticketId === ticket.id}\n        className={clsx(classes.ticket, {\n          [classes.pendingTicket]: ticket.status === \"pending\",\n        })}\n      >\n        <Tooltip\n          arrow\n          placement=\"right\"\n          title={ticket.queue?.name || \"Sem fila\"}\n        >\n          <span\n            style={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }}\n            className={classes.ticketQueueColor}\n          ></span>\n        </Tooltip>\n        <ListItemAvatar>\n          <Avatar src={ticket?.contact?.profilePicUrl} />\n        </ListItemAvatar>\n        <ListItemText\n          disableTypography\n          primary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textPrimary\"\n              >\n                {ticket.contact.name}\n              </Typography>\n            </span>\n          }\n          secondary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                className={classes.contactLastMessage}\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n                {ticket.lastMessage ? (\n                  <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\n                ) : (\n                  <br />\n                )}\n              </Typography>\n\n              <Badge\n                className={classes.newMessagesCount}\n                badgeContent={ticket.unreadMessages}\n                classes={{\n                  badge: classes.badgeStyle,\n                }}\n              />\n            </span>\n          }\n        />\n        {ticket.status === \"pending\" && (\n          <ButtonWithSpinner\n            color=\"primary\"\n            variant=\"contained\"\n            className={classes.acceptButton}\n            size=\"small\"\n            loading={loading}\n            onClick={(e) => handleAcepptTicket(ticket.id)}\n          >\n            {i18n.t(\"ticketsList.buttons.accept\")}\n          </ButtonWithSpinner>\n        )}\n        <ListItemSecondaryAction>\n          {ticket.status === \"closed\" && (\n            <Badge\n              className={classes.closedBadge}\n              badgeContent={\"closed\"}\n              color=\"primary\"\n            />\n          )}\n          {ticket.lastMessage && (\n            <>\n              <Typography\n                className={classes.lastMessageTime}\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                  <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                ) : (\n                  <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                )}\n              </Typography>\n              <br />\n              <Box className={classes.ticketInfo}>{renderTicketInfo()}</Box>\n            </>\n          )}\n        </ListItemSecondaryAction>\n      </ListItem>\n      <Divider variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n};\n\nexport default TicketListItemCustom;\n","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    maxHeight: \"100%\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsListCustom = (props) => {\n  const {\n    status,\n    searchParam,\n    tags,\n    users,\n    showAll,\n    selectedQueueIds,\n    updateCount,\n    style,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, tags, users, selectedQueueIds]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    tags: JSON.stringify(tags),\n    users: JSON.stringify(users),\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n  useEffect(() => {\n    const queueIds = queues.map((q) => q.id);\n    const filteredTickets = tickets.filter(\n      (t) => queueIds.indexOf(t.queueId) > -1\n    );\n\n    if (profile === \"user\") {\n      dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n    } else {\n      dispatch({ type: \"LOAD_TICKETS\", payload: tickets });\n    }\n  }, [tickets, status, searchParam, queues, profile]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"connect\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      const queueIds = queues.map((q) => q.id);\n      if (\n        profile === \"user\" &&\n        (queueIds.indexOf(data.ticket.queue?.id) === -1 ||\n          data.ticket.queue === null)\n      ) {\n        return;\n      }\n\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues]);\n\n  useEffect(() => {\n    if (typeof updateCount === \"function\") {\n      updateCount(ticketsList.length);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketsList]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {ticketsList.map((ticket) => (\n                <TicketListItem ticket={ticket} key={ticket.id} />\n              ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsListCustom;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsFilter({ onFiltered }) {\n  const [tags, setTags] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadTags();\n    }\n    fetchData();\n  }, []);\n\n  const loadTags = async () => {\n    try {\n      const { data } = await api.get(`/tags/list`);\n      setTags(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: 10 }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={tags}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        renderTags={(value, getTagProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: option.color || \"#eee\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getTagProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Tags\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function UsersFilter({ onFiltered, initialUsers }) {\n  const [users, setUsers] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadUsers();\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    setSelecteds([]);\n    if (\n      Array.isArray(initialUsers) &&\n      Array.isArray(users) &&\n      users.length > 0\n    ) {\n      onChange(initialUsers);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialUsers, users]);\n\n  const loadUsers = async () => {\n    try {\n      const { data } = await api.get(`/users/list`);\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\n      setUsers(userList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={users}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        getOptionSelected={(option, value) => {\n          return (\n            option?.id === value?.id ||\n            option?.name.toLowerCase() === value?.name.toLowerCase()\n          );\n        }}\n        renderTags={(value, getUserProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: \"#bfbfbf\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getUserProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Users\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsListCustom\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\nimport { TagsFilter } from \"../TagsFilter\";\nimport { UsersFilter } from \"../UsersFilter\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  tabsHeader: {\n    flex: \"none\",\n    backgroundColor: \"#eee\",\n  },\n\n  settingsIcon: {\n    alignSelf: \"center\",\n    marginLeft: \"auto\",\n    padding: 8,\n  },\n\n  tab: {\n    minWidth: 120,\n    width: 120,\n  },\n\n  ticketOptionsBox: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    background: \"#fafafa\",\n    padding: theme.spacing(1),\n  },\n\n  serachInputWrapper: {\n    flex: 1,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 40,\n    padding: 4,\n    marginRight: theme.spacing(1),\n  },\n\n  searchIcon: {\n    color: \"grey\",\n    marginLeft: 6,\n    marginRight: 6,\n    alignSelf: \"center\",\n  },\n\n  searchInput: {\n    flex: 1,\n    border: \"none\",\n    borderRadius: 30,\n  },\n\n  badge: {\n    right: \"-10px\",\n  },\n  show: {\n    display: \"block\",\n  },\n  hide: {\n    display: \"none !important\",\n  },\n}));\n\nconst TicketsManagerTabs = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map((t) => t.id);\n    setSelectedTags(tags);\n  };\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setSelectedUsers(users);\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(ticket) => {\n          console.log(\"ticket\", ticket);\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setNewTicketModalOpen(true)}\n            >\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\n            </Button>\n            <Can\n              role={user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TagsFilter onFiltered={handleSelectedTags} />\n        {profile === \"admin\" && (\n          <UsersFilter onFiltered={handleSelectedUsers} />\n        )}\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          tags={selectedTags}\n          users={selectedUsers}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManagerTabs;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\nimport { Grid } from \"@material-ui/core\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\twidth={60}\n\t\t\t\t\t\t\theight={60}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\n    textCenter: {\n        backgroundColor: 'red'\n    }\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\n\tconst classes = useStyles();\n\n\tconst [contact, setContact] = useState(initialContact);\n\n    useEffect(() => {\n        setContact(initialContact);\n    }, [initialContact]);\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contact.id) {\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n    return (\n        <Formik\n            initialValues={contact}\n            enableReinitialize={true}\n            validationSchema={ContactSchema}\n            onSubmit={(values, actions) => {\n                setTimeout(() => {\n                    handleSaveContact(values);\n                    actions.setSubmitting(false);\n                }, 400);\n            }}\n        >\n            {({ values, errors, touched, isSubmitting }) => (\n                <Form>\n                    <Grid container spacing={1}>\n                        {/* <Grid item xs={12}>\n                            <Typography variant=\"subtitle1\" gutterBottom>\n                                {i18n.t(\"contactModal.form.mainInfo\")}\n                            </Typography>\n                        </Grid> */}\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.name\")}\n                                name=\"name\"\n                                autoFocus\n                                error={touched.name && Boolean(errors.name)}\n                                helperText={touched.name && errors.name}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                className={classes.textField}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.number\")}\n                                name=\"number\"\n                                error={touched.number && Boolean(errors.number)}\n                                helperText={touched.number && errors.number}\n                                placeholder=\"5513912344321\"\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.email\")}\n                                name=\"email\"\n                                error={touched.email && Boolean(errors.email)}\n                                helperText={touched.email && errors.email}\n                                placeholder=\"Email address\"\n                                fullWidth\n                                margin=\"dense\"\n                                variant=\"outlined\"\n                            />\n                        </Grid>\n                        <Grid item xs={12} spacing={1}>\n                            <Grid container spacing={1}>\n                                <Grid xs={6} item>\n                                    <Button\n                                        onClick={onCancel}\n                                        color=\"secondary\"\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    >\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\n                                    </Button>\n                                </Grid>\n                                <Grid classes={classes.textCenter} xs={6} item>\n                                    <Button\n                                        type=\"submit\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        variant=\"contained\"\n                                        className={classes.btnWrapper}\n                                        fullWidth\n                                    >\n                                        {contact.id\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                                        {isSubmitting && (\n                                            <CircularProgress\n                                                size={24}\n                                                className={classes.buttonProgress}\n                                            />\n                                        )}\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n    inline: {\n        width: '100%'\n    }\n}));\n\nexport default function ContactNotesDialogListItem (props) {\n    const { note, deleteItem } = props;\n    const classes = useStyles();\n\n    const handleDelete = (item) => {\n        deleteItem(item);\n    }\n\n    return (\n        <ListItem alignItems=\"flex-start\">\n            <ListItemAvatar>\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <>\n                        <Typography\n                            component=\"span\"\n                            variant=\"body2\"\n                            className={classes.inline}\n                            color=\"textPrimary\"\n                        >\n                            {note.note}\n                        </Typography>\n                    </>\n                }\n                secondary={\n                    <>\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\n                    </>\n                }\n            />\n            <ListItemSecondaryAction>\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\n                    <DeleteIcon />\n                </IconButton>\n            </ListItemSecondaryAction>\n        </ListItem>\n    )   \n}\n\nContactNotesDialogListItem.propTypes = {\n    note: PropTypes.object.isRequired,\n    deleteItem: PropTypes.func.isRequired\n}","import api from \"../../services/api\";\n\nconst useTicketNotes = () => {\n\n    const saveNote = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/ticket-notes',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteNote = async (id) => {\n        const { data } = await api.request({\n            url: `/ticket-notes/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const listNotes = async (params) => {\n        const { data } = await api.request({\n            url: '/ticket-notes/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        saveNote,\n        deleteNote,\n        listNotes\n    }\n}\n\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\nimport ConfirmationModal from '../ConfirmationModal';\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ButtonWithSpinner from '../ButtonWithSpinner';\n\nimport useTicketNotes from '../../hooks/useTicketNotes';\nimport { Grid } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '350px',\n        },\n    },\n    list: {\n        width: '100%',\n        maxWidth: '350px',\n        maxHeight: '200px',\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto'\n    },\n    inline: {\n        width: '100%'\n    }\n}));\n\nconst NoteSchema = Yup.object().shape({\n\tnote: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.required(\"Required\")\n});\nexport function ContactNotes ({ ticket }) {\n    const { id: ticketId, contactId } = ticket\n    const classes = useStyles()\n    const [newNote, setNewNote] = useState({ note: \"\" });\n    const [loading, setLoading] = useState(false)\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\n    const [selectedNote, setSelectedNote] = useState({})\n    const [notes, setNotes] = useState([])\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\n\n    useEffect(() => {\n        async function openAndFetchData () {\n            handleResetState()\n            await loadNotes()\n        }\n        openAndFetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleResetState = () => {\n        setNewNote({ note: \"\" })\n        setLoading(false)\n    }\n\n    const handleChangeComment = (e) => {\n        setNewNote({ note: e.target.value })\n    }\n\n    const handleSave = async values => {\n        setLoading(true)\n        try {\n            await saveNote({\n                ...values,\n                ticketId,\n                contactId\n            })\n            await loadNotes()\n            setNewNote({ note: '' })\n            toast.success('Observao adicionada com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDialogDelete = (item) => {\n        setSelectedNote(item)\n        setShowOnDeleteDialog(true)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await deleteNote(selectedNote.id)\n            await loadNotes()\n            setSelectedNote({})\n            toast.success('Observao excluda com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const loadNotes = async () => {\n        setLoading(true)\n        try {\n            const notes = await listNotes({ ticketId, contactId })\n            setNotes(notes)\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const renderNoteList = () => {\n        return notes.map((note) => {\n            return <ContactNotesDialogListItem\n                note={note}\n                key={note.id}\n                deleteItem={handleOpenDialogDelete}\n            />\n        })\n    }\n\n    return (\n        <>\n            <ConfirmationModal\n                title=\"Excluir Registro\"\n                open={showOnDeleteDialog}\n                onClose={setShowOnDeleteDialog}\n                onConfirm={handleDelete}\n            >\n                Deseja realmente excluir este registro?\n            </ConfirmationModal>\n            <Formik\n                initialValues={newNote}\n                enableReinitialize={true}\n                validationSchema={NoteSchema}\n                onSubmit={(values, actions) => {\n                    setTimeout(() => {\n                        handleSave(values);\n                        actions.setSubmitting(false);\n                    }, 400);\n                }}\n            >\n\n                {({ touched, errors, setErrors }) => (\n                    <Form>\n                        <Grid container spacing={2}>\n                            <Grid xs={12} item>\n                                <Field\n                                    as={TextField}\n                                    name=\"note\"\n                                    rows={3}\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\n                                    multiline={true}\n                                    error={touched.note && Boolean(errors.note)}\n                                    helperText={touched.note && errors.note}\n                                    variant=\"outlined\"\n                                    onChange={handleChangeComment}\n                                    fullWidth\n                                />\n                            </Grid>\n                            { notes.length > 0 && (\n                                <Grid xs={12} item>\n                                    <List className={classes.list}>\n                                        { renderNoteList() }\n                                    </List>\n                                </Grid>\n                            ) }\n                            <Grid xs={12} item>\n                                <Grid container spacing={2}>\n                                    <Grid xs={6} item>\n                                        <Button\n                                            onClick={() => {\n                                                setNewNote(\"\");\n                                                setErrors({});\n                                            }}\n                                            color=\"primary\"\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        >\n                                            Cancelar\n                                        </Button>\n                                    </Grid>\n                                    <Grid xs={6} item>\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\n                                            Salvar\n                                        </ButtonWithSpinner>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Form>\n                )}\n            </Formik>\n        </>\n    );\n}","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CreateIcon from '@material-ui/icons/Create';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { CardHeader } from \"@material-ui/core\";\nimport { ContactForm } from \"../ContactForm\";\nimport ContactModal from \"../ContactModal\";\nimport { ContactNotes } from \"../ContactNotes\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: \"#eee\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 100,\n\t\theight: 100,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\tconst [openForm, setOpenForm] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetOpenForm(false);\n\t}, [open, contact]);\n\n\treturn (\n\t\t<>\n\t\t\t<Drawer\n\t\t\t\tclassName={classes.drawer}\n\t\t\t\tvariant=\"persistent\"\n\t\t\t\tanchor=\"right\"\n\t\t\t\topen={open}\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tModalProps={{\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t\t}}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.header}>\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t\t) : (\n\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\t\tonClick={() => {}}\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" style={{ width: 60, height: 60 }} />}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{fontSize: 16, marginLeft: 5}} />\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\n\t\t\t\t\t\t\t\tstyle={{fontSize: 12}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{marginBottom: 10}}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Drawer>\n\t\t</>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import api from \"../../services/api\";\n\nconst useQuickMessages = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/quick-messages',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/quick-messages/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteRecord = async (id) => {\n        const { data } = await api.request({\n            url: `/quick-messages/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/quick-messages/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        save,\n        update,\n        deleteRecord,\n        list\n    }\n}\n\nexport default useQuickMessages;","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { isString, isEmpty, isObject, has } from \"lodash\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n}));\n\nconst EmojiOptions = (props) => {\n  const { disabled, showEmoji, setShowEmoji, handleAddEmoji } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <IconButton\n        aria-label=\"emojiPicker\"\n        component=\"span\"\n        disabled={disabled}\n        onClick={(e) => setShowEmoji((prevState) => !prevState)}\n      >\n        <MoodIcon className={classes.sendMessageIcons} />\n      </IconButton>\n      {showEmoji ? (\n        <div className={classes.emojiBox}>\n          <Picker\n            perLine={16}\n            showPreview={false}\n            showSkinTones={false}\n            onSelect={handleAddEmoji}\n          />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nconst SignSwitch = (props) => {\n  const { width, setSignMessage, signMessage } = props;\n  if (isWidthUp(\"md\", width)) {\n    return (\n      <FormControlLabel\n        style={{ marginRight: 7, color: \"gray\" }}\n        label={i18n.t(\"messagesInput.signMessage\")}\n        labelPlacement=\"start\"\n        control={\n          <Switch\n            size=\"small\"\n            checked={signMessage}\n            onChange={(e) => {\n              setSignMessage(e.target.checked);\n            }}\n            name=\"showAllTickets\"\n            color=\"primary\"\n          />\n        }\n      />\n    );\n  }\n  return null;\n};\n\nconst FileInput = (props) => {\n  const { handleChangeMedias, disableOption } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <input\n        multiple\n        type=\"file\"\n        id=\"upload-button\"\n        disabled={disableOption()}\n        className={classes.uploadInput}\n        onChange={handleChangeMedias}\n      />\n      <label htmlFor=\"upload-button\">\n        <IconButton\n          aria-label=\"upload\"\n          component=\"span\"\n          disabled={disableOption()}\n        >\n          <AttachFileIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </label>\n    </>\n  );\n};\n\nconst ActionButtons = (props) => {\n  const {\n    inputMessage,\n    loading,\n    recording,\n    ticketStatus,\n    handleSendMessage,\n    handleCancelAudio,\n    handleUploadAudio,\n    handleStartRecording,\n  } = props;\n  const classes = useStyles();\n  if (inputMessage) {\n    return (\n      <IconButton\n        aria-label=\"sendMessage\"\n        component=\"span\"\n        onClick={handleSendMessage}\n        disabled={loading}\n      >\n        <SendIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  } else if (recording) {\n    return (\n      <div className={classes.recorderWrapper}>\n        <IconButton\n          aria-label=\"cancelRecording\"\n          component=\"span\"\n          fontSize=\"large\"\n          disabled={loading}\n          onClick={handleCancelAudio}\n        >\n          <HighlightOffIcon className={classes.cancelAudioIcon} />\n        </IconButton>\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.audioLoading} />\n          </div>\n        ) : (\n          <RecordingTimer />\n        )}\n\n        <IconButton\n          aria-label=\"sendRecordedAudio\"\n          component=\"span\"\n          onClick={handleUploadAudio}\n          disabled={loading}\n        >\n          <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n        </IconButton>\n      </div>\n    );\n  } else {\n    return (\n      <IconButton\n        aria-label=\"showRecorder\"\n        component=\"span\"\n        disabled={loading || ticketStatus !== \"open\"}\n        onClick={handleStartRecording}\n      >\n        <MicIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  }\n};\n\nconst CustomInput = (props) => {\n  const {\n    loading,\n    inputRef,\n    ticketStatus,\n    inputMessage,\n    setInputMessage,\n    handleSendMessage,\n    handleInputPaste,\n    disableOption,\n  } = props;\n  const classes = useStyles();\n  const [quickMessages, setQuickMessages] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  const { user } = useContext(AuthContext);\n\n  const { list: listQuickMessages } = useQuickMessages();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listQuickMessages({ companyId, userId: user.id });\n      const options = messages.map((m) => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 35) {\n          truncatedMessage = m.message.substring(0, 35) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n        };\n      });\n      setQuickMessages(options);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (\n      isString(inputMessage) &&\n      !isEmpty(inputMessage) &&\n      inputMessage.length > 1\n    ) {\n      const firstWord = inputMessage.charAt(0);\n      setPopupOpen(firstWord.indexOf(\"/\") > -1);\n\n      const filteredOptions = quickMessages.filter(\n        (m) => m.label.indexOf(inputMessage) > -1\n      );\n      setOptions(filteredOptions);\n    } else {\n      setPopupOpen(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n\n  const onKeyPress = (e) => {\n    if (loading || e.shiftKey) return;\n    else if (e.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n\n  const onPaste = (e) => {\n    if (ticketStatus === \"open\") {\n      handleInputPaste(e);\n    }\n  };\n\n  const renderPlaceholder = () => {\n    if (ticketStatus === \"open\") {\n      return i18n.t(\"messagesInput.placeholderOpen\");\n    }\n    return i18n.t(\"messagesInput.placeholderClosed\");\n  };\n\n  const setInputRef = (input) => {\n    if (input) {\n      input.focus();\n      inputRef.current = input;\n    }\n  };\n\n  return (\n    <div className={classes.messageInputWrapper}>\n      <Autocomplete\n        freeSolo\n        open={popupOpen}\n        id=\"grouped-demo\"\n        value={inputMessage}\n        options={options}\n        closeIcon={null}\n        getOptionLabel={(option) => {\n          if (isObject(option)) {\n            return option.label;\n          } else {\n            return option;\n          }\n        }}\n        onChange={(event, opt) => {\n          if (isObject(opt) && has(opt, \"value\")) {\n            setInputMessage(opt.value);\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          }\n        }}\n        onInputChange={(event, opt, reason) => {\n          if (reason === \"input\") {\n            setInputMessage(event.target.value);\n          }\n        }}\n        onPaste={onPaste}\n        onKeyPress={onKeyPress}\n        style={{ width: \"100%\" }}\n        renderInput={(params) => {\n          const { InputLabelProps, InputProps, ...rest } = params;\n          return (\n            <InputBase\n              {...params.InputProps}\n              {...rest}\n              disabled={disableOption()}\n              inputRef={setInputRef}\n              placeholder={renderPlaceholder()}\n              multiline\n              className={classes.messageInput}\n              maxRows={5}\n            />\n          );\n        }}\n      />\n    </div>\n  );\n};\n\nconst MessageInputCustom = (props) => {\n  const { ticketStatus, ticketId } = props;\n  const classes = useStyles();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const inputRef = useRef();\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  // const handleChangeInput = e => {\n  // \tif (isObject(e) && has(e, 'value')) {\n  // \t\tsetInputMessage(e.value);\n  // \t} else {\n  // \t\tsetInputMessage(e.target.value)\n  // \t}\n  // };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const disableOption = () => {\n    return loading || recording || ticketStatus !== \"open\";\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <EmojiOptions\n            disabled={disableOption()}\n            handleAddEmoji={handleAddEmoji}\n            showEmoji={showEmoji}\n            setShowEmoji={setShowEmoji}\n          />\n\n          <FileInput\n            disableOption={disableOption}\n            handleChangeMedias={handleChangeMedias}\n          />\n\n          <SignSwitch\n            width={props.width}\n            setSignMessage={setSignMessage}\n            signMessage={signMessage}\n          />\n\n          <CustomInput\n            loading={loading}\n            inputRef={inputRef}\n            ticketStatus={ticketStatus}\n            inputMessage={inputMessage}\n            setInputMessage={setInputMessage}\n            // handleChangeInput={handleChangeInput}\n            handleSendMessage={handleSendMessage}\n            handleInputPaste={handleInputPaste}\n            disableOption={disableOption}\n          />\n\n          <ActionButtons\n            inputMessage={inputMessage}\n            loading={loading}\n            recording={recording}\n            ticketStatus={ticketStatus}\n            handleSendMessage={handleSendMessage}\n            handleCancelAudio={handleCancelAudio}\n            handleUploadAudio={handleUploadAudio}\n            handleStartRecording={handleStartRecording}\n          />\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default withWidth()(MessageInputCustom);\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n  trim: true,\n});\n\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid }) => {\n  const history = useHistory();\n  const [options, setOptions] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [allQueues, setAllQueues] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const classes = useStyles();\n  const { findAll: findAllQueues } = useQueues();\n  const isMounted = useRef(true);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam },\n          });\n          setOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setSelectedUser(null);\n  };\n\n  const handleSaveTicket = async (e) => {\n    e.preventDefault();\n    if (!ticketid) return;\n    if (!selectedQueue || selectedQueue === \"\") return;\n    setLoading(true);\n    try {\n      let data = {};\n\n      if (selectedUser) {\n        data.userId = selectedUser.id;\n      }\n\n      if (selectedQueue && selectedQueue !== null) {\n        data.queueId = selectedQueue;\n\n        if (!selectedUser) {\n          data.status = \"pending\";\n          data.userId = null;\n        }\n      }\n\n      await api.put(`/tickets/${ticketid}`, data);\n\n      history.push(`/tickets`);\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n  };\n\n  return (\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n      <form onSubmit={handleSaveTicket}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"transferTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Autocomplete\n            style={{ width: 300, marginBottom: 20 }}\n            getOptionLabel={(option) => `${option.name}`}\n            onChange={(e, newValue) => {\n              setSelectedUser(newValue);\n              if (newValue != null && Array.isArray(newValue.queues)) {\n                setQueues(newValue.queues);\n              } else {\n                setQueues(allQueues);\n                setSelectedQueue(\"\");\n              }\n            }}\n            options={options}\n            filterOptions={filterOptions}\n            freeSolo\n            autoHighlight\n            noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n            loading={loading}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={(e) => setSearchParam(e.target.value)}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n          <FormControl variant=\"outlined\" className={classes.maxWidth}>\n            <InputLabel>\n              {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n            </InputLabel>\n            <Select\n              value={selectedQueue}\n              onChange={(e) => setSelectedQueue(e.target.value)}\n              label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n            >\n              {queues.map((queue) => (\n                <MenuItem key={queue.id} value={queue.id}>\n                  {queue.name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"transferTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"submit\"\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"transferTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default TransferTicketModalCustom;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { FormControl } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport moment from \"moment\"\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isArray, capitalize } from \"lodash\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst ScheduleSchema = Yup.object().shape({\n\tbody: Yup.string()\n\t\t.min(5, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatrio\"),\n\tcontactId: Yup.number().required(\"Obrigatrio\"),\n\tsendAt: Yup.string().required(\"Obrigatrio\")\n});\n\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\n\tconst initialState = {\n\t\tbody: \"\",\n\t\tcontactId: \"\",\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\n\t\tsentAt: \"\"\n\t};\n\n\tconst initialContact = {\n\t\tid: \"\",\n\t\tname: \"\"\n\t}\n\n\tconst [schedule, setSchedule] = useState(initialState);\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\n\tconst [contacts, setContacts] = useState([initialContact]);\n\n\tuseEffect(() => {\n\t\tif (contactId && contacts.length) {\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\n\t\t\tif (contact) {\n\t\t\t\tsetCurrentContact(contact);\n\t\t\t}\n\t\t}\n\t}, [contactId, contacts]);\n\n\tuseEffect(() => {\n\t\tconst { companyId } = user;\n\t\tif (open) {\n\t\t\ttry {\n\t\t\t\t(async () => {\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\n\t\t\t\t\tlet customList = contactList.map((c) => ({id: c.id, name: c.name}));\n\t\t\t\t\tif (isArray(customList)) {\n\t\t\t\t\t\tsetContacts([{id: \"\", name: \"\"}, ...customList]);\n\t\t\t\t\t}\n\t\t\t\t\tif (contactId) {\n\t\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!scheduleId) return;\n\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\n\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\n\t\t\t\t\t});\n\t\t\t\t\tsetCurrentContact(data.contact);\n\t\t\t\t})()\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\t}, [scheduleId, contactId, open, user]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSchedule(initialState);\n\t};\n\n\tconst handleSaveSchedule = async values => {\n\t\tconst scheduleData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (scheduleId) {\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/schedules\", scheduleData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t\tif (contactId) {\n\t\t\t\tif (typeof cleanContact === 'function') {\n\t\t\t\t\tcleanContact();\n\t\t\t\t\thistory.push('/schedules');\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetCurrentContact(initialContact);\n\t\tsetSchedule(initialState);\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={schedule}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveSchedule(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\trows={9}\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t  shrink: true,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{ (schedule.sentAt === null || schedule.sentAt === \"\") && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{scheduleId\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ScheduleModal;","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport ScheduleModal from \"../ScheduleModal\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tconst [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n\tconst [contactId, setContactId] = useState(null);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\tconst handleOpenScheduleModal = () => {\n\t\thandleClose();\n\t\tsetContactId(ticket.contact.id);\n\t\tsetScheduleModalOpen(true);\n\t}\n\n\tconst handleCloseScheduleModal = () => {\n\t\tsetScheduleModalOpen(false);\n\t\tsetContactId(null);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenScheduleModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.schedule\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModalCustom\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t/>\n\t\t\t<ScheduleModal\n\t\t\t\topen={scheduleModalOpen}\n\t\t\t\tonClose={handleCloseScheduleModal}\n\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t\tcontactId={contactId}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles, createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport UndoRoundedIcon from '@material-ui/icons/UndoRounded';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { green } from '@material-ui/core/colors';\n\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(0.5),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtonsCustom = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\tconst { setCurrentTicket } = useContext(TicketsContext);\n\n\tconst customTheme = createTheme({\n\t\tpalette: {\n\t\t  \tprimary: green,\n\t\t}\n\t});\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\tsetCurrentTicket({ ...ticket, code: \"#open\" });\n\t\t\t} else {\n\t\t\t\tsetCurrentTicket({ id: null, code: null })\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.return\")}>\n\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"pending\", null)}>\n\t\t\t\t\t\t\t<UndoRoundedIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<ThemeProvider theme={customTheme}>\n\t\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\n\t\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)} color=\"primary\">\n\t\t\t\t\t\t\t\t<CheckCircleIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t{/* <ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner> */}\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtonsCustom;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { isArray, isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsContainer ({ ticket }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        return () => {\n            isMounted.current = false\n        }\n    }, [])\n\n    useEffect(() => {\n        if (isMounted.current) {\n            loadTags().then(() => {\n                if (Array.isArray(ticket.tags)) {\n                    setSelecteds(ticket.tags);\n                } else {\n                    setSelecteds([]);\n                }\n            });\n        }\n    }, [ticket]);\n\n    const createTag = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const syncTags = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags/sync`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value, reason) => {\n        let optionsChanged = []\n        if (reason === 'create-option') {\n            if (isArray(value)) {\n                for (let item of value) {\n                    if (isString(item)) {\n                        const newTag = await createTag({ name: item })\n                        optionsChanged.push(newTag);\n                    } else {\n                        optionsChanged.push(item);\n                    }\n                }\n            }\n            await loadTags();\n        } else {\n            optionsChanged = value;\n        }\n        setSelecteds(optionsChanged);\n        await syncTags({ ticketId: ticket.id, tags: optionsChanged });\n    }\n\n    return (\n        <Paper style={{padding: 12}}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                freeSolo\n                onChange={(e, v, r) => onChange(v, r)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{backgroundColor: option.color || '#eee', textShadow: '1px 1px 1px #000', color: 'white'}}\n                            label={option.name}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\n                )}\n                PaperComponent={({ children }) => (\n                    <Paper style={{width: 400, marginLeft: 12}}>\n                        {children}\n                    </Paper>\n                )}\n            />\n        </Paper>\n    )\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInputCustom/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TagsContainer } from \"../TagsContainer\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/u/\" + ticketId);\n          const { queueId } = data;\n          const { queues, profile } = user;\n\n          const queueAllowed = queues.find((q) => q.id === queueId);\n          if (queueAllowed === undefined && profile !== \"admin\") {\n            toast.error(\"Acesso no permitido\");\n            history.push(\"/tickets\");\n            return;\n          }\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, user, history]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"update\") {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\") {\n        toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket, history]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n        <MessageInput ticketId={ticket.id} ticketStatus={ticket.status} />\n      </>\n    );\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          {renderTicketInfo()}\n          <TicketActionButtons ticket={ticket} />\n        </TicketHeader>\n        <Paper>\n          <TagsContainer ticket={ticket} />\n        </Paper>\n        <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n        ticket={ticket}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchatContainer: {\n\t\tflex: 1,\n\t\t// backgroundColor: \"#eee\",\n\t\tpadding: theme.spacing(4),\n\t\theight: `calc(100% - 48px)`,\n\t\toverflowY: \"hidden\",\n\t},\n\n\tchatPapper: {\n\t\t// backgroundColor: \"red\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t},\n\n\tcontactsWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflowY: \"hidden\",\n\t},\n\tmessagesWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t},\n\twelcomeMsg: {\n\t\tbackgroundColor: \"#eee\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-evenly\",\n\t\talignItems: \"center\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t},\n}));\n\nconst TicketsCustom = () => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\n\treturn (\n\t\t<div className={classes.chatContainer}>\n\t\t\t<div className={classes.chatPapper}>\n\t\t\t\t<Grid container spacing={0}>\n\t\t\t\t\t<Grid item xs={4} className={classes.contactsWrapper}>\n\t\t\t\t\t\t<TicketsManager />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={8} className={classes.messagesWrapper}>\n\t\t\t\t\t\t{ticketId ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Ticket />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.welcomeMsg}>\n\t\t\t\t\t\t\t\t<span>{i18n.t(\"chat.noTicketMessage\")}</span>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TicketsCustom;\n","import { styled } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst TicketAdvancedLayout = styled(Paper)({\n    height: `calc(100% - 48px)`,\n    display: \"grid\",\n    gridTemplateRows: \"56px 1fr\"\n})\n\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\n\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n    },\n    content: {\n        overflow: \"auto\"\n    },\n    placeholderContainer: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"100%\",\n\t\tbackgroundColor: \"#eee\"\n    },\n    placeholderItem: {\n    }\n}));\n\nconst TicketAdvanced = (props) => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\tconst [option, setOption] = useState(0);\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\n\n    useEffect(() => {\n        if(currentTicket.id !== null) {\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\n        }\n        if (!ticketId) {\n            setOption(1)\n        }\n        return () => {\n            setCurrentTicket({ id: null, code: null })\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            setOption(0)\n        }\n    }, [currentTicket])\n\n\tconst renderPlaceholder = () => {\n\t\treturn <Box className={classes.placeholderContainer}>\n            <div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div><br />\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\n                Selecionar Ticket\n            </Button>\n        </Box>\n\t}\n\n\tconst renderMessageContext = () => {\n\t\tif (ticketId) {\n\t\t\treturn <Ticket />\n\t\t}\n\t\treturn renderPlaceholder()\n\t}\n\n\tconst renderTicketsManagerTabs = () => {\n\t\treturn <TicketsManagerTabs />\n\t}\n\n\treturn (\n        <TicketAdvancedLayout>\n            <Box className={classes.header}>\n                <BottomNavigation\n                    value={option}\n                    onChange={(event, newValue) => {\n                        setOption(newValue);\n                    }}\n                    showLabels\n                    className={classes.root}\n                >\n                    <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\n                    <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\n                </BottomNavigation>\n            </Box>\n            <Box className={classes.content}>\n                { option === 0 ? renderMessageContext() : renderTicketsManagerTabs() }\n            </Box>\n        </TicketAdvancedLayout>\n\t);\n};\n\nexport default TicketAdvanced;\n","import React from \"react\";\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Tickets from \"../TicketsCustom\"\nimport TicketAdvanced from \"../TicketsAdvanced\";\n\nfunction TicketResponsiveContainer (props) {\n    if (isWidthUp('md', props.width)) {\n        return <Tickets />;    \n    }\n    return <TicketAdvanced />\n}\n\nexport default withWidth()(TicketResponsiveContainer);","import React, { useState } from \"react\";\nimport qs from 'query-string'\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport { openApi } from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tlet companyId = null\n\n\tconst params = qs.parse(window.location.search)\n\tif (params.companyId !== undefined) {\n\t\tcompanyId = params.companyId\n\t}\n\n\tconst initialState = { name: \"\", email: \"\", password: \"\", token: \"\", companyId };\n\n\tconst [user] = useState(initialState);\n\n\tconst handleSignUp = async values => {\n\t\ttry {\n\t\t\tif (user.companyId === null) {\n\t\t\t\tthrow new Error('Empresa no identificada!')\n\t\t\t}\n\n\t\t\tawait openApi.post(\"/auth/signup\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"token\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"auth.token\")}\n\t\t\t\t\t\t\t\t\t\tname=\"token\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"token\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useContext } from \"react\";\n// import { Link as RouterLink } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\n// import Link from \"@material-ui/core/Link\";\n// import Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\", // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst Login = () => {\n\tconst classes = useStyles();\n\n\tconst [user, setUser] = useState({ email: \"\", password: \"\" });\n\n\tconst { handleLogin } = useContext(AuthContext);\n\n\tconst handleChangeInput = e => {\n\t\tsetUser({ ...user, [e.target.name]: e.target.value });\n\t};\n\n\tconst handlSubmit = e => {\n\t\te.preventDefault();\n\t\thandleLogin(user);\n\t};\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<div>\n\t\t\t\t\t<img style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }} src=\"https://mirandamoveis.com/wp-content/uploads/2019/01/logo-whatsapp-fundo-transparente-icone.png\" alt=\"UnkChat\" />\n\t\t\t\t</div>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"login.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t<form className={classes.form} noValidate onSubmit={handlSubmit}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tlabel={i18n.t(\"login.form.email\")}\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel={i18n.t(\"login.form.password\")}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tvalue={user.password}\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"login.buttons.submit\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{/*<Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\tto=\"/signup\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"login.buttons.register\")}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>*/}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<Box mt={8}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainContainer: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2),\n\t\theight: `calc(100% - 48px)`,\n\t},\n\n\tcontentWrapper: {\n\t\theight: \"100%\",\n\t\toverflowY: \"hidden\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n}));\n\nconst MainContainer = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Container className={classes.mainContainer}>\n\t\t\t<div className={classes.contentWrapper}>{children}</div>\n\t\t</Container>\n\t);\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  TextField,\n  Switch,\n  FormControlLabel,\n  Grid,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    complationMessage: \"\",\n    outOfHoursMessage: \"\",\n    ratingMessage: \"\",\n    isDefault: false,\n    token: \"\",\n    provider: \"beta\",\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\n        setWhatsApp(data);\n\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  const handleSaveWhatsApp = async (values) => {\n    const whatsappData = { ...values, queueIds: selectedQueueIds };\n    delete whatsappData[\"queues\"];\n    delete whatsappData[\"session\"];\n\n    try {\n      if (whatsAppId) {\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n      } else {\n        await api.post(\"/whatsapp\", whatsappData);\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Grid spacing={2} container>\n                    <Grid item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.name\")}\n                        autoFocus\n                        name=\"name\"\n                        error={touched.name && Boolean(errors.name)}\n                        helperText={touched.name && errors.name}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.textField}\n                      />\n                    </Grid>\n                    <Grid style={{ paddingTop: 15 }} item>\n                      <FormControlLabel\n                        control={\n                          <Field\n                            as={Switch}\n                            color=\"primary\"\n                            name=\"isDefault\"\n                            checked={values.isDefault}\n                          />\n                        }\n                        label={i18n.t(\"whatsappModal.form.default\")}\n                      />\n                    </Grid>\n                  </Grid>\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.complationMessage\")}\n                    type=\"complationMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"complationMessage\"\n                    error={\n                      touched.complationMessage &&\n                      Boolean(errors.complationMessage)\n                    }\n                    helperText={\n                      touched.complationMessage && errors.complationMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                    type=\"outOfHoursMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"outOfHoursMessage\"\n                    error={\n                      touched.outOfHoursMessage &&\n                      Boolean(errors.outOfHoursMessage)\n                    }\n                    helperText={\n                      touched.outOfHoursMessage && errors.outOfHoursMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.ratingMessage\")}\n                    type=\"ratingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"ratingMessage\"\n                    error={\n                      touched.ratingMessage && Boolean(errors.ratingMessage)\n                    }\n                    helperText={touched.ratingMessage && errors.ratingMessage}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.token\")}\n                    type=\"token\"\n                    fullWidth\n                    name=\"token\"\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <QueueSelect\n                  selectedQueueIds={selectedQueueIds}\n                  onChange={(selectedIds) => setSelectedQueueIds(selectedIds)}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n  const [qrCode, setQrCode] = useState(\"\");\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\n        setQrCode(data.qrcode);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    if (!whatsAppId) return;\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\n        setQrCode(data.session.qrcode);\n      }\n\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\n        onClose();\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [whatsAppId, onClose]);\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n      <DialogContent>\n        <Paper elevation={0}>\n          <Typography color=\"primary\" gutterBottom>\n            {i18n.t(\"qrCode.message\")}\n          </Typography>\n          {qrCode ? (\n            <QRCode value={qrCode} size={256} />\n          ) : (\n            <span>Waiting for QR Code</span>\n          )}\n        </Paper>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n\tButton,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tIconButton,\n\tTable,\n\tTableHead,\n\tPaper,\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\nimport {\n\tEdit,\n\tCheckCircle,\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n\tDeleteOutline,\n} from \"@material-ui/icons\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst Connections = () => {\n\tconst classes = useStyles();\n\n\tconst { user } = useContext(AuthContext);\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\tconst confirmationModalInitialState = {\n\t\taction: \"\",\n\t\ttitle: \"\",\n\t\tmessage: \"\",\n\t\twhatsAppId: \"\",\n\t\topen: false,\n\t};\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\n\t\tconfirmationModalInitialState\n\t);\n\n\tconst handleStartWhatsAppSession = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleRequestNewQrCode = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenWhatsAppModal = () => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleCloseWhatsAppModal = useCallback(() => {\n\t\tsetWhatsAppModalOpen(false);\n\t\tsetSelectedWhatsApp(null);\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n\tconst handleOpenQrModal = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetQrModalOpen(true);\n\t};\n\n\tconst handleCloseQrModal = useCallback(() => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetQrModalOpen(false);\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\n\n\tconst handleEditWhatsApp = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\n\t\tif (action === \"disconnect\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\t\tsetConfirmModalOpen(true);\n\t};\n\n\tconst handleSubmitConfirmationModal = async () => {\n\t\tif (confirmModalInfo.action === \"disconnect\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tif (confirmModalInfo.action === \"delete\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\n\t};\n\n\tconst renderActionButtons = whatsApp => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={confirmModalInfo.title}\n\t\t\t\topen={confirmModalOpen}\n\t\t\t\tonClose={setConfirmModalOpen}\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\n\t\t\t>\n\t\t\t\t{confirmModalInfo.message}\n\t\t\t</ConfirmationModal>\n\t\t\t<QrcodeModal\n\t\t\t\topen={qrModalOpen}\n\t\t\t\tonClose={handleCloseQrModal}\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<WhatsAppModal\n\t\t\t\topen={whatsAppModalOpen}\n\t\t\t\tonClose={handleCloseWhatsAppModal}\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t\t<Can\n\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\tperform=\"connections-page:addConnection\"\n\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t<Table size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<TableRowSkeleton />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Connections;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles, TextField, Grid } from \"@material-ui/core\";\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\nimport { isArray } from \"lodash\";\nimport NumberFormat from \"react-number-format\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nfunction SchedulesForm(props) {\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\n  const classes = useStyles();\n\n  const [schedules, setSchedules] = useState([\n    {\n      weekday: \"Segunda-feira\",\n      weekdayEn: \"monday\",\n      startTime: \"\",\n      endTime: \"\",\n    },\n    {\n      weekday: \"Tera-feira\",\n      weekdayEn: \"tuesday\",\n      startTime: \"\",\n      endTime: \"\",\n    },\n    {\n      weekday: \"Quarta-feira\",\n      weekdayEn: \"wednesday\",\n      startTime: \"\",\n      endTime: \"\",\n    },\n    {\n      weekday: \"Quinta-feira\",\n      weekdayEn: \"thursday\",\n      startTime: \"\",\n      endTime: \"\",\n    },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Sbado\", weekdayEn: \"saturday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"\", endTime: \"\" },\n  ]);\n\n  useEffect(() => {\n    if (isArray(initialValues) && initialValues.length > 0) {\n      setSchedules(initialValues);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialValues]);\n\n  const handleSubmit = (data) => {\n    onSubmit(data);\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      className={classes.fullWidth}\n      initialValues={{ schedules }}\n      onSubmit={({ schedules }) =>\n        setTimeout(() => {\n          handleSubmit(schedules);\n        }, 500)\n      }\n    >\n      {({ values }) => (\n        <Form className={classes.fullWidth}>\n          <FieldArray\n            name=\"schedules\"\n            render={(arrayHelpers) => (\n              <Grid spacing={4} container>\n                {values.schedules.map((item, index) => {\n                  return (\n                    <Grid key={index} xs={12} md={4} item>\n                      <Grid container>\n                        <Grid className={classes.control} xs={12} item>\n                          <FastField\n                            as={TextField}\n                            label=\"Dia da Semana\"\n                            name={`schedules[${index}].weekday`}\n                            disabled\n                            variant=\"outlined\"\n                            className={classes.fullWidth}\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                        <Grid className={classes.control} xs={12} md={6} item>\n                          <FastField\n                            label=\"Hora de Inicial\"\n                            name={`schedules[${index}].startTime`}\n                          >\n                            {({ field }) => (\n                              <NumberFormat\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                className={classes.fullWidth}\n                              />\n                            )}\n                          </FastField>\n                        </Grid>\n                        <Grid className={classes.control} xs={12} md={6} item>\n                          <FastField\n                            label=\"Hora de Final\"\n                            name={`schedules[${index}].endTime`}\n                          >\n                            {({ field }) => (\n                              <NumberFormat\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                className={classes.fullWidth}\n                              />\n                            )}\n                          </FastField>\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  );\n                })}\n              </Grid>\n            )}\n          ></FieldArray>\n          <div className={classes.buttonContainer}>\n            <ButtonWithSpinner\n              loading={loading}\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              {labelSaveButton ?? \"Salvar\"}\n            </ButtonWithSpinner>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nexport default SchedulesForm;\n","import api from \"../../services/api\";\n\nconst useCompanies = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/companies',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const findAll = async (id) => {\n        const { data } = await api.request({\n            url: `/companies`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const list = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/list`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const find = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const updateSchedules = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}/schedules`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n        save,\n        update,\n        remove,\n        list,\n        find,\n        findAll,\n        updateSchedules\n    }\n}\n\nexport default useCompanies;","import api, { openApi } from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const getPlanList = async (params) => {\n        const { data } = await openApi.request({\n            url: '/plans/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/plans/all',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/plans',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/plans/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    return {\n        getPlanList,\n        list,\n        save,\n        update,\n        remove\n    }\n}\n\nexport default usePlans;","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelectCustom = ({ selectedQueueIds, companyId, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\", {\n\t\t\t\t\tparams: { companyId }\n\t\t\t\t});\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, [companyId]);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelectCustom;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelectCustom from \"../QueueSelectCustom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst UserSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    profile: \"user\",\n  };\n\n  const { user: loggedInUser } = useContext(AuthContext);\n\n  const [user, setUser] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      if (!userId) return;\n      if (open) {\n        try {\n          const { data } = await api.get(`/users/${userId}`);\n          setUser((prevState) => {\n            return { ...prevState, ...data };\n          });\n          const userQueueIds = data.queues?.map((queue) => queue.id);\n          setSelectedQueueIds(userQueueIds);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n    };\n\n    fetchUser();\n  }, [userId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setUser(initialState);\n  };\n\n  const handleSaveUser = async (values) => {\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\n    try {\n      if (userId) {\n        await api.put(`/users/${userId}`, userData);\n      } else {\n        await api.post(\"/users\", userData);\n      }\n      toast.success(i18n.t(\"userModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {userId\n            ? `${i18n.t(\"userModal.title.edit\")}`\n            : `${i18n.t(\"userModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={user}\n          enableReinitialize={true}\n          validationSchema={UserSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveUser(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.password\")}\n                    type=\"password\"\n                    name=\"password\"\n                    error={touched.password && Boolean(errors.password)}\n                    helperText={touched.password && errors.password}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    margin=\"dense\"\n                  >\n                    <Can\n                      role={loggedInUser.profile}\n                      perform=\"user-modal:editProfile\"\n                      yes={() => (\n                        <>\n                          <InputLabel id=\"profile-selection-input-label\">\n                            {i18n.t(\"userModal.form.profile\")}\n                          </InputLabel>\n\n                          <Field\n                            as={Select}\n                            label={i18n.t(\"userModal.form.profile\")}\n                            name=\"profile\"\n                            labelId=\"profile-selection-label\"\n                            id=\"profile-selection\"\n                            required\n                          >\n                            <MenuItem value=\"admin\">Admin</MenuItem>\n                            <MenuItem value=\"user\">User</MenuItem>\n                          </Field>\n                        </>\n                      )}\n                    />\n                  </FormControl>\n                </div>\n                <Can\n                  role={loggedInUser.profile}\n                  perform=\"user-modal:editQueues\"\n                  yes={() => (\n                    <QueueSelectCustom\n                      companyId={companyId}\n                      selectedQueueIds={selectedQueueIds}\n                      onChange={(values) => setSelectedQueueIds(values)}\n                    />\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"userModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {userId\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ModalUsers;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  makeStyles,\n  Paper,\n  Grid,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  TextField,\n  Table,\n  TableHead,\n  TableBody,\n  TableCell,\n  TableRow,\n  IconButton,\n  Select,\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from \"formik\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport usePlans from \"../../hooks/usePlans\";\nimport ModalUsers from \"../ModalUsers\";\nimport api from \"../../services/api\";\nimport { head, isArray, has } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    padding: theme.spacing(2),\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  tableContainer: {\n    width: \"100%\",\n    overflowX: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nexport function CompanyForm(props) {\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n  const classes = useStyles();\n  const [plans, setPlans] = useState([]);\n  const [modalUser, setModalUser] = useState(false);\n  const [firstUser, setFirstUser] = useState({});\n\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    ...initialValue,\n  });\n\n  const { list: listPlans } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const list = await listPlans();\n      setPlans(list);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setRecord((prev) => {\n      if (moment(initialValue).isValid()) {\n        initialValue.dueDate = moment(initialValue.dueDate).format(\n          \"YYYY-MM-DD\"\n        );\n      }\n      return {\n        ...prev,\n        ...initialValue,\n      };\n    });\n  }, [initialValue]);\n\n  const handleSubmit = async (data) => {\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\n      data.dueDate = null;\n    }\n    onSubmit(data);\n    setRecord({ ...initialValue, dueDate: \"\" });\n  };\n\n  const handleOpenModalUsers = async () => {\n    try {\n      const { data } = await api.get(\"/users/list\", {\n        params: {\n          companyId: initialValue.id,\n        },\n      });\n      if (isArray(data) && data.length) {\n        setFirstUser(head(data));\n      }\n      setModalUser(true);\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleCloseModalUsers = () => {\n    setFirstUser({});\n    setModalUser(false);\n  };\n\n  const incrementDueDate = () => {\n    const data = { ...record };\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\n      switch (data.recurrence) {\n        case \"MENSAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(1, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"BIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(2, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"TRIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(3, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"SEMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(6, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"ANUAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(12, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        default:\n          break;\n      }\n    }\n    setRecord(data);\n  };\n\n  return (\n    <>\n      <ModalUsers\n        userId={firstUser.id}\n        companyId={initialValue.id}\n        open={modalUser}\n        onClose={handleCloseModalUsers}\n      />\n      <Formik\n        enableReinitialize\n        className={classes.fullWidth}\n        initialValues={record}\n        onSubmit={(values, { resetForm }) =>\n          setTimeout(() => {\n            handleSubmit(values);\n            resetForm();\n          }, 500)\n        }\n      >\n        {(values, setValues) => (\n          <Form className={classes.fullWidth}>\n            <Grid spacing={2} justifyContent=\"flex-end\" container>\n              <Grid xs={12} sm={6} md={4} item>\n                <Field\n                  as={TextField}\n                  label=\"Nome\"\n                  name=\"name\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"E-mail\"\n                  name=\"email\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                  required\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"Telefone\"\n                  name=\"phone\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"plan-selection\"\n                    label=\"Plano\"\n                    labelId=\"plan-selection-label\"\n                    name=\"planId\"\n                    margin=\"dense\"\n                    required\n                  >\n                    {plans.map((plan, key) => (\n                      <MenuItem key={key} value={plan.id}>\n                        {plan.name}\n                      </MenuItem>\n                    ))}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Status</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"status-selection\"\n                    label=\"Status\"\n                    labelId=\"status-selection-label\"\n                    name=\"status\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Sim</MenuItem>\n                    <MenuItem value={false}>No</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"campaigns-selection\"\n                    label=\"Campanhas\"\n                    labelId=\"campaigns-selection-label\"\n                    name=\"campaignsEnabled\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Habilitadas</MenuItem>\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl variant=\"outlined\" fullWidth>\n                  <Field\n                    as={TextField}\n                    label=\"Data de Vencimento\"\n                    type=\"date\"\n                    name=\"dueDate\"\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    margin=\"dense\"\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"recorrencia-selection\">\n                    Recorrncia\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    label=\"Recorrncia\"\n                    labelId=\"recorrencia-selection-label\"\n                    id=\"recurrence\"\n                    name=\"recurrence\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value=\"MENSAL\">Mensal</MenuItem>\n                    <MenuItem value=\"BIMESTRAL\">Bimestral</MenuItem>\n                    <MenuItem value=\"TRIMESTRAL\">Trimestral</MenuItem>\n                    <MenuItem value=\"SEMESTRAL\">Semestral</MenuItem>\n                    <MenuItem value=\"ANUAL\">Anual</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} item>\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\n                  <Grid xs={4} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      onClick={() => onCancel()}\n                      variant=\"contained\"\n                    >\n                      Limpar\n                    </ButtonWithSpinner>\n                  </Grid>\n                  {record.id !== undefined ? (\n                    <>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => onDelete(record)}\n                          variant=\"contained\"\n                          color=\"secondary\"\n                        >\n                          Excluir\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={2} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => incrementDueDate()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          + Vencimento\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => handleOpenModalUsers()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          Usurio\n                        </ButtonWithSpinner>\n                      </Grid>\n                    </>\n                  ) : null}\n                  <Grid xs={6} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Salvar\n                    </ButtonWithSpinner>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n}\n\nexport function CompaniesManagerGrid(props) {\n  const { records, onSelect } = props;\n  const classes = useStyles();\n  const { dateToClient } = useDate();\n\n  const renderStatus = (row) => {\n    return row.status === false ? \"No\" : \"Sim\";\n  };\n\n  const renderPlan = (row) => {\n    return row.planId !== null ? row.plan.name : \"-\";\n  };\n\n  const renderCampaignsStatus = (row) => {\n    if (\n      has(row, \"settings\") &&\n      isArray(row.settings) &&\n      row.settings.length > 0\n    ) {\n      const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\n      if (setting) {\n        return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\n      }\n    }\n    return \"Desabilitadas\";\n  };\n\n  const rowStyle = (record) => {\n    if (moment(record.dueDate).isValid()) {\n      const now = moment();\n      const dueDate = moment(record.dueDate);\n      const diff = dueDate.diff(now, \"days\");\n      if (diff === 5) {\n        return { backgroundColor: \"#fffead\" };\n      }\n      if (diff >= -3 && diff <= 4) {\n        return { backgroundColor: \"#f7cc8f\" };\n      }\n      if (diff === -4) {\n        return { backgroundColor: \"#fa8c8c\" };\n      }\n    }\n    return {};\n  };\n\n  return (\n    <Paper className={classes.tableContainer}>\n      <Table\n        className={classes.fullWidth}\n        size=\"small\"\n        aria-label=\"a dense table\"\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>\n              #\n            </TableCell>\n            <TableCell align=\"left\">Nome</TableCell>\n            <TableCell align=\"left\">E-mail</TableCell>\n            <TableCell align=\"left\">Telefone</TableCell>\n            <TableCell align=\"left\">Plano</TableCell>\n            <TableCell align=\"left\">Campanhas</TableCell>\n            <TableCell align=\"left\">Status</TableCell>\n            <TableCell align=\"left\">Criada Em</TableCell>\n            <TableCell align=\"left\">Vencimento</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {records.map((row, key) => (\n            <TableRow style={rowStyle(row)} key={key}>\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                  <EditIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.email || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.phone || \"-\"}</TableCell>\n              <TableCell align=\"left\">{renderPlan(row)}</TableCell>\n              <TableCell align=\"left\">{renderCampaignsStatus(row)}</TableCell>\n              <TableCell align=\"left\">{renderStatus(row)}</TableCell>\n              <TableCell align=\"left\">{dateToClient(row.createdAt)}</TableCell>\n              <TableCell align=\"left\">\n                {dateToClient(row.dueDate)}\n                <br />\n                <span>{row.recurrence}</span>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default function CompaniesManager() {\n  const classes = useStyles();\n  const { list, save, update, remove } = useCompanies();\n\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n  });\n\n  useEffect(() => {\n    loadPlans();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyList = await list();\n      setRecords(companyList);\n    } catch (e) {\n      toast.error(\"No foi possvel carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  const handleSubmit = async (data) => {\n    setLoading(true);\n    try {\n      if (data.id !== undefined) {\n        await update(data);\n      } else {\n        await save(data);\n      }\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operao realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\n        \"No foi possvel realizar a operao. Verifique se j existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\n      );\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await remove(record.id);\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operao realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\"No foi possvel realizar a operao\");\n    }\n    setLoading(false);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    setShowConfirmDialog(true);\n  };\n\n  const handleCancel = () => {\n    setRecord((prev) => ({\n      ...prev,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      planId: \"\",\n      status: true,\n      campaignsEnabled: false,\n      dueDate: \"\",\n      recurrence: \"\",\n    }));\n  };\n\n  const handleSelect = (data) => {\n    let campaignsEnabled = false;\n\n    const setting = data.settings.find(\n      (s) => s.key.indexOf(\"campaignsEnabled\") > -1\n    );\n    if (setting) {\n      campaignsEnabled =\n        setting.value === \"true\" || setting.value === \"enabled\";\n    }\n\n    setRecord((prev) => ({\n      ...prev,\n      id: data.id,\n      name: data.name || \"\",\n      phone: data.phone || \"\",\n      email: data.email || \"\",\n      planId: data.planId || \"\",\n      status: data.status === false ? false : true,\n      campaignsEnabled,\n      dueDate: data.dueDate || \"\",\n      recurrence: data.recurrence || \"\",\n    }));\n  };\n\n  return (\n    <Paper className={classes.mainPaper} elevation={0}>\n      <Grid spacing={2} container>\n        <Grid xs={12} item>\n          <CompanyForm\n            initialValue={record}\n            onDelete={handleOpenDeleteDialog}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n            loading={loading}\n          />\n        </Grid>\n        <Grid xs={12} item>\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\n        </Grid>\n      </Grid>\n      <ConfirmationModal\n        title=\"Excluso de Registro\"\n        open={showConfirmDialog}\n        onClose={() => setShowConfirmDialog(false)}\n        onConfirm={() => handleDelete()}\n      >\n        Deseja realmente excluir esse registro?\n      </ConfirmationModal>\n    </Paper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport usePlans from \"../../hooks/usePlans\";\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n    mainPaper: {\n\t\twidth: '100%',\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2)\n    },\n\tfullWidth: {\n\t\twidth: '100%'\n\t},\n    tableContainer: {\n\t\twidth: '100%',\n\t\toverflowX: \"scroll\",\n\t\t...theme.scrollbarStyles\n    },\n\ttextfield: {\n\t\twidth: '100%'\n\t},\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n\t\tpaddingTop: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2)\n    },\n    control: {\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(1)\n\t},\n    buttonContainer: {\n        textAlign: 'right',\n\t\tpadding: theme.spacing(1)\n\t}\n}));\n\nexport function PlanManagerForm (props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0\n    });\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async(data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Nome\"\n                                name=\"name\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Usurios\"\n                                name=\"users\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Conexes\"\n                                name=\"connections\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Filas\"\n                                name=\"queues\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                Limpar\n                            </ButtonWithSpinner>\n                        </Grid>\n                        { record.id !== undefined ? (\n                            <Grid sm={3} md={1} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    Excluir\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                Salvar\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function PlansManagerGrid (props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\n                    <TableCell align=\"left\">Nome</TableCell>\n                    <TableCell align=\"center\">Usurios</TableCell>\n                    <TableCell align=\"center\">Conexes</TableCell>\n                    <TableCell align=\"center\">Filas</TableCell>\n                </TableRow>\n                </TableHead>\n                <TableBody>\n                {records.map((row) => (\n                    <TableRow key={row.id}>\n                        <TableCell align=\"center\" style={{width: '1%'}}>\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                <EditIcon />\n                            </IconButton>\n                        </TableCell>\n                        <TableCell align=\"left\">{row.name || '-'}</TableCell>\n                        <TableCell align=\"center\">{row.users || '-'}</TableCell>\n                        <TableCell align=\"center\">{row.connections || '-'}</TableCell>\n                        <TableCell align=\"center\">{row.queues || '-'}</TableCell>\n                    </TableRow>\n                ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function PlansManager () {\n    const classes = useStyles()\n    const { list, save, update, remove } = usePlans()\n    \n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0\n    })\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadPlans()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const loadPlans = async () => {\n        setLoading(true)\n        try {\n            const planList = await list()\n            setRecords(planList)\n        } catch (e) {\n            toast.error('No foi possvel carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadPlans()\n            handleCancel()\n            toast.success('Operao realizada com sucesso!')\n        } catch (e) {\n            toast.error('No foi possvel realizar a operao. Verifique se j existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadPlans()\n            handleCancel()\n            toast.success('Operao realizada com sucesso!')\n        } catch (e) {\n            toast.error('No foi possvel realizar a operao')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            name: '',\n            users: 0,\n            connections: 0,\n            queues: 0\n        })\n    }\n\n    const handleSelect = (data) => {\n        setRecord({\n            id: data.id,\n            name: data.name || '',\n            users: data.users || 0,\n            connections: data.connections || 0,\n            queues: data.queues || 0\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <PlanManagerForm \n                        initialValue={record} \n                        onDelete={handleOpenDeleteDialog} \n                        onSubmit={handleSubmit} \n                        onCancel={handleCancel} \n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <PlansManagerGrid \n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Excluso de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const findAll = async (params) => {\n        const { data } = await api.request({\n            url: `/helps`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/helps/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/helps',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/helps/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/helps/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    return {\n        findAll,\n        list,\n        save,\n        update,\n        remove\n    }\n}\n\nexport default usePlans;","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useHelps from \"../../hooks/useHelps\";\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n    mainPaper: {\n\t\twidth: '100%',\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2)\n    },\n\tfullWidth: {\n\t\twidth: '100%'\n\t},\n    tableContainer: {\n\t\twidth: '100%',\n\t\toverflowX: \"scroll\",\n\t\t...theme.scrollbarStyles\n    },\n\ttextfield: {\n\t\twidth: '100%'\n\t},\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n\t\tpaddingTop: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2)\n    },\n    control: {\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(1)\n\t},\n    buttonContainer: {\n        textAlign: 'right',\n\t\tpadding: theme.spacing(1)\n\t}\n}));\n\nexport function HelpManagerForm (props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState(initialValue);\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async(data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Ttulo\"\n                                name=\"title\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Cdigo do Vdeo\"\n                                name=\"video\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={12} md={6} item>\n                            <Field\n                                as={TextField}\n                                label=\"Descrio\"\n                                name=\"description\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                Limpar\n                            </ButtonWithSpinner>\n                        </Grid>\n                        { record.id !== undefined ? (\n                            <Grid sm={3} md={1} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    Excluir\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                Salvar\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function HelpsManagerGrid (props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\n                    <TableCell align=\"left\">Ttulo</TableCell>\n                    <TableCell align=\"left\">Descrio</TableCell>\n                    <TableCell align=\"left\">Vdeo</TableCell>\n                </TableRow>\n                </TableHead>\n                <TableBody>\n                {records.map((row) => (\n                    <TableRow key={row.id}>\n                        <TableCell align=\"center\" style={{width: '1%'}}>\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                <EditIcon />\n                            </IconButton>\n                        </TableCell>\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\n                    </TableRow>\n                ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function HelpsManager () {\n    const classes = useStyles()\n    const { list, save, update, remove } = useHelps()\n    \n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        title: '',\n        description: '',\n        video: ''\n    })\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadHelps()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const loadHelps = async () => {\n        setLoading(true)\n        try {\n            const helpList = await list()\n            setRecords(helpList)\n        } catch (e) {\n            toast.error('No foi possvel carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadHelps()\n            handleCancel()\n            toast.success('Operao realizada com sucesso!')\n        } catch (e) {\n            toast.error('No foi possvel realizar a operao. Verifique se j existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadHelps()\n            handleCancel()\n            toast.success('Operao realizada com sucesso!')\n        } catch (e) {\n            toast.error('No foi possvel realizar a operao')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            title: '',\n            description: '',\n            video: ''\n        })\n    }\n\n    const handleSelect = (data) => {\n        setRecord({\n            id: data.id,\n            title: data.title || '',\n            description: data.description || '',\n            video: data.video || ''\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <HelpManagerForm \n                        initialValue={record} \n                        onDelete={handleOpenDeleteDialog} \n                        onSubmit={handleSubmit} \n                        onCancel={handleCancel} \n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <HelpsManagerGrid \n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Excluso de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst useSettings = () => {\n\n    const getAll = async (params) => {\n        const { data } = await api.request({\n            url: '/settings',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/settings/${data.key}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n\t\tgetAll,\n        update\n    }\n}\n\nexport default useSettings;","import React, { useEffect, useState } from \"react\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\n// import Title from \"../Title\";\n\nimport useSettings from \"../../hooks/useSettings\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n}));\n\nexport default function Options(props) {\n  const { settings, scheduleTypeChanged } = props;\n  const classes = useStyles();\n  const [userRating, setUserRating] = useState(\"disabled\");\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\n\n  const { update } = useSettings();\n\n  useEffect(() => {\n    if (Array.isArray(settings) && settings.length) {\n      const userRating = settings.find((s) => s.key === \"userRating\");\n      if (userRating) {\n        setUserRating(userRating.value);\n      }\n      const scheduleType = settings.find((s) => s.key === \"scheduleType\");\n      if (scheduleType) {\n        setScheduleType(scheduleType.value);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings]);\n\n  async function handleChangeUserRating(value) {\n    setUserRating(value);\n    setLoadingUserRating(true);\n    await update({\n      key: \"userRating\",\n      value,\n    });\n    setLoadingUserRating(false);\n  }\n\n  async function handleScheduleType(value) {\n    setScheduleType(value);\n    setLoadingScheduleType(true);\n    await update({\n      key: \"scheduleType\",\n      value,\n    });\n    setLoadingScheduleType(false);\n    if (typeof scheduleTypeChanged === \"function\") {\n      scheduleTypeChanged(value);\n    }\n  }\n\n  return (\n    <>\n      <Grid spacing={3} container>\n        {/* <Grid xs={12} item>\n                    <Title>Configuraes Gerais</Title>\n                </Grid> */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"ratings-label\">Avaliaes</InputLabel>\n            <Select\n              labelId=\"ratings-label\"\n              value={userRating}\n              onChange={async (e) => {\n                handleChangeUserRating(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitadas</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitadas</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingUserRating && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"schedule-type-label\">\n              Agendimento de Expediente\n            </InputLabel>\n            <Select\n              labelId=\"schedule-type-label\"\n              value={scheduleType}\n              onChange={async (e) => {\n                handleScheduleType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"queue\"}>Gerenciamento Por Fila</MenuItem>\n              <MenuItem value={\"company\"}>Gerenciamento Por Empresa</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\n\nOnlyForSuperUser.defaultProps = {\n    user: {},\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport default OnlyForSuperUser;","import React, { useState, useEffect } from \"react\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\n\nimport TabPanel from \"../../components/TabPanel\";\n\nimport SchedulesForm from \"../../components/SchedulesForm\";\nimport CompaniesManager from \"../../components/CompaniesManager\";\nimport PlansManager from \"../../components/PlansManager\";\nimport HelpsManager from \"../../components/HelpsManager\";\nimport Options from \"../../components/Settings/Options\";\n\nimport { i18n } from \"../../translate/i18n.js\";\nimport { toast } from \"react-toastify\";\n\nimport useCompanies from \"../../hooks/useCompanies\";\nimport useAuth from \"../../hooks/useAuth.js\";\nimport useSettings from \"../../hooks/useSettings\";\n\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  mainPaper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    flex: 1,\n  },\n  tab: {\n    background: \"#f2f5f3\",\n    borderRadius: 4,\n  },\n  paper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  container: {\n    width: \"100%\",\n    maxHeight: \"100%\",\n  },\n  control: {\n    padding: theme.spacing(1),\n  },\n  textfield: {\n    width: \"100%\",\n  },\n}));\n\nconst SettingsCustom = () => {\n  const classes = useStyles();\n  const [tab, setTab] = useState(\"options\");\n  const [schedules, setSchedules] = useState([]);\n  const [company, setCompany] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [settings, setSettings] = useState({});\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n\n  const { getCurrentUserInfo } = useAuth();\n  const { find, updateSchedules } = useCompanies();\n  const { getAll: getAllSettings } = useSettings();\n\n  useEffect(() => {\n    async function findData() {\n      setLoading(true);\n      try {\n        const companyId = localStorage.getItem(\"companyId\");\n        const company = await find(companyId);\n        const settingList = await getAllSettings();\n        setCompany(company);\n        setSchedules(company.schedules);\n        setSettings(settingList);\n\n        if (Array.isArray(settingList)) {\n          const scheduleType = settingList.find(\n            (d) => d.key === \"scheduleType\"\n          );\n          if (scheduleType) {\n            setSchedulesEnabled(scheduleType.value === \"company\");\n          }\n        }\n\n        const user = await getCurrentUserInfo();\n        setCurrentUser(user);\n      } catch (e) {\n        toast.error(e);\n      }\n      setLoading(false);\n    }\n    findData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleTabChange = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleSubmitSchedules = async (data) => {\n    setLoading(true);\n    try {\n      setSchedules(data);\n      await updateSchedules({ id: company.id, schedules: data });\n      toast.success(\"Horrios atualizados com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n    setLoading(false);\n  };\n\n  const isSuper = () => {\n    return currentUser.super;\n  };\n\n  return (\n    <MainContainer className={classes.root}>\n      <MainHeader>\n        <Title>{i18n.t(\"settings.title\")}</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} elevation={1}>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          onChange={handleTabChange}\n          className={classes.tab}\n        >\n          <Tab label=\"Opes\" value={\"options\"} />\n          {schedulesEnabled && <Tab label=\"Horrios\" value={\"schedules\"} />}\n          {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\n          {isSuper() ? <Tab label=\"Planos\" value={\"plans\"} /> : null}\n          {isSuper() ? <Tab label=\"Ajuda\" value={\"helps\"} /> : null}\n        </Tabs>\n        <Paper className={classes.paper} elevation={0}>\n          <TabPanel\n            className={classes.container}\n            value={tab}\n            name={\"schedules\"}\n          >\n            <SchedulesForm\n              loading={loading}\n              onSubmit={handleSubmitSchedules}\n              initialValues={schedules}\n            />\n          </TabPanel>\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"companies\"}\n              >\n                <CompaniesManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"plans\"}\n              >\n                <PlansManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"helps\"}\n              >\n                <HelpsManager />\n              </TabPanel>\n            )}\n          />\n          <TabPanel className={classes.container} value={tab} name={\"options\"}>\n            <Options\n              settings={settings}\n              scheduleTypeChanged={(value) =>\n                setSchedulesEnabled(value === \"company\")\n              }\n            />\n          </TabPanel>\n        </Paper>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default SettingsCustom;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-user`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [contactTicket, setContactTicket] = useState({});\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  // const handleSaveTicket = async contactId => {\n  // \tif (!contactId) return;\n  // \tsetLoading(true);\n  // \ttry {\n  // \t\tconst { data: ticket } = await api.post(\"/tickets\", {\n  // \t\t\tcontactId: contactId,\n  // \t\t\tuserId: user?.id,\n  // \t\t\tstatus: \"open\",\n  // \t\t});\n  // \t\thistory.push(`/tickets/${ticket.id}`);\n  // \t} catch (err) {\n  // \t\ttoastError(err);\n  // \t}\n  // \tsetLoading(false);\n  // };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleimportContact = async () => {\n    try {\n      await api.post(\"/contacts/import\");\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        initialContact={contactTicket}\n        onClose={(ticket) => {\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    {<Avatar src={contact.profilePicUrl} />}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setContactTicket(contact);\n                        setNewTicketModalOpen(true);\n                      }}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { GithubPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n\tconst [selectedColor, setSelectedColor] = useState(currentColor);\n\n\tconst handleChange = color => {\n\t\tsetSelectedColor(color.hex);\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\topen={open}\n\t\t>\n\t\t\t<GithubPicker\n\t\t\t\twidth={\"100%\"}\n\t\t\t\ttriangle=\"hide\"\n\t\t\t\tcolor={selectedColor}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonChangeComplete={color => onChange(color.hex)}\n\t\t\t/>\n\t\t</Dialog>\n\t);\n};\n\nexport default ColorPicker;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button, IconButton, StepContent, TextField } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    height: 400,\n    [theme.breakpoints.down(\"sm\")]: {\n      maxHeight: \"20vh\",\n    },\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  input: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  addButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nexport function QueueOptionStepper({ queueId, options, updateOptions }) {\n  const classes = useStyles();\n  const [activeOption, setActiveOption] = useState(-1);\n\n  const handleOption = (index) => async () => {\n    setActiveOption(index);\n    const option = options[index];\n\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        const { data } = await api.request({\n          url: \"/queue-options\",\n          method: \"GET\",\n          params: { queueId, parentId: option.id },\n        });\n        const optionList = data.map((option) => {\n          return {\n            ...option,\n            children: [],\n            edition: false,\n          };\n        });\n        option.children = optionList;\n        updateOptions();\n      } catch (e) {\n        toastError(e);\n      }\n    }\n  };\n\n  const handleSave = async (option) => {\n    try {\n      if (option.id) {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"PUT\",\n          data: option,\n        });\n      } else {\n        const { data } = await api.request({\n          url: `/queue-options`,\n          method: \"POST\",\n          data: option,\n        });\n        option.id = data.id;\n      }\n      option.edition = false;\n      updateOptions();\n    } catch (e) {\n      toastError(e);\n    }\n  };\n\n  const handleEdition = (index) => {\n    options[index].edition = !options[index].edition;\n    updateOptions();\n  };\n\n  const handleDeleteOption = async (index) => {\n    const option = options[index];\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"DELETE\",\n        });\n      } catch (e) {\n        toastError(e);\n      }\n    }\n    options.splice(index, 1);\n    options.forEach(async (option, order) => {\n      option.option = order + 1;\n      await handleSave(option);\n    });\n    updateOptions();\n  };\n\n  const handleOptionChangeTitle = (event, index) => {\n    options[index].title = event.target.value;\n    updateOptions();\n  };\n\n  const handleOptionChangeMessage = (event, index) => {\n    options[index].message = event.target.value;\n    updateOptions();\n  };\n\n  const renderTitle = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            value={option.title}\n            onChange={(event) => handleOptionChangeTitle(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Ttulo da opo\"\n          />\n          {option.edition && (\n            <>\n              <IconButton\n                color=\"primary\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleSave(option)}\n              >\n                <SaveIcon />\n              </IconButton>\n              <IconButton\n                variant=\"outlined\"\n                color=\"secondary\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleDeleteOption(index)}\n              >\n                <DeleteOutlineIcon />\n              </IconButton>\n            </>\n          )}\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography>\n          {option.title !== \"\" ? option.title : \"Ttulo no definido\"}\n          <IconButton\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={() => handleEdition(index)}\n          >\n            <EditIcon />\n          </IconButton>\n        </Typography>\n      </>\n    );\n  };\n\n  const renderMessage = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            style={{ width: \"100%\" }}\n            multiline\n            value={option.message}\n            onChange={(event) => handleOptionChangeMessage(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Digite o texto da opo\"\n          />\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography onClick={() => handleEdition(index)}>\n          {option.message}\n        </Typography>\n      </>\n    );\n  };\n\n  const handleAddOption = (index) => {\n    const optionNumber = options[index].children.length + 1;\n    options[index].children.push({\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: optionNumber,\n      queueId,\n      parentId: options[index].id,\n      children: [],\n    });\n    updateOptions();\n  };\n\n  const renderStep = (option, index) => {\n    return (\n      <Step key={index}>\n        <StepLabel style={{ cursor: \"pointer\" }} onClick={handleOption(index)}>\n          {renderTitle(index)}\n        </StepLabel>\n        <StepContent>\n          {renderMessage(index)}\n\n          {option.id !== undefined && (\n            <>\n              <Button\n                color=\"primary\"\n                size=\"small\"\n                onClick={() => handleAddOption(index)}\n                startIcon={<AddIcon />}\n                variant=\"outlined\"\n                className={classes.addButton}\n              >\n                Adicionar\n              </Button>\n            </>\n          )}\n          <QueueOptionStepper\n            queueId={queueId}\n            options={option.children}\n            updateOptions={updateOptions}\n          />\n        </StepContent>\n      </Step>\n    );\n  };\n\n  const renderStepper = () => {\n    return (\n      <Stepper\n        style={{ marginBottom: 0, paddingBottom: 0 }}\n        nonLinear\n        activeStep={activeOption}\n        orientation=\"vertical\"\n      >\n        {options.map((option, index) => renderStep(option, index))}\n      </Stepper>\n    );\n  };\n\n  return renderStepper();\n}\n\nexport function QueueOptions({ queueId }) {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  useEffect(() => {\n    if (queueId) {\n      const fetchOptions = async () => {\n        try {\n          const { data } = await api.request({\n            url: \"/queue-options\",\n            method: \"GET\",\n            params: { queueId, parentId: -1 },\n          });\n          const optionList = data.map((option) => {\n            return {\n              ...option,\n              children: [],\n              edition: false,\n            };\n          });\n          setOptions(optionList);\n        } catch (e) {\n          toastError(e);\n        }\n      };\n      fetchOptions();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderStepper = () => {\n    if (options.length > 0) {\n      return (\n        <QueueOptionStepper\n          queueId={queueId}\n          updateOptions={updateOptions}\n          options={options}\n        />\n      );\n    }\n  };\n\n  const updateOptions = () => {\n    setOptions([...options]);\n  };\n\n  const addOption = () => {\n    const newOption = {\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: options.length + 1,\n      queueId,\n      parentId: null,\n      children: [],\n    };\n    setOptions([...options, newOption]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <br />\n      <Typography>\n        Opes\n        <Button\n          color=\"primary\"\n          size=\"small\"\n          onClick={addOption}\n          startIcon={<AddIcon />}\n          style={{ marginLeft: 10 }}\n          variant=\"outlined\"\n        >\n          Adicionar\n        </Button>\n      </Typography>\n      {renderStepper()}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport {\n  Grid,\n  IconButton,\n  InputAdornment,\n  Paper,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { QueueOptions } from \"../QueueOptions\";\nimport SchedulesForm from \"../SchedulesForm\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst QueueSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n  greetingMessage: Yup.string(),\n});\n\nconst QueueModal = ({ open, onClose, queueId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    color: \"\",\n    greetingMessage: \"\",\n    outOfHoursMessage: \"\",\n  };\n\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n  const [queue, setQueue] = useState(initialState);\n  const [tab, setTab] = useState(0);\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n  const greetingRef = useRef();\n\n  const [schedules, setSchedules] = useState([\n    {\n      weekday: \"Segunda-feira\",\n      weekdayEn: \"monday\",\n      startTime: \"\",\n      endTime: \"\",\n    },\n    {\n      weekday: \"Tera-feira\",\n      weekdayEn: \"tuesday\",\n      startTime: \"\",\n      endTime: \"\",\n    },\n    {\n      weekday: \"Quarta-feira\",\n      weekdayEn: \"wednesday\",\n      startTime: \"\",\n      endTime: \"\",\n    },\n    {\n      weekday: \"Quinta-feira\",\n      weekdayEn: \"thursday\",\n      startTime: \"\",\n      endTime: \"\",\n    },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Sbado\", weekdayEn: \"saturday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"\", endTime: \"\" },\n  ]);\n\n  useEffect(() => {\n    api.get(`/settings`).then(({ data }) => {\n      if (Array.isArray(data)) {\n        const scheduleType = data.find((d) => d.key === \"scheduleType\");\n        if (scheduleType) {\n          setSchedulesEnabled(scheduleType.value === \"queue\");\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      if (!queueId) return;\n      try {\n        const { data } = await api.get(`/queue/${queueId}`);\n        setQueue((prevState) => {\n          return { ...prevState, ...data };\n        });\n        setSchedules(data.schedules);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setQueue({\n        name: \"\",\n        color: \"\",\n        greetingMessage: \"\",\n      });\n    };\n  }, [queueId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setQueue(initialState);\n  };\n\n  const handleSaveQueue = async (values) => {\n    try {\n      if (queueId) {\n        await api.put(`/queue/${queueId}`, { ...values, schedules });\n      } else {\n        await api.post(\"/queue\", { ...values, schedules });\n      }\n      toast.success(\"Queue saved successfully\");\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveSchedules = async (values) => {\n    toast.success(\"Clique em salvar para registar as alteraes\");\n    setSchedules(values);\n    setTab(0);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        maxWidth=\"lg\"\n        fullWidth={true}\n        open={open}\n        onClose={handleClose}\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {queueId\n            ? `${i18n.t(\"queueModal.title.edit\")}`\n            : `${i18n.t(\"queueModal.title.add\")}`}\n        </DialogTitle>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          onChange={(_, v) => setTab(v)}\n          aria-label=\"disabled tabs example\"\n        >\n          <Tab label=\"Dados da Fila\" />\n          {schedulesEnabled && <Tab label=\"Horrios de Atendimento\" />}\n        </Tabs>\n        {tab === 0 && (\n          <Paper>\n            <Formik\n              initialValues={queue}\n              enableReinitialize={true}\n              validationSchema={QueueSchema}\n              onSubmit={(values, actions) => {\n                setTimeout(() => {\n                  handleSaveQueue(values);\n                  actions.setSubmitting(false);\n                }, 400);\n              }}\n            >\n              {({ touched, errors, isSubmitting, values }) => (\n                <Form>\n                  <DialogContent dividers>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.name\")}\n                      autoFocus\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.color\")}\n                      name=\"color\"\n                      id=\"color\"\n                      onFocus={() => {\n                        setColorPickerModalOpen(true);\n                        greetingRef.current.focus();\n                      }}\n                      error={touched.color && Boolean(errors.color)}\n                      helperText={touched.color && errors.color}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <div\n                              style={{ backgroundColor: values.color }}\n                              className={classes.colorAdorment}\n                            ></div>\n                          </InputAdornment>\n                        ),\n                        endAdornment: (\n                          <IconButton\n                            size=\"small\"\n                            color=\"default\"\n                            onClick={() => setColorPickerModalOpen(true)}\n                          >\n                            <Colorize />\n                          </IconButton>\n                        ),\n                      }}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <ColorPicker\n                      open={colorPickerModalOpen}\n                      handleClose={() => setColorPickerModalOpen(false)}\n                      onChange={(color) => {\n                        values.color = color;\n                        setQueue(() => {\n                          return { ...values, color };\n                        });\n                      }}\n                    />\n                    <div style={{ marginTop: 5 }}>\n                      <Grid spacing={1} container>\n                        <Grid xs={12} md={schedulesEnabled ? 6 : 12} item>\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueModal.form.greetingMessage\")}\n                            type=\"greetingMessage\"\n                            multiline\n                            inputRef={greetingRef}\n                            rows={5}\n                            fullWidth\n                            name=\"greetingMessage\"\n                            error={\n                              touched.greetingMessage &&\n                              Boolean(errors.greetingMessage)\n                            }\n                            helperText={\n                              touched.greetingMessage && errors.greetingMessage\n                            }\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                        {schedulesEnabled && (\n                          <Grid xs={12} md={6} item>\n                            <Field\n                              as={TextField}\n                              label={i18n.t(\n                                \"queueModal.form.outOfHoursMessage\"\n                              )}\n                              type=\"outOfHoursMessage\"\n                              multiline\n                              rows={5}\n                              fullWidth\n                              name=\"outOfHoursMessage\"\n                              error={\n                                touched.outOfHoursMessage &&\n                                Boolean(errors.outOfHoursMessage)\n                              }\n                              helperText={\n                                touched.outOfHoursMessage &&\n                                errors.outOfHoursMessage\n                              }\n                              variant=\"outlined\"\n                              margin=\"dense\"\n                            />\n                          </Grid>\n                        )}\n                      </Grid>\n                    </div>\n                    <QueueOptions queueId={queueId} />\n                  </DialogContent>\n                  <DialogActions>\n                    <Button\n                      onClick={handleClose}\n                      color=\"secondary\"\n                      disabled={isSubmitting}\n                      variant=\"outlined\"\n                    >\n                      {i18n.t(\"queueModal.buttons.cancel\")}\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      color=\"primary\"\n                      disabled={isSubmitting}\n                      variant=\"contained\"\n                      className={classes.btnWrapper}\n                    >\n                      {queueId\n                        ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n                        : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n                      {isSubmitting && (\n                        <CircularProgress\n                          size={24}\n                          className={classes.buttonProgress}\n                        />\n                      )}\n                    </Button>\n                  </DialogActions>\n                </Form>\n              )}\n            </Formik>\n          </Paper>\n        )}\n        {tab === 1 && (\n          <Paper style={{ padding: 20 }}>\n            <SchedulesForm\n              loading={false}\n              onSubmit={handleSaveSchedules}\n              initialValues={schedules}\n              labelSaveButton=\"Adicionar\"\n            />\n          </Paper>\n        )}\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-queue`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatrio\")\n});\n\nconst TagModal = ({ open, onClose, tagId, reload }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\"\n\t};\n\n\tconst [tag, setTag] = useState(initialState);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tif (!tagId) return;\n\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tsetTag(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetTag(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tonClose();\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst tagData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", tagData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"tagModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{ (tagId ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.add\")}`) }\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={tag}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveTag(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{ colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\n\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{margin: '20px auto 0'}}\n\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = socketConnection({ companyId: user.companyId });\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [user]);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"tags.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenTagModal}\n          >\n            {i18n.t(\"tags.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.tickets\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tags.map((tag) => (\n                <TableRow key={tag.id}>\n                  <TableCell align=\"center\">\n                    <Chip\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: tag.color,\n                        textShadow: \"1px 1px 1px #000\",\n                        color: \"white\",\n                      }}\n                      label={tag.name}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingTag(tag);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    paddingBottom: 100\n  },\n  mainHeader: {\n    marginTop: theme.spacing(1),\n  },\n  elementMargin: {\n    marginTop: theme.spacing(2),\n  },\n  formContainer: {\n    maxWidth: 500,\n  },\n  textRight: {\n    textAlign: \"right\"\n  }\n}));\n\nconst MessagesAPI = () => {\n  const classes = useStyles();\n\n  const [formMessageTextData,] = useState({ token: '',number: '', body: '' })\n  const [formMessageMediaData,] = useState({ token: '', number: '', medias: '' })\n  const [file, setFile] = useState({})\n\n  const getEndpoint = () => {\n    return process.env.REACT_APP_BACKEND_URL + 'api/messages/send'\n  }\n\n  const handleSendTextMessage = async (values) => {\n    const { number, body } = values;\n    const data = { number, body };\n    try {\n      await api.request({\n        url: '/api/messages/send',\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'application/json',\n          'X_TOKEN': values.token\n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const handleSendMediaMessage = async (values) => {\n    try {\n      const firstFile =  file[0];\n      const data = new FormData();\n      data.append('number', values.number);\n      data.append('body', firstFile.name);\n      data.append('medias', firstFile);\n      await api.request({\n        url: '/api/messages/send',\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'multipart/form-data',\n          'X_TOKEN': values.token\n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const renderFormMessageText = () => {\n    return (\n      <Formik\n        initialValues={formMessageTextData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendTextMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\n                  name=\"body\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : 'Enviar'}\n\t\t\t\t\t\t\t\t</Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  const renderFormMessageMedia = () => {\n    return (\n      <Formik\n        initialValues={formMessageMediaData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            console.log(values, file)\n            await handleSendMediaMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n            document.getElementById('medias').files = null\n            document.getElementById('medias').value = null\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <input type=\"file\" name=\"medias\" id=\"medias\" required onChange={(e) => setFile(e.target.files)} />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : 'Enviar'}\n\t\t\t\t\t\t\t\t</Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  return (\n    <Paper\n      className={classes.mainPaper}\n      variant=\"outlined\"\n    >\n      <Typography variant=\"h5\">\n        Documentao para envio de mensagens\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Mtodos de Envio\n      </Typography>\n      <Typography component=\"div\">\n        <ol>\n          <li>Mensagens de Texto</li>\n          <li>Mensagens de Media</li>\n        </ol>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Instrues\n      </Typography>\n      <Typography className={classes.elementMargin} component=\"div\">\n        <b>Observaes importantes</b><br />\n        <ul>\n          <li>Antes de enviar mensagens,  necessrio o cadastro do token vinculado  conexo que enviar as mensagens. <br/>Para realizar o cadastro acesse o menu \"Conexes\", clique no boto editar da conexo e insira o token no devido campo.</li>\n          <li>\n            O nmero para envio no deve ter mascara ou caracteres especiais e deve ser composto por:\n              <ul>\n                <li>Cdigo do pas</li>\n                <li>DDD</li>\n                <li>Nmero</li>\n              </ul>\n          </li>\n        </ul>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        1. Mensagens de Texto\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informaes necessrias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Mtodo: </b> POST <br />\n            <b>Headers: </b> X_TOKEN (token cadastrado) e Content-Type (application/json) <br />\n            <b>Body: </b> {\"{ \\\"number\\\": \\\"558599999999\\\", \\\"body\\\": \\\"Sua mensagem\\\" }\"}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageText()}\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        2. Mensagens de Media\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informaes necessrias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Mtodo: </b> POST <br />\n            <b>Headers: </b> X_TOKEN (token cadastrado) e Content-Type (multipart/form-data) <br />\n            <b>FormData: </b> <br />\n            <ul>\n              <li>\n                <b>number: </b> 558599999999\n              </li>\n              <li>\n                <b>medias: </b> arquivo\n              </li>\n            </ul>\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageMedia()}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MessagesAPI;","import React, { useState, useEffect } from \"react\";\n\nimport {\n\tmakeStyles,\n\tPaper\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport useHelps from \"../../hooks/useHelps\";\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\twidth: '100%',\n\t\tminHeight: '200px',\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\theading: {\n\t  fontSize: theme.typography.pxToRem(15),\n\t  flexBasis: '33.33%',\n\t  flexShrink: 0,\n\t},\n\tsecondaryHeading: {\n\t  fontSize: theme.typography.pxToRem(15),\n\t  color: theme.palette.text.secondary,\n\t}\n}));\n\nconst Helps = () => {\n\tconst classes = useStyles();\n\n\tconst [records, setRecords] = useState([]);\n\tconst { list } = useHelps()\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst helps = await list()\n\t\t\tsetRecords(helps)\n\t\t}\n\t\tfetchData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst renderVideo = (record) => {\n\t\tconst url = `https://www.youtube.com/embed/${record.video}`;\n\t\treturn (\n\t\t\t<iframe style={{ width: 700, height: 500 }} src={url} title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n\t\t)\n\t\t\t\n\t}\n\n\tconst renderHelps = () => {\n\t\treturn <>\n\t\t\t{ records.length ? records.map((record, key) => (\n\t\t\t\t<Accordion key={key}>\n\t\t\t\t\t<AccordionSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls=\"panel1a-content\"\n\t\t\t\t\t\tid=\"panel1a-header\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>{ record.title }</Typography>\n          \t\t\t\t<Typography className={classes.secondaryHeading}>{ record.description }</Typography>\n\t\t\t\t\t</AccordionSummary>\n\t\t\t\t\t<AccordionDetails>\n\t\t\t\t\t\t<Typography>{ renderVideo(record) }</Typography>\n\t\t\t\t\t</AccordionDetails>\n\t\t\t\t</Accordion>\n\t\t\t)) : null }\n\t\t</>\n\t}\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"helps.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t{ renderHelps() }\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Helps;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst ContactListSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst ContactListModal = ({ open, onClose, contactListId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n  };\n\n  const [contactList, setContactList] = useState(initialState);\n\n  useEffect(() => {\n    const fetchContactList = async () => {\n      if (!contactListId) return;\n      try {\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\n        setContactList((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContactList();\n  }, [contactListId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setContactList(initialState);\n  };\n\n  const handleSaveContactList = async (values) => {\n    const contactListData = { ...values };\n    try {\n      if (contactListId) {\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\n      } else {\n        await api.post(\"/contact-lists\", contactListData);\n      }\n      toast.success(i18n.t(\"contactList.dialog\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {contactListId\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contactList}\n          enableReinitialize={true}\n          validationSchema={ContactListSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContactList(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactLists.dialog.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactLists.dialog.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactListId\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListDialog from \"../../components/ContactListDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTLISTS\") {\n    const contactLists = action.payload;\n    const newContactLists = [];\n\n    contactLists.forEach((contactList) => {\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n      if (contactListIndex !== -1) {\n        state[contactListIndex] = contactList;\n      } else {\n        newContactLists.push(contactList);\n      }\n    });\n\n    return [...state, ...newContactLists];\n  }\n\n  if (action.type === \"UPDATE_CONTACTLIST\") {\n    const contactList = action.payload;\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n\n    if (contactListIndex !== -1) {\n      state[contactListIndex] = contactList;\n      return [...state];\n    } else {\n      return [contactList, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACTLIST\") {\n    const contactListId = action.payload;\n\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\n    if (contactListIndex !== -1) {\n      state.splice(contactListIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactLists = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedContactList, setSelectedContactList] = useState(null);\n  const [deletingContactList, setDeletingContactList] = useState(null);\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contactLists, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContactLists = async () => {\n        try {\n          const { data } = await api.get(\"/contact-lists/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContactLists();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-ContactList`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(true);\n  };\n\n  const handleCloseContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditContactList = (contactList) => {\n    setSelectedContactList(contactList);\n    setContactListModalOpen(true);\n  };\n\n  const handleDeleteContactList = async (contactListId) => {\n    try {\n      await api.delete(`/contact-lists/${contactListId}`);\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContactList(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContacts = (id) => {\n    history.push(`/contact-lists/${id}/contacts`);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingContactList &&\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${\n            deletingContactList.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\n      >\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ContactListDialog\n        open={contactListModalOpen}\n        onClose={handleCloseContactListModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactListId={selectedContactList && selectedContactList.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={7} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={5} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListModal}\n                >\n                  {i18n.t(\"contactLists.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.contacts\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contactLists.map((contactList) => (\n                <TableRow key={contactList.id}>\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {contactList.contactsCount || 0}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\n                        <DownloadIcon />\n                      </IconButton>\n                    </a>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => goToContacts(contactList.id)}\n                    >\n                      <PeopleIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditContactList(contactList)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingContactList(contactList);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactLists;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactListItemModal = ({\n  open,\n  onClose,\n  contactId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const {\n    user: { companyId },\n  } = useContext(AuthContext);\n  const { contactListId } = useParams();\n\n  const initialState = {\n    name: \"\",\n    number: \"\",\n    email: \"\",\n  };\n\n  const [contact, setContact] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchContact = async () => {\n      if (initialValues) {\n        setContact((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!contactId) return;\n\n      try {\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\n        if (isMounted.current) {\n          setContact(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContact();\n  }, [contactId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setContact(initialState);\n  };\n\n  const handleSaveContact = async (values) => {\n    try {\n      if (contactId) {\n        await api.put(`/contact-list-items/${contactId}`, {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/contact-list-items\", {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"contactModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n        <DialogTitle id=\"form-dialog-title\">\n          {contactId\n            ? `${i18n.t(\"contactModal.title.edit\")}`\n            : `${i18n.t(\"contactModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contact}\n          enableReinitialize={true}\n          validationSchema={ContactSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContact(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  {i18n.t(\"contactModal.form.mainInfo\")}\n                </Typography>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.name\")}\n                  name=\"name\"\n                  autoFocus\n                  error={touched.name && Boolean(errors.name)}\n                  helperText={touched.name && errors.name}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  className={classes.textField}\n                />\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.number\")}\n                  name=\"number\"\n                  error={touched.number && Boolean(errors.number)}\n                  helperText={touched.number && errors.number}\n                  placeholder=\"5513912344321\"\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                />\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    placeholder=\"Email address\"\n                    fullWidth\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactId\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListItemModal;\n","import api from \"../../services/api\";\n\nconst useContactLists = () => {\n  const save = async (data) => {\n    const { data: responseData } = await api.request({\n      url: \"/contact-lists\",\n      method: \"POST\",\n      data,\n    });\n    return responseData;\n  };\n\n  const update = async (data) => {\n    const { data: responseData } = await api.request({\n      url: `/contact-lists/${data.id}`,\n      method: \"PUT\",\n      data,\n    });\n    return responseData;\n  };\n\n  const deleteRecord = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"DELETE\",\n    });\n    return data;\n  };\n\n  const findById = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"GET\",\n    });\n    return data;\n  };\n\n  const list = async (params) => {\n    const { data } = await api.request({\n      url: \"/contact-lists/list\",\n      method: \"GET\",\n      params,\n    });\n    return data;\n  };\n\n  return {\n    findById,\n    save,\n    update,\n    deleteRecord,\n    list,\n  };\n};\n\nexport default useContactLists;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useRef,\n} from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport BlockIcon from \"@material-ui/icons/Block\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport useContactLists from \"../../hooks/useContactLists\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactListItems = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n  const { contactListId } = useParams();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\n    useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [contactList, setContactList] = useState({});\n  const fileUploadRef = useRef(null);\n\n  const { findById: findContactList } = useContactLists();\n\n  useEffect(() => {\n    findContactList(contactListId).then((data) => {\n      setContactList(data);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contactListId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(`contact-list-items`, {\n            params: { searchParam, pageNumber, contactListId },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactListId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-ContactListItem`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\n      }\n\n      if (data.action === \"reload\") {\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n      }\n    });\n\n    socket.on(\n      `company-${companyId}-ContactListItem-${contactListId}`,\n      (data) => {\n        if (data.action === \"reload\") {\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n        }\n      }\n    );\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [contactListId]);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleCloseContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contact-list-items/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleImportContacts = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", fileUploadRef.current.files[0]);\n      await api.request({\n        url: `contact-lists/${contactListId}/upload`,\n        method: \"POST\",\n        data: formData,\n      });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContactLists = () => {\n    history.push(\"/contact-lists\");\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactListItemModal\n        open={contactListItemModalOpen}\n        onClose={handleCloseContactListItemModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactListItemModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={() =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleImportContacts()\n        }\n      >\n        {deletingContact ? (\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\n        ) : (\n          <>\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\n              Clique aqui para baixar planilha exemplo.\n            </a>\n          </>\n        )}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={5} item>\n            <Title>{contactList.name}</Title>\n          </Grid>\n          <Grid xs={12} sm={7} item>\n            <Grid spacing={2} container>\n              <Grid xs={12} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={goToContactLists}\n                >\n                  {i18n.t(\"contactListItems.buttons.lists\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => {\n                    fileUploadRef.current.value = null;\n                    fileUploadRef.current.click();\n                  }}\n                >\n                  {i18n.t(\"contactListItems.buttons.import\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListItemModal}\n                >\n                  {i18n.t(\"contactListItems.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <>\n          <input\n            style={{ display: \"none\" }}\n            id=\"upload\"\n            name=\"file\"\n            type=\"file\"\n            accept=\".xls,.xlsx\"\n            onChange={() => {\n              setConfirmOpen(true);\n            }}\n            ref={fileUploadRef}\n          />\n        </>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                #\n              </TableCell>\n              <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.number\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                    <IconButton>\n                      {contact.isWhatsappValid ? (\n                        <CheckCircleIcon\n                          titleAccess=\"Whatsapp Vlido\"\n                          htmlColor=\"green\"\n                        />\n                      ) : (\n                        <BlockIcon\n                          titleAccess=\"Whatsapp Invlido\"\n                          htmlColor=\"grey\"\n                        />\n                      )}\n                    </IconButton>\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactListItems;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { \n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from '@material-ui/core';\nimport {\n    Edit as EditIcon,\n    DeleteOutline as DeleteOutlineIcon\n} from \"@material-ui/icons\";\n\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nfunction QuickMessagesTable(props) {\n    const { messages, showLoading, editMessage, deleteMessage, readOnly } = props\n    const [loading, setLoading] = useState(true)\n    const [rows, setRows] = useState([])\n\n    useEffect(() => {\n        if (Array.isArray(messages)) {\n            setRows(messages)\n        }\n        if (showLoading !== undefined) {\n            setLoading(showLoading)    \n        }\n    }, [messages, showLoading])\n\n    const handleEdit = (message) => {\n        editMessage(message)\n    }\n\n    const handleDelete = (message) => {\n        deleteMessage(message)\n    }\n\n    const renderRows = () => {\n        return rows.map((message) => {\n            return (\n                <TableRow key={message.id}>\n                    <TableCell align=\"center\">{message.shortcode}</TableCell>\n                    <TableCell align=\"left\">{message.message}</TableCell>\n                    { !readOnly ? (\n                        <TableCell align=\"center\">\n                            <IconButton\n                                size=\"small\"\n                                onClick={() => handleEdit(message)}\n                            >\n                                <EditIcon />\n                            </IconButton>\n\n                            <IconButton\n                                size=\"small\"\n                                onClick={() => handleDelete(message)}\n                            >\n                                <DeleteOutlineIcon />\n                            </IconButton>\n                        </TableCell>\n                    ) : null}\n                </TableRow>\n            )\n        })\n    }\n\n    return (\n        <Table size=\"small\">\n            <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\">Atalho</TableCell>\n                    <TableCell align=\"left\">Mensagem</TableCell>\n                    { !readOnly ? (\n                        <TableCell align=\"center\">Aes</TableCell>\n                    ) : null}\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {loading ? <TableRowSkeleton columns={readOnly ? 2 : 3} /> : renderRows()}\n            </TableBody>\n        </Table>\n    )\n}\n\nQuickMessagesTable.propTypes = {\n    messages: PropTypes.array.isRequired,\n    showLoading: PropTypes.bool,\n    editMessage: PropTypes.func.isRequired,\n    deleteMessage: PropTypes.func.isRequired\n}\n\nexport default QuickMessagesTable;","import React, { useState, useEffect } from 'react';\nimport CoreDialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nfunction Dialog ({ title, modalOpen, onClose, children }) {\n    const [open, setOpen] = useState(false);\n\n    useEffect(() => {\n        setOpen(modalOpen)\n    }, [modalOpen])\n    \n    const handleClose = () => {\n        setOpen(false);\n        onClose()\n    };\n\n    return (\n        <>\n            <CoreDialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">\n                    {title}\n                </DialogTitle>\n                {children}\n            </CoreDialog>\n        </>\n    );\n}\n\nexport default Dialog;","import React, { useState, useEffect, useContext } from 'react';\nimport { Button, TextField, DialogContent, DialogActions, Grid } from '@material-ui/core';\nimport PropType from 'prop-types'\nimport Dialog from '../Dialog';\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { i18n } from '../../translate/i18n';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonWithSpinner from '../ButtonWithSpinner';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { isNil, isObject, has, get } from 'lodash';\n\nconst MessageSchema = Yup.object().shape({\n\tshortcode: Yup.string()\n\t\t.min(3, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n    message: Yup.string()\n        .min(3, \"Too Short!\")\n        .max(500, \"Too Long!\")\n        .required(\"Required\")\n});\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '350px',\n        },\n    },\n    list: {\n        width: '100%',\n        maxWidth: '350px',\n        maxHeight: '200px',\n        backgroundColor: theme.palette.background.paper,\n    },\n    inline: {\n        width: '100%'\n    }\n}));\n\n\nfunction QuickMessageDialog(props) {\n    const classes = useStyles()\n\n    const initialMessage = {\n        id: null,\n        shortcode: '',\n        message: ''\n    };\n\n    const { modalOpen, saveMessage, editMessage, onClose, messageSelected } = props;\n    const [dialogOpen, setDialogOpen] = useState(false);\n    const [message, setMessage] = useState(initialMessage);\n    const [loading, setLoading] = useState(false);\n\n    const { user } = useContext(AuthContext);\n\n    useEffect(() => {\n        verifyAndSetMessage()\n        setDialogOpen(modalOpen)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [modalOpen])\n\n    useEffect(() => {\n        verifyAndSetMessage()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [messageSelected])\n\n    const messageSelectedIsValid = () => {\n        return isObject(messageSelected) && has(messageSelected, 'id') && !isNil(get(messageSelected, 'id'))\n    }\n\n    const verifyAndSetMessage = () =>{\n        if (messageSelectedIsValid()) {\n            const { id, message, shortcode } = messageSelected\n            setMessage({ id, message, shortcode })\n        } else {\n            setMessage(initialMessage)\n        }\n    }\n\n    const handleClose = () => {\n        onClose()\n        setLoading(false)\n    }\n\n    const handleSave = async (values) => {\n        if (messageSelectedIsValid()) {\n            editMessage({\n                ...messageSelected,\n                ...values,\n                userId: user.id\n            });\n        } else {\n            saveMessage({\n                ...values,\n                userId: user.id\n            });\n        }\n        handleClose()\n    }\n\n    return (\n        <Dialog\n            title=\"Mensagem Rpida\"\n            modalOpen={dialogOpen}\n            onClose={handleClose}\n        >\n            <Formik\n                initialValues={message}\n                enableReinitialize={true}\n                validationSchema={MessageSchema}\n                onSubmit={(values, actions) => {\n                    setLoading(true)\n                    setTimeout(() => {\n                        handleSave(values);\n                        actions.setSubmitting(false);\n                    }, 400);\n                }}\n            >\n\n                {({ touched, errors }) => (\n                    <Form>\n                        <DialogContent className={classes.root} dividers>\n                            <Grid direction=\"column\" container>\n                                <Grid item>\n                                    <Field\n                                        as={TextField}\n                                        name=\"shortcode\"\n                                        label={i18n.t(\"quickMessages.dialog.shortcode\")}\n                                        error={touched.shortcode && Boolean(errors.shortcode)}\n                                        helperText={touched.shortcode && errors.shortcode}\n                                        variant=\"outlined\"\n                                    />\n                                </Grid>\n                                <Grid item>\n                                    <Field\n                                        as={TextField}\n                                        name=\"message\"\n                                        rows={6}\n                                        label={i18n.t(\"quickMessages.dialog.message\")}\n                                        multiline={true}\n                                        error={touched.message && Boolean(errors.message)}\n                                        helperText={touched.message && errors.message}\n                                        variant=\"outlined\"\n                                    />\n                                </Grid>\n                            </Grid>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={handleClose} color=\"primary\">\n                                Cancelar\n                            </Button>\n                            <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus>\n                                Salvar\n                            </ButtonWithSpinner>\n                        </DialogActions>\n                    </Form>\n                )}\n            </Formik>\n        </Dialog>\n    )\n}\n\nQuickMessageDialog.propType = {\n    modalOpen: PropType.bool,\n    onClose: PropType.func\n}\n\nexport default QuickMessageDialog;","import React, { useState, useEffect, useContext } from \"react\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport { makeStyles, Button, Paper } from \"@material-ui/core\";\n\nimport QuickMessagesTable from \"../../components/QuickMessagesTable\";\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { toast } from \"react-toastify\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nfunction QuickMessages(props) {\n  const classes = useStyles();\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [messageSelected, setMessageSelected] = useState({});\n  const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false);\n\n  const {\n    list: listMessages,\n    save: saveMessage,\n    update: updateMessage,\n    deleteRecord: deleteMessage,\n  } = useQuickMessages();\n\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await loadingQuickMessages();\n    };\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadingQuickMessages = async () => {\n    setLoading(true);\n    try {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listMessages({ companyId, userId: user.id });\n      setMessages(messages);\n    } catch (e) {\n      toast.error(e);\n    }\n    setLoading(false);\n  };\n\n  const handleOpenToAdd = () => {\n    setModalOpen(true);\n  };\n\n  const handleOpenToEdit = (message) => {\n    setMessageSelected(message);\n    setModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setModalOpen(false);\n    setMessageSelected({ id: null, message: \"\", shortcode: \"\" });\n  };\n\n  const handleSave = async (message) => {\n    handleCloseModal();\n    try {\n      await saveMessage(message);\n      await loadingQuickMessages();\n      toast.success(\"Messagem adicionada com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleEdit = async (message) => {\n    handleCloseModal();\n    try {\n      await updateMessage(message);\n      await loadingQuickMessages();\n      toast.success(\"Messagem atualizada com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleDelete = async (message) => {\n    handleCloseModal();\n    try {\n      await deleteMessage(message.id);\n      await loadingQuickMessages();\n      toast.success(\"Messagem excluda com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Title>{i18n.t(\"quickMessages.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleOpenToAdd}>\n            {i18n.t(\"quickMessages.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <QuickMessagesTable\n          readOnly={false}\n          messages={messages}\n          showLoading={loading}\n          editMessage={handleOpenToEdit}\n          deleteMessage={(message) => {\n            setMessageSelected(message);\n            setShowOnDeleteDialog(true);\n          }}\n        />\n      </Paper>\n      <QuickMessageDialog\n        messageSelected={messageSelected}\n        modalOpen={modalOpen}\n        onClose={handleCloseModal}\n        editMessage={handleEdit}\n        saveMessage={handleSave}\n      />\n      <ConfirmationModal\n        title=\"Excluir Registro\"\n        open={showOnDeleteDialog}\n        onClose={setShowOnDeleteDialog}\n        onConfirm={async () => {\n          await handleDelete(messageSelected);\n        }}\n      >\n        Deseja realmente excluir este registro?\n      </ConfirmationModal>\n    </MainContainer>\n  );\n}\n\nexport default QuickMessages;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n\tconst { isAuth, loading } = useContext(AuthContext);\n\n\tif (!isAuth && isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n\t\t\t</>\n\t\t);\n\t}\n\n\tif (isAuth && !isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <BackdropLoading />}\n\t\t\t<RouterRoute {...rest} component={Component} />\n\t\t</>\n\t);\n};\n\nexport default Route;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nimport { capitalize } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nconst getUrlParam = (param) => {\n  return new URLSearchParams(window.location.search).get(param);\n};\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    const schedules = action.payload;\n    const newSchedules = [];\n\n    schedules.forEach((schedule) => {\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n      if (scheduleIndex !== -1) {\n        state[scheduleIndex] = schedule;\n      } else {\n        newSchedules.push(schedule);\n      }\n    });\n\n    return [...state, ...newSchedules];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\n    if (scheduleIndex !== -1) {\n      state.splice(scheduleIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\n\n  const fetchSchedules = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/schedules/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    pageNumber,\n    contactId,\n    fetchSchedules,\n    handleOpenScheduleModalFromContactId,\n  ]);\n\n  useEffect(() => {\n    handleOpenScheduleModalFromContactId();\n    const socket = socketConnection({ companyId: user.companyId });\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedules });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.scheduleId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [handleOpenScheduleModalFromContactId, user]);\n\n  const cleanContact = () => {\n    setContactId(\"\");\n  };\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + \"...\";\n    }\n    return str;\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ScheduleModal\n        open={scheduleModalOpen}\n        onClose={handleCloseScheduleModal}\n        reload={fetchSchedules}\n        aria-labelledby=\"form-dialog-title\"\n        scheduleId={selectedSchedule && selectedSchedule.id}\n        contactId={contactId}\n        cleanContact={cleanContact}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.contact\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.body\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.sendAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {schedules.map((schedule) => (\n                <TableRow key={schedule.id}>\n                  <TableCell align=\"center\">{schedule.contact.name}</TableCell>\n                  <TableCell align=\"center\" title={schedule.body}>\n                    {truncate(schedule.body, 25)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {moment(schedule.sendAt).format(\"DD/MM/YYYY HH:mm:ss\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {capitalize(schedule.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditSchedule(schedule)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingSchedule(schedule);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst CampaignSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst CampaignModal = ({\n  open,\n  onClose,\n  campaignId,\n  initialValues,\n  onSave,\n  resetPagination,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n  const { companyId } = user;\n\n  const initialState = {\n    name: \"\",\n    message1: \"\",\n    message2: \"\",\n    message3: \"\",\n    message4: \"\",\n    message5: \"\",\n    confirmationMessage1: \"\",\n    confirmationMessage2: \"\",\n    confirmationMessage3: \"\",\n    confirmationMessage4: \"\",\n    confirmationMessage5: \"\",\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\n    confirmation: false,\n    scheduledAt: \"\",\n    whatsappId: \"\",\n    contactListId: \"\",\n    companyId,\n  };\n\n  const [campaign, setCampaign] = useState(initialState);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactLists, setContactLists] = useState([]);\n  const [messageTab, setMessageTab] = useState(0);\n  const [attachment, setAttachment] = useState(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [campaignEditable, setCampaignEditable] = useState(true);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      if (initialValues) {\n        setCampaign((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      api\n        .get(`/contact-lists/list`, { params: { companyId } })\n        .then(({ data }) => setContactLists(data));\n\n      api\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\n        .then(({ data }) => setWhatsapps(data));\n\n      if (!campaignId) return;\n\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\n        setCampaign((prev) => {\n          let prevCampaignData = Object.assign({}, prev);\n\n          Object.entries(data).forEach(([key, value]) => {\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\n            } else {\n              prevCampaignData[key] = value === null ? \"\" : value;\n            }\n          });\n\n          return prevCampaignData;\n        });\n      });\n    }\n  }, [campaignId, open, initialValues, companyId]);\n\n  useEffect(() => {\n    const now = moment();\n    const scheduledAt = moment(campaign.scheduledAt);\n    const moreThenAnHour =\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\n    const isEditable =\n      campaign.status === \"INATIVA\" ||\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\n\n    setCampaignEditable(isEditable);\n  }, [campaign.status, campaign.scheduledAt]);\n\n  const handleClose = () => {\n    onClose();\n    setCampaign(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveCampaign = async (values) => {\n    try {\n      const dataValues = {};\n      Object.entries(values).forEach(([key, value]) => {\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\n        } else {\n          dataValues[key] = value === \"\" ? null : value;\n        }\n      });\n\n      if (campaignId) {\n        await api.put(`/campaigns/${campaignId}`, dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\n        }\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/campaigns\", dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\n        }\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\n    } catch (err) {\n      console.log(err);\n      toastError(err);\n    }\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (campaign.mediaPath) {\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    }\n  };\n\n  const renderMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        helperText=\"Utilize variveis como {nome}, {numero}, {email} ou defina variveis personalziadas.\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const renderConfirmationMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const cancelCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {campaignEditable ? (\n            <>\n              {campaignId\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\n            </>\n          ) : (\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\n          )}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={campaign}\n          enableReinitialize={true}\n          validationSchema={CampaignSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveCampaign(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} md={9} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={3} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"confirmation-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.confirmation\"\n                        )}\n                        labelId=\"confirmation-selection-label\"\n                        id=\"confirmation\"\n                        name=\"confirmation\"\n                        error={\n                          touched.confirmation && Boolean(errors.confirmation)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value={false}>Desabilitada</MenuItem>\n                        <MenuItem value={true}>Habilitada</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"contactList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.contactList\"\n                        )}\n                        labelId=\"contactList-selection-label\"\n                        id=\"contactListId\"\n                        name=\"contactListId\"\n                        error={\n                          touched.contactListId && Boolean(errors.contactListId)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {contactLists &&\n                          contactLists.map((contactList) => (\n                            <MenuItem\n                              key={contactList.id}\n                              value={contactList.id}\n                            >\n                              {contactList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"whatsapp-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        labelId=\"whatsapp-selection-label\"\n                        id=\"whatsappId\"\n                        name=\"whatsappId\"\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {whatsapps &&\n                          whatsapps.map((whatsapp) => (\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\n                              {whatsapp.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\n                      name=\"scheduledAt\"\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\n                      helperText={touched.scheduledAt && errors.scheduledAt}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      type=\"datetime-local\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Tabs\n                      value={messageTab}\n                      indicatorColor=\"primary\"\n                      textColor=\"primary\"\n                      onChange={(e, v) => setMessageTab(v)}\n                      variant=\"fullWidth\"\n                      centered\n                      style={{\n                        background: \"#f2f2f2\",\n                        border: \"1px solid #e6e6e6\",\n                        borderRadius: 2,\n                      }}\n                    >\n                      <Tab label=\"Msg. 1\" index={0} />\n                      <Tab label=\"Msg. 2\" index={1} />\n                      <Tab label=\"Msg. 3\" index={2} />\n                      <Tab label=\"Msg. 4\" index={3} />\n                      <Tab label=\"Msg. 5\" index={4} />\n                    </Tabs>\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\n                      {messageTab === 0 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message1\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage1\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message1\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 1 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message2\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage2\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message2\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 2 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message3\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage3\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message3\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 3 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message4\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage4\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message4\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 4 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message5\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage5\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message5\")}</>\n                          )}\n                        </>\n                      )}\n                    </Box>\n                  </Grid>\n                  {(campaign.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment != null\n                          ? attachment.name\n                          : campaign.mediaName}\n                      </Button>\n                      {campaignEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {campaign.status === \"CANCELADA\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => restartCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\n                  </Button>\n                )}\n                {campaign.status === \"EM_ANDAMENTO\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => cancelCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\n                  </Button>\n                )}\n                {!attachment && !campaign.mediaPath && campaignEditable && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\n                </Button>\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\n                  <Button\n                    type=\"submit\"\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    variant=\"contained\"\n                    className={classes.btnWrapper}\n                  >\n                    {campaignId\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </Button>\n                )}\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default CampaignModal;\n","/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n\n    if (isArray(campaigns)) {\n      campaigns.forEach((campaign) => {\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n\n    return [...state, ...newCampaigns];\n  }\n\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Campaigns = () => {\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [campaigns, dispatch] = useReducer(reducer, []);\n\n  const { datetimeToClient } = useDate();\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchCampaigns();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchCampaigns = async () => {\n    try {\n      const { data } = await api.get(\"/campaigns/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(true);\n  };\n\n  const handleCloseCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditCampaign = (campaign) => {\n    setSelectedCampaign(campaign);\n    setCampaignModalOpen(true);\n  };\n\n  const handleDeleteCampaign = async (campaignId) => {\n    try {\n      await api.delete(`/campaigns/${campaignId}`);\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCampaign(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  const cancelCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCampaign &&\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\n            deletingCampaign.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <CampaignModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchCampaigns();\n        }}\n        open={campaignModalOpen}\n        onClose={handleCloseCampaignModal}\n        aria-labelledby=\"form-dialog-title\"\n        campaignId={selectedCampaign && selectedCampaign.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"campaigns.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenCampaignModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"campaigns.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.contactList\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.scheduledAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.completedAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.confirmation\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {campaigns.map((campaign) => (\n                <TableRow key={campaign.id}>\n                  <TableCell align=\"center\">{campaign.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {formatStatus(campaign.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.contactListId\n                      ? campaign.contactList.name\n                      : \"No definida\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.whatsappId\n                      ? campaign.whatsapp.name\n                      : \"No definido\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.scheduledAt\n                      ? datetimeToClient(campaign.scheduledAt)\n                      : \"Sem agendamento\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.completedAt\n                      ? datetimeToClient(campaign.completedAt)\n                      : \"No concluda\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.status === \"EM_ANDAMENTO\" && (\n                      <IconButton\n                        onClick={() => cancelCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PauseCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    {campaign.status === \"CANCELADA\" && (\n                      <IconButton\n                        onClick={() => restartCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PlayCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    <IconButton\n                      onClick={() =>\n                        history.push(`/campaign/${campaign.id}/report`)\n                      }\n                      size=\"small\"\n                    >\n                      <DescriptionIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditCampaign(campaign)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingCampaign(campaign);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={8} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Campaigns;\n","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { toast } from \"react-toastify\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport api from \"../../services/api\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport {\n  Box,\n  Button,\n  FormControl,\n  Grid,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst initialSettings = {\n  messageInterval: 20,\n  longerIntervalAfter: 20,\n  greaterInterval: 60,\n  variables: [],\n};\n\nconst CampaignsConfig = () => {\n  const classes = useStyles();\n\n  const [settings, setSettings] = useState(initialSettings);\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [selectedKey, setSelectedKey] = useState(null);\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\n\n  useEffect(() => {\n    api.get(\"/campaign-settings\").then(({ data }) => {\n      const settingsList = [];\n      if (Array.isArray(data) && data.length > 0) {\n        data.forEach((item) => {\n          settingsList.push([item.key, JSON.parse(item.value)]);\n        });\n        setSettings(Object.fromEntries(settingsList));\n      }\n    });\n  }, []);\n\n  const handleOnChangeVariable = (e) => {\n    if (e.target.value !== null) {\n      const changedProp = {};\n      changedProp[e.target.name] = e.target.value;\n      setVariable((prev) => ({ ...prev, ...changedProp }));\n    }\n  };\n\n  const handleOnChangeSettings = (e) => {\n    const changedProp = {};\n    changedProp[e.target.name] = e.target.value;\n    setSettings((prev) => ({ ...prev, ...changedProp }));\n  };\n\n  const addVariable = () => {\n    setSettings((prev) => {\n      const variablesExists = settings.variables.filter(\n        (v) => v.key === variable.key\n      );\n      const variables = prev.variables;\n      if (variablesExists.length === 0) {\n        variables.push(Object.assign({}, variable));\n        setVariable({ key: \"\", value: \"\" });\n      }\n      return { ...prev, variables };\n    });\n  };\n\n  const removeVariable = () => {\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\n    setSettings((prev) => ({ ...prev, variables: newList }));\n    setSelectedKey(null);\n  };\n\n  const saveSettings = async () => {\n    await api.post(\"/campaign-settings\", { settings });\n    toast.success(\"Configuraes salvas\");\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={removeVariable}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Box className={classes.tabPanelsContainer}>\n          <Grid spacing={2} container>\n            <Grid xs={12} item>\n              <Typography component={\"h3\"}>Intervalos</Typography>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"messageInterval-label\">\n                  Intervalo Randmico de Disparo\n                </InputLabel>\n                <Select\n                  name=\"messageInterval\"\n                  id=\"messageInterval\"\n                  labelId=\"messageInterval-label\"\n                  label=\"Intervalo Randmico de Disparo\"\n                  value={settings.messageInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"longerIntervalAfter-label\">\n                  Intervalo Maior Aps\n                </InputLabel>\n                <Select\n                  name=\"longerIntervalAfter\"\n                  id=\"longerIntervalAfter\"\n                  labelId=\"longerIntervalAfter-label\"\n                  label=\"Intervalo Maior Aps\"\n                  value={settings.longerIntervalAfter}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>No definido</MenuItem>\n                  <MenuItem value={5}>5 mensagens</MenuItem>\n                  <MenuItem value={10}>10 mensagens</MenuItem>\n                  <MenuItem value={15}>15 mensagens</MenuItem>\n                  <MenuItem value={20}>20 mensagens</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"greaterInterval-label\">\n                  Intervalo de Disparo Maior\n                </InputLabel>\n                <Select\n                  name=\"greaterInterval\"\n                  id=\"greaterInterval\"\n                  labelId=\"greaterInterval-label\"\n                  label=\"Intervalo de Disparo Maior\"\n                  value={settings.greaterInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={50}>50 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} className={classes.textRight} item>\n              <Button\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\n                color=\"primary\"\n                style={{ marginRight: 10 }}\n              >\n                Adicionar Varivel\n              </Button>\n              <Button\n                onClick={saveSettings}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Salvar Configuraes\n              </Button>\n            </Grid>\n            {showVariablesForm && (\n              <>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Atalho\"\n                    variant=\"outlined\"\n                    value={variable.key}\n                    name=\"key\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Contedo\"\n                    variant=\"outlined\"\n                    value={variable.value}\n                    name=\"value\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} className={classes.textRight} item>\n                  <Button\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\n                    color=\"primary\"\n                    style={{ marginRight: 10 }}\n                  >\n                    Fechar\n                  </Button>\n                  <Button\n                    onClick={addVariable}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  >\n                    Adicionar\n                  </Button>\n                </Grid>\n              </>\n            )}\n            {settings.variables.length > 0 && (\n              <Grid xs={12} className={classes.textRight} item>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\n                      <TableCell>Atalho</TableCell>\n                      <TableCell>Contedo</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {Array.isArray(settings.variables) &&\n                      settings.variables.map((v, k) => (\n                        <TableRow key={k}>\n                          <TableCell>\n                            <IconButton\n                              size=\"small\"\n                              onClick={() => {\n                                setSelectedKey(v.key);\n                                setConfirmationOpen(true);\n                              }}\n                            >\n                              <DeleteOutlineIcon />\n                            </IconButton>\n                          </TableCell>\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\n                          <TableCell>{v.value}</TableCell>\n                        </TableRow>\n                      ))}\n                  </TableBody>\n                </Table>\n              </Grid>\n            )}\n          </Grid>\n        </Box>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignsConfig;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { has, get, isNull } from \"lodash\";\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst CampaignReport = () => {\n  const classes = useStyles();\n\n  const { campaignId } = useParams();\n\n  const [campaign, setCampaign] = useState({});\n  const [validContacts, setValidContacts] = useState(0);\n  const [delivered, setDelivered] = useState(0);\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\n  const [confirmed, setConfirmed] = useState(0);\n  const [percent, setPercent] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n\n  const { datetimeToClient } = useDate();\n\n  useEffect(() => {\n    if (mounted.current) {\n      findCampaign();\n    }\n\n    return () => {\n      mounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current && has(campaign, \"shipping\")) {\n      if (has(campaign, \"contactList\")) {\n        const contactList = get(campaign, \"contactList\");\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\n        setValidContacts(valids.length);\n      }\n\n      if (has(campaign, \"shipping\")) {\n        const contacts = get(campaign, \"shipping\");\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\n        const confirmationRequested = contacts.filter(\n          (c) => !isNull(c.confirmationRequestedAt)\n        );\n        const confirmed = contacts.filter(\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\n        );\n        setDelivered(delivered.length);\n        setConfirmationRequested(confirmationRequested.length);\n        setConfirmed(confirmed.length);\n        setDelivered(delivered.length);\n      }\n    }\n  }, [campaign]);\n\n  useEffect(() => {\n    setPercent((delivered / validContacts) * 100);\n  }, [delivered, validContacts]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n      console.log(data);\n      if (data.record.id === +campaignId) {\n        setCampaign(data.record);\n\n        if (data.record.status === \"FINALIZADA\") {\n          setTimeout(() => {\n            findCampaign();\n          }, 5000);\n        }\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [campaignId]);\n\n  const findCampaign = async () => {\n    setLoading(true);\n    const { data } = await api.get(`/campaigns/${campaignId}`);\n    setCampaign(data);\n    setLoading(false);\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>Relatrio da {campaign.name || \"Campanha\"}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Typography variant=\"h6\" component=\"h2\">\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\n        </Typography>\n        <Grid spacing={2} container>\n          <Grid xs={12} item>\n            <LinearProgress\n              variant=\"determinate\"\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\n              value={percent}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Contatos Vlidos\"\n              value={validContacts}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.confirmation && (\n            <>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneIcon fontSize=\"inherit\" />}\n                  title=\"Confirmaes Solicitadas\"\n                  value={confirmationRequested}\n                  loading={loading}\n                />\n              </Grid>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\n                  title=\"Confirmaes\"\n                  value={confirmed}\n                  loading={loading}\n                />\n              </Grid>\n            </>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\n              title=\"Entregues\"\n              value={delivered}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.whatsappId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\n                title=\"Conexo\"\n                value={campaign.whatsapp.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          {campaign.contactListId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<ListAltIcon fontSize=\"inherit\" />}\n                title=\"Lista de Contatos\"\n                value={campaign.contactList.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\n              title=\"Agendamento\"\n              value={datetimeToClient(campaign.scheduledAt)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\n              title=\"Concluso\"\n              value={datetimeToClient(campaign.completedAt)}\n              loading={loading}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignReport;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst AnnouncementSchema = Yup.object().shape({\n  title: Yup.string().required(\"Obrigatrio\"),\n  text: Yup.string().required(\"Obrigatrio\"),\n});\n\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    title: \"\",\n    text: \"\",\n    priority: 3,\n    status: true,\n  };\n\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [announcement, setAnnouncement] = useState(initialState);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    try {\n      (async () => {\n        if (!announcementId) return;\n\n        const { data } = await api.get(`/announcements/${announcementId}`);\n        setAnnouncement((prevState) => {\n          return { ...prevState, ...data };\n        });\n      })();\n    } catch (err) {\n      toastError(err);\n    }\n  }, [announcementId, open]);\n\n  const handleClose = () => {\n    setAnnouncement(initialState);\n    setAttachment(null);\n    onClose();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveAnnouncement = async (values) => {\n    const announcementData = { ...values };\n    try {\n      if (announcementId) {\n        await api.put(`/announcements/${announcementId}`, announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(\n            `/announcements/${announcementId}/media-upload`,\n            formData\n          );\n        }\n      } else {\n        const { data } = await api.post(\"/announcements\", announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"announcements.toasts.success\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (announcement.mediaPath) {\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n      setAnnouncement((prev) => ({\n        ...prev,\n        mediaPath: null,\n      }));\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {announcementId\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\n            : `${i18n.t(\"announcements.dialog.add\")}`}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            accept=\".png,.jpg,.jpeg\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={announcement}\n          enableReinitialize={true}\n          validationSchema={AnnouncementSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveAnnouncement(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.title\")}\n                      name=\"title\"\n                      error={touched.title && Boolean(errors.title)}\n                      helperText={touched.title && errors.title}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.text\")}\n                      name=\"text\"\n                      error={touched.text && Boolean(errors.text)}\n                      helperText={touched.text && errors.text}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      multiline={true}\n                      rows={7}\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"status-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.status\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.status\")}\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\n                        labelId=\"status-selection-label\"\n                        id=\"status\"\n                        name=\"status\"\n                        error={touched.status && Boolean(errors.status)}\n                      >\n                        <MenuItem value={true}>Ativo</MenuItem>\n                        <MenuItem value={false}>Inativo</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"priority-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.priority\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\n                        placeholder={i18n.t(\n                          \"announcements.dialog.form.priority\"\n                        )}\n                        labelId=\"priority-selection-label\"\n                        id=\"priority\"\n                        name=\"priority\"\n                        error={touched.priority && Boolean(errors.priority)}\n                      >\n                        <MenuItem value={1}>Alta</MenuItem>\n                        <MenuItem value={2}>Mdia</MenuItem>\n                        <MenuItem value={3}>Baixa</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  {(announcement.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment ? attachment.name : announcement.mediaName}\n                      </Button>\n                      <IconButton\n                        onClick={() => setConfirmationOpen(true)}\n                        color=\"secondary\"\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {!attachment && !announcement.mediaPath && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {announcementId\n                    ? `${i18n.t(\"announcements.dialog.buttons.add\")}`\n                    : `${i18n.t(\"announcements.dialog.buttons.edit\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AnnouncementModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Announcements = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleCloseAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setSelectedAnnouncement(announcement);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleDeleteAnnouncement = async (announcementId) => {\n    try {\n      await api.delete(`/announcements/${announcementId}`);\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingAnnouncement(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const translatePriority = (val) => {\n    if (val === 1) {\n      return \"Alta\";\n    }\n    if (val === 2) {\n      return \"Mdia\";\n    }\n    if (val === 3) {\n      return \"Baixa\";\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingAnnouncement &&\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${\n            deletingAnnouncement.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement.id)}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <AnnouncementModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchAnnouncements();\n        }}\n        open={announcementModalOpen}\n        onClose={handleCloseAnnouncementModal}\n        aria-labelledby=\"form-dialog-title\"\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"announcements.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenAnnouncementModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"announcements.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.title\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.priority\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {announcements.map((announcement) => (\n                <TableRow key={announcement.id}>\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\n                  <TableCell align=\"center\">\n                    {translatePriority(announcement.priority)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.mediaName ?? \"Sem anexo\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.status ? \"ativo\" : \"inativo\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditAnnouncement(announcement)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingAnnouncement(announcement);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Announcements;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Chip,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    height: \"calc(100% - 58px)\",\n    overflow: \"hidden\",\n    borderRadius: 0,\n    backgroundColor: \"white\",\n  },\n  chatList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  listItem: {\n    cursor: \"pointer\",\n  },\n}));\n\nexport default function ChatList({\n  chats,\n  handleSelectChat,\n  handleDeleteChat,\n  handleEditChat,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\n  const [selectedChat, setSelectedChat] = useState({});\n\n  const { id } = useParams();\n\n  const goToMessages = async (chat) => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n\n    if (id !== chat.uuid) {\n      history.push(`/chats/${chat.uuid}`);\n      handleSelectChat(chat);\n    }\n  };\n\n  const handleDelete = () => {\n    handleDeleteChat(selectedChat);\n  };\n\n  const unreadMessages = (chat) => {\n    const currentUser = chat.users.find((u) => u.userId === user.id);\n    return currentUser.unreads;\n  };\n\n  const getPrimaryText = (chat) => {\n    const mainText = chat.title;\n    const unreads = unreadMessages(chat);\n    return (\n      <>\n        {mainText}\n        {unreads > 0 && (\n          <Chip\n            size=\"small\"\n            style={{ marginLeft: 5 }}\n            label={unreads}\n            color=\"secondary\"\n          />\n        )}\n      </>\n    );\n  };\n\n  const getSecondaryText = (chat) => {\n    return chat.lastMessage !== \"\"\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\n      : \"\";\n  };\n\n  const getItemStyle = (chat) => {\n    return {\n      borderLeft: chat.uuid === id ? \"6px solid #002d6e\" : null,\n      backgroundColor: chat.uuid === id ? \"#eee\" : null,\n    };\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={\"Excluir Conversa\"}\n        open={confirmationModal}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleDelete}\n      >\n        Esta ao no pode ser revertida, confirmar?\n      </ConfirmationModal>\n      <div className={classes.mainContainer}>\n        <div className={classes.chatList}>\n          <List>\n            {Array.isArray(chats) &&\n              chats.length > 0 &&\n              chats.map((chat, key) => (\n                <ListItem\n                  onClick={() => goToMessages(chat)}\n                  key={key}\n                  className={classes.listItem}\n                  style={getItemStyle(chat)}\n                  button\n                >\n                  <ListItemText\n                    primary={getPrimaryText(chat)}\n                    secondary={getSecondaryText(chat)}\n                  />\n                  {chat.ownerId === user.id && (\n                    <ListItemSecondaryAction>\n                      <IconButton\n                        onClick={() => {\n                          goToMessages(chat).then(() => {\n                            handleEditChat(chat);\n                          });\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                        style={{ marginRight: 5 }}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        onClick={() => {\n                          setSelectedChat(chat);\n                          setConfirmModalOpen(true);\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </ListItemSecondaryAction>\n                  )}\n                </ListItem>\n              ))}\n          </List>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  IconButton,\n  Input,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport SendIcon from \"@material-ui/icons/Send\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflow: \"hidden\",\n    borderRadius: 0,\n    height: \"100%\",\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  messageList: {\n    position: \"relative\",\n    overflowY: \"auto\",\n    height: \"100%\",\n    ...theme.scrollbarStyles,\n    backgroundColor: \"#eee\",\n  },\n  inputArea: {\n    position: \"relative\",\n    height: \"auto\",\n  },\n  input: {\n    padding: \"20px\",\n  },\n  buttonSend: {\n    margin: theme.spacing(1),\n  },\n  boxLeft: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px\",\n    position: \"relative\",\n    backgroundColor: \"white\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomLeftRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  boxRight: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px 10px 10px auto\",\n    position: \"relative\",\n    backgroundColor: \"#E3F3F9\",\n    textAlign: \"right\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomRightRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n}));\n\nexport default function ChatMessages({\n  chat,\n  messages,\n  handleSendMessage,\n  handleLoadMore,\n  scrollToBottomRef,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n  const baseRef = useRef();\n\n  const [contentMessage, setContentMessage] = useState(\"\");\n\n  const scrollToBottom = () => {\n    if (baseRef.current) {\n      baseRef.current.scrollIntoView({});\n    }\n  };\n\n  const unreadMessages = (chat) => {\n    if (chat !== undefined) {\n      const currentUser = chat.users.find((u) => u.userId === user.id);\n      return currentUser.unreads > 0;\n    }\n    return 0;\n  };\n\n  useEffect(() => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n    scrollToBottomRef.current = scrollToBottom;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleScroll = (e) => {\n    const { scrollTop } = e.currentTarget;\n    if (!pageInfo.hasMore || loading) return;\n    if (scrollTop < 600) {\n      handleLoadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.mainContainer}>\n      <div onScroll={handleScroll} className={classes.messageList}>\n        {Array.isArray(messages) &&\n          messages.map((item, key) => {\n            if (item.senderId === user.id) {\n              return (\n                <Box key={key} className={classes.boxRight}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            } else {\n              return (\n                <Box key={key} className={classes.boxLeft}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            }\n          })}\n        <div ref={baseRef}></div>\n      </div>\n      <div className={classes.inputArea}>\n        <FormControl variant=\"outlined\" fullWidth>\n          <Input\n            multiline\n            value={contentMessage}\n            onKeyUp={(e) => {\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\n                handleSendMessage(contentMessage);\n                setContentMessage(\"\");\n              }\n            }}\n            onChange={(e) => setContentMessage(e.target.value)}\n            className={classes.input}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={() => {\n                    if (contentMessage.trim() !== \"\") {\n                      handleSendMessage(contentMessage);\n                      setContentMessage(\"\");\n                    }\n                  }}\n                  className={classes.buttonSend}\n                >\n                  <SendIcon />\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </div>\n    </Paper>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  TextField,\n} from \"@material-ui/core\";\nimport ChatList from \"./ChatList\";\nimport ChatMessages from \"./ChatMessages\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport { has, isObject } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    padding: theme.spacing(2),\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  gridContainer: {\n    flex: 1,\n    height: \"100%\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n    backgroundColor: \"#eee\",\n  },\n  gridItem: {\n    height: \"100%\",\n  },\n  gridItemTab: {\n    height: \"92%\",\n    width: \"100%\",\n  },\n  btnContainer: {\n    textAlign: \"right\",\n    padding: 10,\n  },\n}));\n\nexport function ChatModal({\n  open,\n  chat,\n  type,\n  handleClose,\n  handleLoadNewChat,\n}) {\n  const [users, setUsers] = useState([]);\n  const [title, setTitle] = useState(\"\");\n\n  useEffect(() => {\n    setTitle(\"\");\n    setUsers([]);\n    if (type === \"edit\") {\n      const userList = chat.users.map((u) => ({\n        id: u.user.id,\n        name: u.user.name,\n      }));\n      setUsers(userList);\n      setTitle(chat.title);\n    }\n  }, [chat, open, type]);\n\n  const handleSave = async () => {\n    try {\n      if (type === \"edit\") {\n        await api.put(`/chats/${chat.id}`, {\n          users,\n          title,\n        });\n      } else {\n        const { data } = await api.post(\"/chats\", {\n          users,\n          title,\n        });\n        handleLoadNewChat(data);\n      }\n      handleClose();\n    } catch (err) {}\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">Conversa</DialogTitle>\n      <DialogContent>\n        <Grid spacing={2} container>\n          <Grid xs={12} style={{ padding: 18 }} item>\n            <TextField\n              label=\"Ttulo\"\n              placeholder=\"Ttulo\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n            />\n          </Grid>\n          <Grid xs={12} item>\n            <UsersFilter\n              onFiltered={(users) => setUsers(users)}\n              initialUsers={users}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n        <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\n          Salvar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction Chat(props) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n\n  const [showDialog, setShowDialog] = useState(false);\n  const [dialogType, setDialogType] = useState(\"new\");\n  const [currentChat, setCurrentChat] = useState({});\n  const [chats, setChats] = useState([]);\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\n  const [messages, setMessages] = useState([]);\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\n  const [messagesPage, setMessagesPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [tab, setTab] = useState(0);\n  const isMounted = useRef(true);\n  const scrollToBottomRef = useRef();\n  const { id } = useParams();\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      findChats().then((data) => {\n        const { records } = data;\n        if (records.length > 0) {\n          setChats(records);\n          setChatsPageInfo(data);\n\n          if (id && records.length) {\n            const chat = records.find((r) => r.uuid === id);\n            selectChat(chat);\n          }\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      findMessages(currentChat.id).then(() => {\n        if (typeof scrollToBottomRef.current === \"function\") {\n          setTimeout(() => {\n            scrollToBottomRef.current();\n          }, 300);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat-user-${user.id}`, (data) => {\n      if (data.action === \"create\") {\n        setChats((prev) => [data.record, ...prev]);\n      }\n      if (data.action === \"update\") {\n        const changedChats = chats.map((chat) => {\n          if (chat.id === data.record.id) {\n            setCurrentChat(data.record);\n            return {\n              ...data.record,\n            };\n          }\n          return chat;\n        });\n        setChats(changedChats);\n      }\n    });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"delete\") {\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\n        setChats(filteredChats);\n        setMessages([]);\n        setMessagesPage(1);\n        setMessagesPageInfo({ hasMore: false });\n        setCurrentChat({});\n        history.push(\"/chats\");\n      }\n    });\n\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, (data) => {\n        if (data.action === \"new-message\") {\n          setMessages((prev) => [...prev, data.newMessage]);\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.newMessage.chatId) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n\n        if (data.action === \"update\") {\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.chat.id) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n      });\n    }\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  const selectChat = (chat) => {\n    try {\n      setMessages([]);\n      setMessagesPage(1);\n      setCurrentChat(chat);\n      setTab(1);\n    } catch (err) {}\n  };\n\n  const sendMessage = async (contentMessage) => {\n    setLoading(true);\n    try {\n      await api.post(`/chats/${currentChat.id}/messages`, {\n        message: contentMessage,\n      });\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const deleteChat = async (chat) => {\n    try {\n      await api.delete(`/chats/${chat.id}`);\n    } catch (err) {}\n  };\n\n  const findMessages = async (chatId) => {\n    setLoading(true);\n    try {\n      const { data } = await api.get(\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\n      );\n      setMessagesPage((prev) => prev + 1);\n      setMessagesPageInfo(data);\n      setMessages((prev) => [...data.records, ...prev]);\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const loadMoreMessages = async () => {\n    if (!loading) {\n      findMessages(currentChat.id);\n    }\n  };\n\n  const findChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats\");\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const renderGrid = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid className={classes.gridItem} md={3} item>\n          {user.profile === \"admin\" && (\n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => {\n                  setDialogType(\"new\");\n                  setShowDialog(true);\n                }}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Nova\n              </Button>\n            </div>\n          )}\n          <ChatList\n            chats={chats}\n            pageInfo={chatsPageInfo}\n            loading={loading}\n            handleSelectChat={(chat) => selectChat(chat)}\n            handleDeleteChat={(chat) => deleteChat(chat)}\n            handleEditChat={() => {\n              setDialogType(\"edit\");\n              setShowDialog(true);\n            }}\n          />\n        </Grid>\n        <Grid className={classes.gridItem} md={9} item>\n          {isObject(currentChat) && has(currentChat, \"id\") && (\n            <ChatMessages\n              chat={currentChat}\n              scrollToBottomRef={scrollToBottomRef}\n              pageInfo={messagesPageInfo}\n              messages={messages}\n              loading={loading}\n              handleSendMessage={sendMessage}\n              handleLoadMore={loadMoreMessages}\n            />\n          )}\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderTab = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid md={12} item>\n          <Tabs\n            value={tab}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            onChange={(e, v) => setTab(v)}\n            aria-label=\"disabled tabs example\"\n          >\n            <Tab label=\"Chats\" />\n            <Tab label=\"Mensagens\" />\n          </Tabs>\n        </Grid>\n        {tab === 0 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => setShowDialog(true)}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Novo\n              </Button>\n            </div>\n            <ChatList\n              chats={chats}\n              pageInfo={chatsPageInfo}\n              loading={loading}\n              handleSelectChat={(chat) => selectChat(chat)}\n              handleDeleteChat={(chat) => deleteChat(chat)}\n            />\n          </Grid>\n        )}\n        {tab === 1 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            {isObject(currentChat) && has(currentChat, \"id\") && (\n              <ChatMessages\n                scrollToBottomRef={scrollToBottomRef}\n                pageInfo={messagesPageInfo}\n                messages={messages}\n                loading={loading}\n                handleSendMessage={sendMessage}\n                handleLoadMore={loadMoreMessages}\n              />\n            )}\n          </Grid>\n        )}\n      </Grid>\n    );\n  };\n\n  return (\n    <>\n      <ChatModal\n        type={dialogType}\n        open={showDialog}\n        chat={currentChat}\n        handleLoadNewChat={(data) => {\n          setMessages([]);\n          setMessagesPage(1);\n          setCurrentChat(data);\n          setTab(1);\n          history.push(`/chats/${data.uuid}`);\n        }}\n        handleClose={() => setShowDialog(false)}\n      />\n      <Paper className={classes.mainContainer}>\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\n      </Paper>\n    </>\n  );\n}\n\nexport default withWidth()(Chat);\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\nimport Signup from \"../pages/Signup/\";\nimport Login from \"../pages/Login/\";\nimport Connections from \"../pages/Connections/\";\nimport SettingsCustom from \"../pages/SettingsCustom/\";\nimport Users from \"../pages/Users\";\nimport Contacts from \"../pages/Contacts/\";\nimport Queues from \"../pages/Queues/\";\nimport Tags from \"../pages/Tags/\";\nimport MessagesAPI from \"../pages/MessagesAPI/\";\nimport Helps from \"../pages/Helps/\";\nimport ContactLists from \"../pages/ContactLists/\";\nimport ContactListItems from \"../pages/ContactListItems/\";\n// import Companies from \"../pages/Companies/\";\nimport QuickMessages from \"../pages/QuickMessages/\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Route from \"./Route\";\nimport Schedules from \"../pages/Schedules\";\nimport Campaigns from \"../pages/Campaigns\";\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\nimport CampaignReport from \"../pages/CampaignReport\";\nimport Annoucements from \"../pages/Annoucements\";\nimport Chat from \"../pages/Chat\";\n\nconst Routes = () => {\n  const [showCampaigns, setShowCampaigns] = useState(false);\n\n  useEffect(() => {\n    const cshow = localStorage.getItem(\"cshow\");\n    if (cshow !== undefined) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <TicketsContextProvider>\n          <Switch>\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={Signup} />\n            {/* <Route exact path=\"/create-company\" component={Companies} /> */}\n            <WhatsAppsProvider>\n              <LoggedInLayout>\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\n                <Route\n                  exact\n                  path=\"/tickets/:ticketId?\"\n                  component={TicketResponsiveContainer}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/connections\"\n                  component={Connections}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/quick-messages\"\n                  component={QuickMessages}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/schedules\"\n                  component={Schedules}\n                  isPrivate\n                />\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\n                <Route exact path=\"/users\" component={Users} isPrivate />\n                <Route\n                  exact\n                  path=\"/messages-api\"\n                  component={MessagesAPI}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/settings\"\n                  component={SettingsCustom}\n                  isPrivate\n                />\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\n                <Route\n                  exact\n                  path=\"/announcements\"\n                  component={Annoucements}\n                  isPrivate\n                />\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\n                {showCampaigns && (\n                  <>\n                    <Route\n                      exact\n                      path=\"/contact-lists\"\n                      component={ContactLists}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/contact-lists/:contactListId/contacts\"\n                      component={ContactListItems}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns\"\n                      component={Campaigns}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaign/:campaignId/report\"\n                      component={CampaignReport}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns-config\"\n                      component={CampaignsConfig}\n                      isPrivate\n                    />\n                  </>\n                )}\n              </LoggedInLayout>\n            </WhatsAppsProvider>\n          </Switch>\n          <ToastContainer autoClose={3000} />\n        </TicketsContextProvider>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\nimport Routes from \"./routes\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { ptBR } from \"@material-ui/core/locale\";\n\nconst App = () => {\n\tconst [locale, setLocale] = useState();\n\n  const theme = createTheme(\n    {\n      scrollbarStyles: {\n        '&::-webkit-scrollbar': {\n          width: '8px',\n          height: '8px',\n        },\n        '&::-webkit-scrollbar-thumb': {\n          boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n          backgroundColor: '#e8e8e8',\n        },\n      },\n      palette: {\n        primary: { main: '#128c7e' },\n      },\n    },\n    locale\n  );\n\n\tuseEffect(() => {\n\t\tconst i18nlocale = localStorage.getItem(\"i18nextLng\");\n\t\tconst browserLocale =\n\t\t\ti18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n\t\tif (browserLocale === \"ptBR\") {\n\t\t\tsetLocale(ptBR);\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<Routes />\n\t\t</ThemeProvider>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n"],"sourceRoot":""}